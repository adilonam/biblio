var V2=Object.defineProperty;var B2=(e,t,n)=>t in e?V2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Is=(e,t,n)=>(B2(e,typeof t!="symbol"?t+"":t,n),n);var Voe=z2((fi,hi)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function US(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QD={exports:{}},Ov={},XD={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=Symbol.for("react.element"),H2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),G2=Symbol.for("react.profiler"),q2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),Q2=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),J2=Symbol.for("react.memo"),Z2=Symbol.for("react.lazy"),IT=Symbol.iterator;function ej(e){return e===null||typeof e!="object"?null:(e=IT&&e[IT]||e["@@iterator"],typeof e=="function"?e:null)}var JD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZD=Object.assign,eA={};function pc(e,t,n){this.props=e,this.context=t,this.refs=eA,this.updater=n||JD}pc.prototype.isReactComponent={};pc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tA(){}tA.prototype=pc.prototype;function VS(e,t,n){this.props=e,this.context=t,this.refs=eA,this.updater=n||JD}var BS=VS.prototype=new tA;BS.constructor=VS;ZD(BS,pc.prototype);BS.isPureReactComponent=!0;var RT=Array.isArray,nA=Object.prototype.hasOwnProperty,zS={current:null},rA={key:!0,ref:!0,__self:!0,__source:!0};function iA(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)nA.call(t,r)&&!rA.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:eh,type:e,key:o,ref:a,props:i,_owner:zS.current}}function tj(e,t){return{$$typeof:eh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HS(e){return typeof e=="object"&&e!==null&&e.$$typeof===eh}function nj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kT=/\/+/g;function Fy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nj(""+e.key):t.toString(36)}function zm(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case eh:case H2:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Fy(a,0):r,RT(i)?(n="",e!=null&&(n=e.replace(kT,"$&/")+"/"),zm(i,t,n,"",function(u){return u})):i!=null&&(HS(i)&&(i=tj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kT,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",RT(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Fy(o,s);a+=zm(o,t,n,l,i)}else if(l=ej(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Fy(o,s++),a+=zm(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function im(e,t,n){if(e==null)return e;var r=[],i=0;return zm(e,r,"","",function(o){return t.call(n,o,i++)}),r}function rj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kr={current:null},Hm={transition:null},ij={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:Hm,ReactCurrentOwner:zS};Nt.Children={map:im,forEach:function(e,t,n){im(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return im(e,function(){t++}),t},toArray:function(e){return im(e,function(t){return t})||[]},only:function(e){if(!HS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nt.Component=pc;Nt.Fragment=W2;Nt.Profiler=G2;Nt.PureComponent=VS;Nt.StrictMode=K2;Nt.Suspense=X2;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ij;Nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ZD({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=zS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)nA.call(t,l)&&!rA.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:eh,type:e.type,key:i,ref:o,props:r,_owner:a}};Nt.createContext=function(e){return e={$$typeof:Y2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q2,_context:e},e.Consumer=e};Nt.createElement=iA;Nt.createFactory=function(e){var t=iA.bind(null,e);return t.type=e,t};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(e){return{$$typeof:Q2,render:e}};Nt.isValidElement=HS;Nt.lazy=function(e){return{$$typeof:Z2,_payload:{_status:-1,_result:e},_init:rj}};Nt.memo=function(e,t){return{$$typeof:J2,type:e,compare:t===void 0?null:t}};Nt.startTransition=function(e){var t=Hm.transition;Hm.transition={};try{e()}finally{Hm.transition=t}};Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nt.useCallback=function(e,t){return Kr.current.useCallback(e,t)};Nt.useContext=function(e){return Kr.current.useContext(e)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(e){return Kr.current.useDeferredValue(e)};Nt.useEffect=function(e,t){return Kr.current.useEffect(e,t)};Nt.useId=function(){return Kr.current.useId()};Nt.useImperativeHandle=function(e,t,n){return Kr.current.useImperativeHandle(e,t,n)};Nt.useInsertionEffect=function(e,t){return Kr.current.useInsertionEffect(e,t)};Nt.useLayoutEffect=function(e,t){return Kr.current.useLayoutEffect(e,t)};Nt.useMemo=function(e,t){return Kr.current.useMemo(e,t)};Nt.useReducer=function(e,t,n){return Kr.current.useReducer(e,t,n)};Nt.useRef=function(e){return Kr.current.useRef(e)};Nt.useState=function(e){return Kr.current.useState(e)};Nt.useSyncExternalStore=function(e,t,n){return Kr.current.useSyncExternalStore(e,t,n)};Nt.useTransition=function(){return Kr.current.useTransition()};Nt.version="18.2.0";XD.exports=Nt;var d=XD.exports;const Ni=US(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj=d,aj=Symbol.for("react.element"),sj=Symbol.for("react.fragment"),lj=Object.prototype.hasOwnProperty,uj=oj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cj={key:!0,ref:!0,__self:!0,__source:!0};function oA(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)lj.call(t,r)&&!cj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aj,type:e,key:o,ref:a,props:i,_owner:uj.current}}Ov.Fragment=sj;Ov.jsx=oA;Ov.jsxs=oA;QD.exports=Ov;var oe=QD.exports,mE={},aA={exports:{}},Si={},sA={exports:{}},lA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,ee){var U=ce.length;ce.push(ee);e:for(;0<U;){var Ee=U-1>>>1,de=ce[Ee];if(0<i(de,ee))ce[Ee]=ee,ce[U]=de,U=Ee;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var ee=ce[0],U=ce.pop();if(U!==ee){ce[0]=U;e:for(var Ee=0,de=ce.length,te=de>>>1;Ee<te;){var ie=2*(Ee+1)-1,q=ce[ie],O=ie+1,ne=ce[O];if(0>i(q,U))O<de&&0>i(ne,q)?(ce[Ee]=ne,ce[O]=U,Ee=O):(ce[Ee]=q,ce[ie]=U,Ee=ie);else if(O<de&&0>i(ne,U))ce[Ee]=ne,ce[O]=U,Ee=O;else break e}}return ee}function i(ce,ee){var U=ce.sortIndex-ee.sortIndex;return U!==0?U:ce.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,v=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ce){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=ce)r(u),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(u)}}function C(ce){if(E=!1,y(ce),!_)if(n(l)!==null)_=!0,Ve(A);else{var ee=n(u);ee!==null&&Ze(C,ee.startTime-ce)}}function A(ce,ee){_=!1,E&&(E=!1,w(K),K=-1),v=!0;var U=h;try{for(y(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||ce&&!ue());){var Ee=f.callback;if(typeof Ee=="function"){f.callback=null,h=f.priorityLevel;var de=Ee(f.expirationTime<=ee);ee=e.unstable_now(),typeof de=="function"?f.callback=de:f===n(l)&&r(l),y(ee)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var ie=n(u);ie!==null&&Ze(C,ie.startTime-ee),te=!1}return te}finally{f=null,h=U,v=!1}}var P=!1,L=null,K=-1,ae=5,le=-1;function ue(){return!(e.unstable_now()-le<ae)}function we(){if(L!==null){var ce=e.unstable_now();le=ce;var ee=!0;try{ee=L(!0,ce)}finally{ee?he():(P=!1,L=null)}}else P=!1}var he;if(typeof p=="function")he=function(){p(we)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,qe=Se.port2;Se.port1.onmessage=we,he=function(){qe.postMessage(null)}}else he=function(){S(we,0)};function Ve(ce){L=ce,P||(P=!0,he())}function Ze(ce,ee){K=S(function(){ce(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){_||v||(_=!0,Ve(A))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ce){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var U=h;h=ee;try{return ce()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,ee){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var U=h;h=ce;try{return ee()}finally{h=U}},e.unstable_scheduleCallback=function(ce,ee,U){var Ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Ee+U:Ee):U=Ee,ce){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=U+de,ce={id:c++,callback:ee,priorityLevel:ce,startTime:U,expirationTime:de,sortIndex:-1},U>Ee?(ce.sortIndex=U,t(u,ce),n(l)===null&&ce===n(u)&&(E?(w(K),K=-1):E=!0,Ze(C,U-Ee))):(ce.sortIndex=de,t(l,ce),_||v||(_=!0,Ve(A))),ce},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(ce){var ee=h;return function(){var U=h;h=ee;try{return ce.apply(this,arguments)}finally{h=U}}}})(lA);sA.exports=lA;var dj=sA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=d,pi=dj;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cA=new Set,of={};function _l(e,t){Vu(e,t),Vu(e+"Capture",t)}function Vu(e,t){for(of[e]=t,e=0;e<t.length;e++)cA.add(t[e])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gE=Object.prototype.hasOwnProperty,fj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DT={},AT={};function hj(e){return gE.call(AT,e)?!0:gE.call(DT,e)?!1:fj.test(e)?AT[e]=!0:(DT[e]=!0,!1)}function mj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gj(e,t,n,r){if(t===null||typeof t>"u"||mj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var WS=/[\-:]([a-z])/g;function KS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(WS,KS);wr[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(WS,KS);wr[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(WS,KS);wr[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function GS(e,t,n,r){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gj(t,n,i,r)&&(n=null),r||i===null?hj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ma=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,om=Symbol.for("react.element"),uu=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),qS=Symbol.for("react.strict_mode"),vE=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),YS=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),yE=Symbol.for("react.suspense_list"),QS=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),hA=Symbol.for("react.offscreen"),NT=Symbol.iterator;function ed(e){return e===null||typeof e!="object"?null:(e=NT&&e[NT]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,jy;function wd(e){if(jy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jy=t&&t[1]||""}return`
`+jy+e}var Uy=!1;function Vy(e,t){if(!e||Uy)return"";Uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Uy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wd(e):""}function vj(e){switch(e.tag){case 5:return wd(e.type);case 16:return wd("Lazy");case 13:return wd("Suspense");case 19:return wd("SuspenseList");case 0:case 2:case 15:return e=Vy(e.type,!1),e;case 11:return e=Vy(e.type.render,!1),e;case 1:return e=Vy(e.type,!0),e;default:return""}}function wE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cu:return"Fragment";case uu:return"Portal";case vE:return"Profiler";case qS:return"StrictMode";case pE:return"Suspense";case yE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fA:return(e.displayName||"Context")+".Consumer";case dA:return(e._context.displayName||"Context")+".Provider";case YS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case QS:return t=e.displayName||null,t!==null?t:wE(e.type)||"Memo";case Ra:t=e._payload,e=e._init;try{return wE(e(t))}catch{}}return null}function pj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wE(t);case 8:return t===qS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yj(e){var t=mA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function am(e){e._valueTracker||(e._valueTracker=yj(e))}function gA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function EE(e,t){var n=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function OT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vA(e,t){t=t.checked,t!=null&&GS(e,"checked",t,!1)}function _E(e,t){vA(e,t);var n=ts(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?SE(e,t.type,n):t.hasOwnProperty("defaultValue")&&SE(e,t.type,ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function SE(e,t,n){(t!=="number"||mg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ed=Array.isArray;function Ru(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ts(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Ed(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ts(n)}}function pA(e,t){var n=ts(t.value),r=ts(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CE(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sm,wA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sm=sm||document.createElement("div"),sm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function af(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wj=["Webkit","ms","Moz","O"];Object.keys(Nd).forEach(function(e){wj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nd[t]=Nd[e]})});function EA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nd.hasOwnProperty(e)&&Nd[e]?(""+t).trim():t+"px"}function _A(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ej=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function TE(e,t){if(t){if(Ej[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function IE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RE=null;function XS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kE=null,ku=null,Du=null;function LT(e){if(e=rh(e)){if(typeof kE!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=$v(t),kE(e.stateNode,e.type,t))}}function SA(e){ku?Du?Du.push(e):Du=[e]:ku=e}function bA(){if(ku){var e=ku,t=Du;if(Du=ku=null,LT(e),t)for(e=0;e<t.length;e++)LT(t[e])}}function CA(e,t){return e(t)}function TA(){}var By=!1;function IA(e,t,n){if(By)return e(t,n);By=!0;try{return CA(e,t,n)}finally{By=!1,(ku!==null||Du!==null)&&(TA(),bA())}}function sf(e,t){var n=e.stateNode;if(n===null)return null;var r=$v(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var DE=!1;if(na)try{var td={};Object.defineProperty(td,"passive",{get:function(){DE=!0}}),window.addEventListener("test",td,td),window.removeEventListener("test",td,td)}catch{DE=!1}function _j(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Od=!1,gg=null,vg=!1,AE=null,Sj={onError:function(e){Od=!0,gg=e}};function bj(e,t,n,r,i,o,a,s,l){Od=!1,gg=null,_j.apply(Sj,arguments)}function Cj(e,t,n,r,i,o,a,s,l){if(bj.apply(this,arguments),Od){if(Od){var u=gg;Od=!1,gg=null}else throw Error(xe(198));vg||(vg=!0,AE=u)}}function Sl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $T(e){if(Sl(e)!==e)throw Error(xe(188))}function Tj(e){var t=e.alternate;if(!t){if(t=Sl(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $T(i),e;if(o===r)return $T(i),t;o=o.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function kA(e){return e=Tj(e),e!==null?DA(e):null}function DA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DA(e);if(t!==null)return t;e=e.sibling}return null}var AA=pi.unstable_scheduleCallback,FT=pi.unstable_cancelCallback,Ij=pi.unstable_shouldYield,Rj=pi.unstable_requestPaint,Ln=pi.unstable_now,kj=pi.unstable_getCurrentPriorityLevel,JS=pi.unstable_ImmediatePriority,NA=pi.unstable_UserBlockingPriority,pg=pi.unstable_NormalPriority,Dj=pi.unstable_LowPriority,OA=pi.unstable_IdlePriority,xv=null,Ro=null;function Aj(e){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(xv,e,void 0,(e.current.flags&128)===128)}catch{}}var io=Math.clz32?Math.clz32:xj,Nj=Math.log,Oj=Math.LN2;function xj(e){return e>>>=0,e===0?32:31-(Nj(e)/Oj|0)|0}var lm=64,um=4194304;function _d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=_d(s):(o&=a,o!==0&&(r=_d(o)))}else a=n&~i,a!==0?r=_d(a):o!==0&&(r=_d(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-io(t),i=1<<n,r|=e[n],t&=~i;return r}function Mj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-io(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Mj(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function NE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xA(){var e=lm;return lm<<=1,!(lm&4194240)&&(lm=64),e}function zy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function th(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-io(t),e[t]=n}function Lj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-io(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ZS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-io(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var nn=0;function MA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PA,eb,LA,$A,FA,OE=!1,cm=[],Ua=null,Va=null,Ba=null,lf=new Map,uf=new Map,Da=[],$j="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jT(e,t){switch(e){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function nd(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=rh(t),t!==null&&eb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fj(e,t,n,r,i){switch(t){case"focusin":return Ua=nd(Ua,e,t,n,r,i),!0;case"dragenter":return Va=nd(Va,e,t,n,r,i),!0;case"mouseover":return Ba=nd(Ba,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lf.set(o,nd(lf.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uf.set(o,nd(uf.get(o)||null,e,t,n,r,i)),!0}return!1}function jA(e){var t=$s(e.target);if(t!==null){var n=Sl(t);if(n!==null){if(t=n.tag,t===13){if(t=RA(n),t!==null){e.blockedOn=t,FA(e.priority,function(){LA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);RE=r,n.target.dispatchEvent(r),RE=null}else return t=rh(n),t!==null&&eb(t),e.blockedOn=n,!1;t.shift()}return!0}function UT(e,t,n){Wm(e)&&n.delete(t)}function jj(){OE=!1,Ua!==null&&Wm(Ua)&&(Ua=null),Va!==null&&Wm(Va)&&(Va=null),Ba!==null&&Wm(Ba)&&(Ba=null),lf.forEach(UT),uf.forEach(UT)}function rd(e,t){e.blockedOn===t&&(e.blockedOn=null,OE||(OE=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,jj)))}function cf(e){function t(i){return rd(i,e)}if(0<cm.length){rd(cm[0],e);for(var n=1;n<cm.length;n++){var r=cm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ua!==null&&rd(Ua,e),Va!==null&&rd(Va,e),Ba!==null&&rd(Ba,e),lf.forEach(t),uf.forEach(t),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)jA(n),n.blockedOn===null&&Da.shift()}var Au=ma.ReactCurrentBatchConfig,wg=!0;function Uj(e,t,n,r){var i=nn,o=Au.transition;Au.transition=null;try{nn=1,tb(e,t,n,r)}finally{nn=i,Au.transition=o}}function Vj(e,t,n,r){var i=nn,o=Au.transition;Au.transition=null;try{nn=4,tb(e,t,n,r)}finally{nn=i,Au.transition=o}}function tb(e,t,n,r){if(wg){var i=xE(e,t,n,r);if(i===null)Zy(e,t,r,Eg,n),jT(e,r);else if(Fj(i,e,t,n,r))r.stopPropagation();else if(jT(e,r),t&4&&-1<$j.indexOf(e)){for(;i!==null;){var o=rh(i);if(o!==null&&PA(o),o=xE(e,t,n,r),o===null&&Zy(e,t,r,Eg,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zy(e,t,r,null,n)}}var Eg=null;function xE(e,t,n,r){if(Eg=null,e=XS(r),e=$s(e),e!==null)if(t=Sl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eg=e,null}function UA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kj()){case JS:return 1;case NA:return 4;case pg:case Dj:return 16;case OA:return 536870912;default:return 16}default:return 16}}var La=null,nb=null,Km=null;function VA(){if(Km)return Km;var e,t=nb,n=t.length,r,i="value"in La?La.value:La.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Km=i.slice(e,1<r?1-r:void 0)}function Gm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dm(){return!0}function VT(){return!1}function bi(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dm:VT,this.isPropagationStopped=VT,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),t}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=bi(yc),nh=Dn({},yc,{view:0,detail:0}),Bj=bi(nh),Hy,Wy,id,Mv=Dn({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==id&&(id&&e.type==="mousemove"?(Hy=e.screenX-id.screenX,Wy=e.screenY-id.screenY):Wy=Hy=0,id=e),Hy)},movementY:function(e){return"movementY"in e?e.movementY:Wy}}),BT=bi(Mv),zj=Dn({},Mv,{dataTransfer:0}),Hj=bi(zj),Wj=Dn({},nh,{relatedTarget:0}),Ky=bi(Wj),Kj=Dn({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),Gj=bi(Kj),qj=Dn({},yc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yj=bi(qj),Qj=Dn({},yc,{data:0}),zT=bi(Qj),Xj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zj[e])?!!t[e]:!1}function ib(){return eU}var tU=Dn({},nh,{key:function(e){if(e.key){var t=Xj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(e){return e.type==="keypress"?Gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nU=bi(tU),rU=Dn({},Mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HT=bi(rU),iU=Dn({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),oU=bi(iU),aU=Dn({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),sU=bi(aU),lU=Dn({},Mv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uU=bi(lU),cU=[9,13,27,32],ob=na&&"CompositionEvent"in window,xd=null;na&&"documentMode"in document&&(xd=document.documentMode);var dU=na&&"TextEvent"in window&&!xd,BA=na&&(!ob||xd&&8<xd&&11>=xd),WT=String.fromCharCode(32),KT=!1;function zA(e,t){switch(e){case"keyup":return cU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var du=!1;function fU(e,t){switch(e){case"compositionend":return HA(t);case"keypress":return t.which!==32?null:(KT=!0,WT);case"textInput":return e=t.data,e===WT&&KT?null:e;default:return null}}function hU(e,t){if(du)return e==="compositionend"||!ob&&zA(e,t)?(e=VA(),Km=nb=La=null,du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BA&&t.locale!=="ko"?null:t.data;default:return null}}var mU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mU[e.type]:t==="textarea"}function WA(e,t,n,r){SA(r),t=_g(t,"onChange"),0<t.length&&(n=new rb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Md=null,df=null;function gU(e){nN(e,0)}function Pv(e){var t=mu(e);if(gA(t))return e}function vU(e,t){if(e==="change")return t}var KA=!1;if(na){var Gy;if(na){var qy="oninput"in document;if(!qy){var qT=document.createElement("div");qT.setAttribute("oninput","return;"),qy=typeof qT.oninput=="function"}Gy=qy}else Gy=!1;KA=Gy&&(!document.documentMode||9<document.documentMode)}function YT(){Md&&(Md.detachEvent("onpropertychange",GA),df=Md=null)}function GA(e){if(e.propertyName==="value"&&Pv(df)){var t=[];WA(t,df,e,XS(e)),IA(gU,t)}}function pU(e,t,n){e==="focusin"?(YT(),Md=t,df=n,Md.attachEvent("onpropertychange",GA)):e==="focusout"&&YT()}function yU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pv(df)}function wU(e,t){if(e==="click")return Pv(t)}function EU(e,t){if(e==="input"||e==="change")return Pv(t)}function _U(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:_U;function ff(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gE.call(t,i)||!lo(e[i],t[i]))return!1}return!0}function QT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XT(e,t){var n=QT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QT(n)}}function qA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YA(){for(var e=window,t=mg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mg(e.document)}return t}function ab(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SU(e){var t=YA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qA(n.ownerDocument.documentElement,n)){if(r!==null&&ab(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=XT(n,o);var a=XT(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bU=na&&"documentMode"in document&&11>=document.documentMode,fu=null,ME=null,Pd=null,PE=!1;function JT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;PE||fu==null||fu!==mg(r)||(r=fu,"selectionStart"in r&&ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pd&&ff(Pd,r)||(Pd=r,r=_g(ME,"onSelect"),0<r.length&&(t=new rb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fu)))}function fm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hu={animationend:fm("Animation","AnimationEnd"),animationiteration:fm("Animation","AnimationIteration"),animationstart:fm("Animation","AnimationStart"),transitionend:fm("Transition","TransitionEnd")},Yy={},QA={};na&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function Lv(e){if(Yy[e])return Yy[e];if(!hu[e])return e;var t=hu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QA)return Yy[e]=t[n];return e}var XA=Lv("animationend"),JA=Lv("animationiteration"),ZA=Lv("animationstart"),eN=Lv("transitionend"),tN=new Map,ZT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){tN.set(e,t),_l(t,[e])}for(var Qy=0;Qy<ZT.length;Qy++){var Xy=ZT[Qy],CU=Xy.toLowerCase(),TU=Xy[0].toUpperCase()+Xy.slice(1);fs(CU,"on"+TU)}fs(XA,"onAnimationEnd");fs(JA,"onAnimationIteration");fs(ZA,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(eN,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sd));function e1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cj(r,t,void 0,e),e.currentTarget=null}function nN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;e1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;e1(i,s,u),o=l}}}if(vg)throw e=AE,vg=!1,AE=null,e}function gn(e,t){var n=t[UE];n===void 0&&(n=t[UE]=new Set);var r=e+"__bubble";n.has(r)||(rN(t,e,2,!1),n.add(r))}function Jy(e,t,n){var r=0;t&&(r|=4),rN(n,e,r,t)}var hm="_reactListening"+Math.random().toString(36).slice(2);function hf(e){if(!e[hm]){e[hm]=!0,cA.forEach(function(n){n!=="selectionchange"&&(IU.has(n)||Jy(n,!1,e),Jy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hm]||(t[hm]=!0,Jy("selectionchange",!1,t))}}function rN(e,t,n,r){switch(UA(t)){case 1:var i=Uj;break;case 4:i=Vj;break;default:i=tb}n=i.bind(null,t,n,e),i=void 0,!DE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zy(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=$s(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}IA(function(){var u=o,c=XS(n),f=[];e:{var h=tN.get(e);if(h!==void 0){var v=rb,_=e;switch(e){case"keypress":if(Gm(n)===0)break e;case"keydown":case"keyup":v=nU;break;case"focusin":_="focus",v=Ky;break;case"focusout":_="blur",v=Ky;break;case"beforeblur":case"afterblur":v=Ky;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=BT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=oU;break;case XA:case JA:case ZA:v=Gj;break;case eN:v=sU;break;case"scroll":v=Bj;break;case"wheel":v=uU;break;case"copy":case"cut":case"paste":v=Yj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=HT}var E=(t&4)!==0,S=!E&&e==="scroll",w=E?h!==null?h+"Capture":null:h;E=[];for(var p=u,y;p!==null;){y=p;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,w!==null&&(C=sf(p,w),C!=null&&E.push(mf(p,C,y)))),S)break;p=p.return}0<E.length&&(h=new v(h,_,null,n,c),f.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==RE&&(_=n.relatedTarget||n.fromElement)&&($s(_)||_[ra]))break e;if((v||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=u,_=_?$s(_):null,_!==null&&(S=Sl(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=u),v!==_)){if(E=BT,C="onMouseLeave",w="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=HT,C="onPointerLeave",w="onPointerEnter",p="pointer"),S=v==null?h:mu(v),y=_==null?h:mu(_),h=new E(C,p+"leave",v,n,c),h.target=S,h.relatedTarget=y,C=null,$s(c)===u&&(E=new E(w,p+"enter",_,n,c),E.target=y,E.relatedTarget=S,C=E),S=C,v&&_)t:{for(E=v,w=_,p=0,y=E;y;y=Ql(y))p++;for(y=0,C=w;C;C=Ql(C))y++;for(;0<p-y;)E=Ql(E),p--;for(;0<y-p;)w=Ql(w),y--;for(;p--;){if(E===w||w!==null&&E===w.alternate)break t;E=Ql(E),w=Ql(w)}E=null}else E=null;v!==null&&t1(f,h,v,E,!1),_!==null&&S!==null&&t1(f,S,_,E,!0)}}e:{if(h=u?mu(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var A=vU;else if(GT(h))if(KA)A=EU;else{A=yU;var P=pU}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=wU);if(A&&(A=A(e,u))){WA(f,A,n,c);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&SE(h,"number",h.value)}switch(P=u?mu(u):window,e){case"focusin":(GT(P)||P.contentEditable==="true")&&(fu=P,ME=u,Pd=null);break;case"focusout":Pd=ME=fu=null;break;case"mousedown":PE=!0;break;case"contextmenu":case"mouseup":case"dragend":PE=!1,JT(f,n,c);break;case"selectionchange":if(bU)break;case"keydown":case"keyup":JT(f,n,c)}var L;if(ob)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else du?zA(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(BA&&n.locale!=="ko"&&(du||K!=="onCompositionStart"?K==="onCompositionEnd"&&du&&(L=VA()):(La=c,nb="value"in La?La.value:La.textContent,du=!0)),P=_g(u,K),0<P.length&&(K=new zT(K,e,null,n,c),f.push({event:K,listeners:P}),L?K.data=L:(L=HA(n),L!==null&&(K.data=L)))),(L=dU?fU(e,n):hU(e,n))&&(u=_g(u,"onBeforeInput"),0<u.length&&(c=new zT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=L))}nN(f,t)})}function mf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _g(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=sf(e,n),o!=null&&r.unshift(mf(e,o,i)),o=sf(e,t),o!=null&&r.push(mf(e,o,i))),e=e.return}return r}function Ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t1(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=sf(n,o),l!=null&&a.unshift(mf(n,l,s))):i||(l=sf(n,o),l!=null&&a.push(mf(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var RU=/\r\n?/g,kU=/\u0000|\uFFFD/g;function n1(e){return(typeof e=="string"?e:""+e).replace(RU,`
`).replace(kU,"")}function mm(e,t,n){if(t=n1(t),n1(e)!==t&&n)throw Error(xe(425))}function Sg(){}var LE=null,$E=null;function FE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jE=typeof setTimeout=="function"?setTimeout:void 0,DU=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,AU=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(e){return r1.resolve(null).then(e).catch(NU)}:jE;function NU(e){setTimeout(function(){throw e})}function ew(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),cf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cf(t)}function za(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wc=Math.random().toString(36).slice(2),So="__reactFiber$"+wc,gf="__reactProps$"+wc,ra="__reactContainer$"+wc,UE="__reactEvents$"+wc,OU="__reactListeners$"+wc,xU="__reactHandles$"+wc;function $s(e){var t=e[So];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ra]||n[So]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=i1(e);e!==null;){if(n=e[So])return n;e=i1(e)}return t}e=n,n=e.parentNode}return null}function rh(e){return e=e[So]||e[ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function $v(e){return e[gf]||null}var VE=[],gu=-1;function hs(e){return{current:e}}function wn(e){0>gu||(e.current=VE[gu],VE[gu]=null,gu--)}function mn(e,t){gu++,VE[gu]=e.current,e.current=t}var ns={},Pr=hs(ns),ei=hs(!1),tl=ns;function Bu(e,t){var n=e.type.contextTypes;if(!n)return ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ti(e){return e=e.childContextTypes,e!=null}function bg(){wn(ei),wn(Pr)}function o1(e,t,n){if(Pr.current!==ns)throw Error(xe(168));mn(Pr,t),mn(ei,n)}function iN(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(xe(108,pj(e)||"Unknown",i));return Dn({},n,r)}function Cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ns,tl=Pr.current,mn(Pr,e),mn(ei,ei.current),!0}function a1(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=iN(e,t,tl),r.__reactInternalMemoizedMergedChildContext=e,wn(ei),wn(Pr),mn(Pr,e)):wn(ei),mn(ei,n)}var zo=null,Fv=!1,tw=!1;function oN(e){zo===null?zo=[e]:zo.push(e)}function MU(e){Fv=!0,oN(e)}function ms(){if(!tw&&zo!==null){tw=!0;var e=0,t=nn;try{var n=zo;for(nn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zo=null,Fv=!1}catch(i){throw zo!==null&&(zo=zo.slice(e+1)),AA(JS,ms),i}finally{nn=t,tw=!1}}return null}var vu=[],pu=0,Tg=null,Ig=0,ki=[],Di=0,nl=null,Ho=1,Wo="";function Ds(e,t){vu[pu++]=Ig,vu[pu++]=Tg,Tg=e,Ig=t}function aN(e,t,n){ki[Di++]=Ho,ki[Di++]=Wo,ki[Di++]=nl,nl=e;var r=Ho;e=Wo;var i=32-io(r)-1;r&=~(1<<i),n+=1;var o=32-io(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ho=1<<32-io(t)+i|n<<i|r,Wo=o+e}else Ho=1<<o|n<<i|r,Wo=e}function sb(e){e.return!==null&&(Ds(e,1),aN(e,1,0))}function lb(e){for(;e===Tg;)Tg=vu[--pu],vu[pu]=null,Ig=vu[--pu],vu[pu]=null;for(;e===nl;)nl=ki[--Di],ki[Di]=null,Wo=ki[--Di],ki[Di]=null,Ho=ki[--Di],ki[Di]=null}var mi=null,ci=null,bn=!1,Ji=null;function sN(e,t){var n=Oi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function s1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,ci=za(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,ci=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nl!==null?{id:Ho,overflow:Wo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mi=e,ci=null,!0):!1;default:return!1}}function BE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zE(e){if(bn){var t=ci;if(t){var n=t;if(!s1(e,t)){if(BE(e))throw Error(xe(418));t=za(n.nextSibling);var r=mi;t&&s1(e,t)?sN(r,n):(e.flags=e.flags&-4097|2,bn=!1,mi=e)}}else{if(BE(e))throw Error(xe(418));e.flags=e.flags&-4097|2,bn=!1,mi=e}}}function l1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function gm(e){if(e!==mi)return!1;if(!bn)return l1(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!FE(e.type,e.memoizedProps)),t&&(t=ci)){if(BE(e))throw lN(),Error(xe(418));for(;t;)sN(e,t),t=za(t.nextSibling)}if(l1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ci=za(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ci=null}}else ci=mi?za(e.stateNode.nextSibling):null;return!0}function lN(){for(var e=ci;e;)e=za(e.nextSibling)}function zu(){ci=mi=null,bn=!1}function ub(e){Ji===null?Ji=[e]:Ji.push(e)}var PU=ma.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Rg=hs(null),kg=null,yu=null,cb=null;function db(){cb=yu=kg=null}function fb(e){var t=Rg.current;wn(Rg),e._currentValue=t}function HE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nu(e,t){kg=e,cb=yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jr=!0),e.firstContext=null)}function $i(e){var t=e._currentValue;if(cb!==e)if(e={context:e,memoizedValue:t,next:null},yu===null){if(kg===null)throw Error(xe(308));yu=e,kg.dependencies={lanes:0,firstContext:e}}else yu=yu.next=e;return t}var Fs=null;function hb(e){Fs===null?Fs=[e]:Fs.push(e)}function uN(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hb(t)):(n.next=i.next,i.next=n),t.interleaved=n,ia(e,r)}function ia(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ka=!1;function mb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ia(e,n)}return i=r.interleaved,i===null?(t.next=t,hb(r)):(t.next=i.next,i.next=t),r.interleaved=t,ia(e,n)}function qm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZS(e,n)}}function u1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dg(e,t,n,r){var i=e.updateQueue;ka=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,v=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=e,E=s;switch(h=t,v=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(v,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,h=typeof _=="function"?_.call(v,f,h):_,h==null)break e;f=Dn({},f,h);break e;case 2:ka=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else v={eventTime:v,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=v,l=f):c=c.next=v,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);il|=a,e.lanes=a,e.memoizedState=f}}function c1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var dN=new uA.Component().refs;function WE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jv={isMounted:function(e){return(e=e._reactInternals)?Sl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ka(e),o=Xo(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ha(e,o,i),t!==null&&(oo(t,e,i,r),qm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zr(),i=Ka(e),o=Xo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ha(e,o,i),t!==null&&(oo(t,e,i,r),qm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zr(),r=Ka(e),i=Xo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ha(e,i,r),t!==null&&(oo(t,e,r,n),qm(t,e,r))}};function d1(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ff(n,r)||!ff(i,o):!0}function fN(e,t,n){var r=!1,i=ns,o=t.contextType;return typeof o=="object"&&o!==null?o=$i(o):(i=ti(t)?tl:Pr.current,r=t.contextTypes,o=(r=r!=null)?Bu(e,i):ns),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function f1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jv.enqueueReplaceState(t,t.state,null)}function KE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=dN,mb(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$i(o):(o=ti(t)?tl:Pr.current,i.context=Bu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(WE(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jv.enqueueReplaceState(i,i.state,null),Dg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function od(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===dN&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function vm(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h1(e){var t=e._init;return t(e._payload)}function hN(e){function t(w,p){if(e){var y=w.deletions;y===null?(w.deletions=[p],w.flags|=16):y.push(p)}}function n(w,p){if(!e)return null;for(;p!==null;)t(w,p),p=p.sibling;return null}function r(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function i(w,p){return w=Ga(w,p),w.index=0,w.sibling=null,w}function o(w,p,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<p?(w.flags|=2,p):y):(w.flags|=2,p)):(w.flags|=1048576,p)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,p,y,C){return p===null||p.tag!==6?(p=lw(y,w.mode,C),p.return=w,p):(p=i(p,y),p.return=w,p)}function l(w,p,y,C){var A=y.type;return A===cu?c(w,p,y.props.children,C,y.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ra&&h1(A)===p.type)?(C=i(p,y.props),C.ref=od(w,p,y),C.return=w,C):(C=eg(y.type,y.key,y.props,null,w.mode,C),C.ref=od(w,p,y),C.return=w,C)}function u(w,p,y,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=uw(y,w.mode,C),p.return=w,p):(p=i(p,y.children||[]),p.return=w,p)}function c(w,p,y,C,A){return p===null||p.tag!==7?(p=Ys(y,w.mode,C,A),p.return=w,p):(p=i(p,y),p.return=w,p)}function f(w,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=lw(""+p,w.mode,y),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case om:return y=eg(p.type,p.key,p.props,null,w.mode,y),y.ref=od(w,null,p),y.return=w,y;case uu:return p=uw(p,w.mode,y),p.return=w,p;case Ra:var C=p._init;return f(w,C(p._payload),y)}if(Ed(p)||ed(p))return p=Ys(p,w.mode,y,null),p.return=w,p;vm(w,p)}return null}function h(w,p,y,C){var A=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:s(w,p,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case om:return y.key===A?l(w,p,y,C):null;case uu:return y.key===A?u(w,p,y,C):null;case Ra:return A=y._init,h(w,p,A(y._payload),C)}if(Ed(y)||ed(y))return A!==null?null:c(w,p,y,C,null);vm(w,y)}return null}function v(w,p,y,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(y)||null,s(p,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case om:return w=w.get(C.key===null?y:C.key)||null,l(p,w,C,A);case uu:return w=w.get(C.key===null?y:C.key)||null,u(p,w,C,A);case Ra:var P=C._init;return v(w,p,y,P(C._payload),A)}if(Ed(C)||ed(C))return w=w.get(y)||null,c(p,w,C,A,null);vm(p,C)}return null}function _(w,p,y,C){for(var A=null,P=null,L=p,K=p=0,ae=null;L!==null&&K<y.length;K++){L.index>K?(ae=L,L=null):ae=L.sibling;var le=h(w,L,y[K],C);if(le===null){L===null&&(L=ae);break}e&&L&&le.alternate===null&&t(w,L),p=o(le,p,K),P===null?A=le:P.sibling=le,P=le,L=ae}if(K===y.length)return n(w,L),bn&&Ds(w,K),A;if(L===null){for(;K<y.length;K++)L=f(w,y[K],C),L!==null&&(p=o(L,p,K),P===null?A=L:P.sibling=L,P=L);return bn&&Ds(w,K),A}for(L=r(w,L);K<y.length;K++)ae=v(L,w,K,y[K],C),ae!==null&&(e&&ae.alternate!==null&&L.delete(ae.key===null?K:ae.key),p=o(ae,p,K),P===null?A=ae:P.sibling=ae,P=ae);return e&&L.forEach(function(ue){return t(w,ue)}),bn&&Ds(w,K),A}function E(w,p,y,C){var A=ed(y);if(typeof A!="function")throw Error(xe(150));if(y=A.call(y),y==null)throw Error(xe(151));for(var P=A=null,L=p,K=p=0,ae=null,le=y.next();L!==null&&!le.done;K++,le=y.next()){L.index>K?(ae=L,L=null):ae=L.sibling;var ue=h(w,L,le.value,C);if(ue===null){L===null&&(L=ae);break}e&&L&&ue.alternate===null&&t(w,L),p=o(ue,p,K),P===null?A=ue:P.sibling=ue,P=ue,L=ae}if(le.done)return n(w,L),bn&&Ds(w,K),A;if(L===null){for(;!le.done;K++,le=y.next())le=f(w,le.value,C),le!==null&&(p=o(le,p,K),P===null?A=le:P.sibling=le,P=le);return bn&&Ds(w,K),A}for(L=r(w,L);!le.done;K++,le=y.next())le=v(L,w,K,le.value,C),le!==null&&(e&&le.alternate!==null&&L.delete(le.key===null?K:le.key),p=o(le,p,K),P===null?A=le:P.sibling=le,P=le);return e&&L.forEach(function(we){return t(w,we)}),bn&&Ds(w,K),A}function S(w,p,y,C){if(typeof y=="object"&&y!==null&&y.type===cu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case om:e:{for(var A=y.key,P=p;P!==null;){if(P.key===A){if(A=y.type,A===cu){if(P.tag===7){n(w,P.sibling),p=i(P,y.props.children),p.return=w,w=p;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ra&&h1(A)===P.type){n(w,P.sibling),p=i(P,y.props),p.ref=od(w,P,y),p.return=w,w=p;break e}n(w,P);break}else t(w,P);P=P.sibling}y.type===cu?(p=Ys(y.props.children,w.mode,C,y.key),p.return=w,w=p):(C=eg(y.type,y.key,y.props,null,w.mode,C),C.ref=od(w,p,y),C.return=w,w=C)}return a(w);case uu:e:{for(P=y.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(w,p.sibling),p=i(p,y.children||[]),p.return=w,w=p;break e}else{n(w,p);break}else t(w,p);p=p.sibling}p=uw(y,w.mode,C),p.return=w,w=p}return a(w);case Ra:return P=y._init,S(w,p,P(y._payload),C)}if(Ed(y))return _(w,p,y,C);if(ed(y))return E(w,p,y,C);vm(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(w,p.sibling),p=i(p,y),p.return=w,w=p):(n(w,p),p=lw(y,w.mode,C),p.return=w,w=p),a(w)):n(w,p)}return S}var Hu=hN(!0),mN=hN(!1),ih={},ko=hs(ih),vf=hs(ih),pf=hs(ih);function js(e){if(e===ih)throw Error(xe(174));return e}function gb(e,t){switch(mn(pf,t),mn(vf,e),mn(ko,ih),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:CE(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=CE(t,e)}wn(ko),mn(ko,t)}function Wu(){wn(ko),wn(vf),wn(pf)}function gN(e){js(pf.current);var t=js(ko.current),n=CE(t,e.type);t!==n&&(mn(vf,e),mn(ko,n))}function vb(e){vf.current===e&&(wn(ko),wn(vf))}var Rn=hs(0);function Ag(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nw=[];function pb(){for(var e=0;e<nw.length;e++)nw[e]._workInProgressVersionPrimary=null;nw.length=0}var Ym=ma.ReactCurrentDispatcher,rw=ma.ReactCurrentBatchConfig,rl=0,kn=null,Gn=null,rr=null,Ng=!1,Ld=!1,yf=0,LU=0;function Er(){throw Error(xe(321))}function yb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function wb(e,t,n,r,i,o){if(rl=o,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ym.current=e===null||e.memoizedState===null?UU:VU,e=n(r,i),Ld){o=0;do{if(Ld=!1,yf=0,25<=o)throw Error(xe(301));o+=1,rr=Gn=null,t.updateQueue=null,Ym.current=BU,e=n(r,i)}while(Ld)}if(Ym.current=Og,t=Gn!==null&&Gn.next!==null,rl=0,rr=Gn=kn=null,Ng=!1,t)throw Error(xe(300));return e}function Eb(){var e=yf!==0;return yf=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?kn.memoizedState=rr=e:rr=rr.next=e,rr}function Fi(){if(Gn===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=Gn.next;var t=rr===null?kn.memoizedState:rr.next;if(t!==null)rr=t,Gn=e;else{if(e===null)throw Error(xe(310));Gn=e,e={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},rr===null?kn.memoizedState=rr=e:rr=rr.next=e}return rr}function wf(e,t){return typeof t=="function"?t(e):t}function iw(e){var t=Fi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=Gn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((rl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,kn.lanes|=c,il|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,lo(r,t.memoizedState)||(Jr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,kn.lanes|=o,il|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ow(e){var t=Fi(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);lo(o,t.memoizedState)||(Jr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vN(){}function pN(e,t){var n=kn,r=Fi(),i=t(),o=!lo(r.memoizedState,i);if(o&&(r.memoizedState=i,Jr=!0),r=r.queue,_b(EN.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||rr!==null&&rr.memoizedState.tag&1){if(n.flags|=2048,Ef(9,wN.bind(null,n,r,i,t),void 0,null),ar===null)throw Error(xe(349));rl&30||yN(n,t,i)}return i}function yN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wN(e,t,n,r){t.value=n,t.getSnapshot=r,_N(t)&&SN(e)}function EN(e,t,n){return n(function(){_N(t)&&SN(e)})}function _N(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch{return!0}}function SN(e){var t=ia(e,1);t!==null&&oo(t,e,1,-1)}function m1(e){var t=_o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:e},t.queue=e,e=e.dispatch=jU.bind(null,kn,e),[t.memoizedState,e]}function Ef(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bN(){return Fi().memoizedState}function Qm(e,t,n,r){var i=_o();kn.flags|=e,i.memoizedState=Ef(1|t,n,void 0,r===void 0?null:r)}function Uv(e,t,n,r){var i=Fi();r=r===void 0?null:r;var o=void 0;if(Gn!==null){var a=Gn.memoizedState;if(o=a.destroy,r!==null&&yb(r,a.deps)){i.memoizedState=Ef(t,n,o,r);return}}kn.flags|=e,i.memoizedState=Ef(1|t,n,o,r)}function g1(e,t){return Qm(8390656,8,e,t)}function _b(e,t){return Uv(2048,8,e,t)}function CN(e,t){return Uv(4,2,e,t)}function TN(e,t){return Uv(4,4,e,t)}function IN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RN(e,t,n){return n=n!=null?n.concat([e]):null,Uv(4,4,IN.bind(null,t,e),n)}function Sb(){}function kN(e,t){var n=Fi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DN(e,t){var n=Fi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AN(e,t,n){return rl&21?(lo(n,t)||(n=xA(),kn.lanes|=n,il|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=n)}function $U(e,t){var n=nn;nn=n!==0&&4>n?n:4,e(!0);var r=rw.transition;rw.transition={};try{e(!1),t()}finally{nn=n,rw.transition=r}}function NN(){return Fi().memoizedState}function FU(e,t,n){var r=Ka(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ON(e))xN(t,n);else if(n=uN(e,t,n,r),n!==null){var i=zr();oo(n,e,r,i),MN(n,t,r)}}function jU(e,t,n){var r=Ka(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ON(e))xN(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,lo(s,a)){var l=t.interleaved;l===null?(i.next=i,hb(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=uN(e,t,i,r),n!==null&&(i=zr(),oo(n,e,r,i),MN(n,t,r))}}function ON(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function xN(e,t){Ld=Ng=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function MN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ZS(e,n)}}var Og={readContext:$i,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},UU={readContext:$i,useCallback:function(e,t){return _o().memoizedState=[e,t===void 0?null:t],e},useContext:$i,useEffect:g1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qm(4194308,4,IN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qm(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FU.bind(null,kn,e),[r.memoizedState,e]},useRef:function(e){var t=_o();return e={current:e},t.memoizedState=e},useState:m1,useDebugValue:Sb,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=m1(!1),t=e[0];return e=$U.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kn,i=_o();if(bn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),ar===null)throw Error(xe(349));rl&30||yN(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,g1(EN.bind(null,r,o,e),[e]),r.flags|=2048,Ef(9,wN.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=ar.identifierPrefix;if(bn){var n=Wo,r=Ho;n=(r&~(1<<32-io(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VU={readContext:$i,useCallback:kN,useContext:$i,useEffect:_b,useImperativeHandle:RN,useInsertionEffect:CN,useLayoutEffect:TN,useMemo:DN,useReducer:iw,useRef:bN,useState:function(){return iw(wf)},useDebugValue:Sb,useDeferredValue:function(e){var t=Fi();return AN(t,Gn.memoizedState,e)},useTransition:function(){var e=iw(wf)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:vN,useSyncExternalStore:pN,useId:NN,unstable_isNewReconciler:!1},BU={readContext:$i,useCallback:kN,useContext:$i,useEffect:_b,useImperativeHandle:RN,useInsertionEffect:CN,useLayoutEffect:TN,useMemo:DN,useReducer:ow,useRef:bN,useState:function(){return ow(wf)},useDebugValue:Sb,useDeferredValue:function(e){var t=Fi();return Gn===null?t.memoizedState=e:AN(t,Gn.memoizedState,e)},useTransition:function(){var e=ow(wf)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:vN,useSyncExternalStore:pN,useId:NN,unstable_isNewReconciler:!1};function Ku(e,t){try{var n="",r=t;do n+=vj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function aw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function GE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zU=typeof WeakMap=="function"?WeakMap:Map;function PN(e,t,n){n=Xo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mg||(Mg=!0,r_=r),GE(e,t)},n}function LN(e,t,n){n=Xo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){GE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){GE(e,t),typeof r!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function v1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=rV.bind(null,e,t,n),t.then(e,e))}function p1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xo(-1,1),t.tag=2,Ha(n,t,1))),n.lanes|=1),e)}var HU=ma.ReactCurrentOwner,Jr=!1;function Vr(e,t,n,r){t.child=e===null?mN(t,null,n,r):Hu(t,e.child,n,r)}function w1(e,t,n,r,i){n=n.render;var o=t.ref;return Nu(t,i),r=wb(e,t,n,r,o,i),n=Eb(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oa(e,t,i)):(bn&&n&&sb(t),t.flags|=1,Vr(e,t,r,i),t.child)}function E1(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ab(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,$N(e,t,o,r,i)):(e=eg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ff,n(a,r)&&e.ref===t.ref)return oa(e,t,i)}return t.flags|=1,e=Ga(o,r),e.ref=t.ref,e.return=t,t.child=e}function $N(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ff(o,r)&&e.ref===t.ref)if(Jr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Jr=!0);else return t.lanes=e.lanes,oa(e,t,i)}return qE(e,t,n,r,i)}function FN(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Eu,ui),ui|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(Eu,ui),ui|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,mn(Eu,ui),ui|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,mn(Eu,ui),ui|=r;return Vr(e,t,i,n),t.child}function jN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qE(e,t,n,r,i){var o=ti(n)?tl:Pr.current;return o=Bu(t,o),Nu(t,i),n=wb(e,t,n,r,o,i),r=Eb(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oa(e,t,i)):(bn&&r&&sb(t),t.flags|=1,Vr(e,t,n,i),t.child)}function _1(e,t,n,r,i){if(ti(n)){var o=!0;Cg(t)}else o=!1;if(Nu(t,i),t.stateNode===null)Xm(e,t),fN(t,n,r),KE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$i(u):(u=ti(n)?tl:Pr.current,u=Bu(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&f1(t,a,r,u),ka=!1;var h=t.memoizedState;a.state=h,Dg(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ei.current||ka?(typeof c=="function"&&(WE(t,n,c,r),l=t.memoizedState),(s=ka||d1(t,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,cN(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qi(t.type,s),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$i(l):(l=ti(n)?tl:Pr.current,l=Bu(t,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&f1(t,a,r,l),ka=!1,h=t.memoizedState,a.state=h,Dg(t,r,a,i);var _=t.memoizedState;s!==f||h!==_||ei.current||ka?(typeof v=="function"&&(WE(t,n,v,r),_=t.memoizedState),(u=ka||d1(t,n,u,r,h,_,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return YE(e,t,n,r,o,i)}function YE(e,t,n,r,i,o){jN(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&a1(t,n,!1),oa(e,t,o);r=t.stateNode,HU.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Hu(t,e.child,null,o),t.child=Hu(t,null,s,o)):Vr(e,t,s,o),t.memoizedState=r.state,i&&a1(t,n,!0),t.child}function UN(e){var t=e.stateNode;t.pendingContext?o1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&o1(e,t.context,!1),gb(e,t.containerInfo)}function S1(e,t,n,r,i){return zu(),ub(i),t.flags|=256,Vr(e,t,n,r),t.child}var QE={dehydrated:null,treeContext:null,retryLane:0};function XE(e){return{baseLanes:e,cachePool:null,transitions:null}}function VN(e,t,n){var r=t.pendingProps,i=Rn.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mn(Rn,i&1),e===null)return zE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zv(a,r,0,null),e=Ys(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=XE(n),t.memoizedState=QE,e):bb(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return WU(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ga(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ga(s,o):(o=Ys(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?XE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=QE,r}return o=e.child,e=o.sibling,r=Ga(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bb(e,t){return t=zv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pm(e,t,n,r){return r!==null&&ub(r),Hu(t,e.child,null,n),e=bb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WU(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=aw(Error(xe(422))),pm(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zv({mode:"visible",children:r.children},i,0,null),o=Ys(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hu(t,e.child,null,a),t.child.memoizedState=XE(a),t.memoizedState=QE,o);if(!(t.mode&1))return pm(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(xe(419)),r=aw(o,r,void 0),pm(e,t,a,r)}if(s=(a&e.childLanes)!==0,Jr||s){if(r=ar,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ia(e,i),oo(r,e,i,-1))}return Db(),r=aw(Error(xe(421))),pm(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=iV.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ci=za(i.nextSibling),mi=t,bn=!0,Ji=null,e!==null&&(ki[Di++]=Ho,ki[Di++]=Wo,ki[Di++]=nl,Ho=e.id,Wo=e.overflow,nl=t),t=bb(t,r.children),t.flags|=4096,t)}function b1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),HE(e.return,t,n)}function sw(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function BN(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vr(e,t,r.children,n),r=Rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b1(e,n,t);else if(e.tag===19)b1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mn(Rn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ag(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sw(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ag(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sw(t,!0,n,null,o);break;case"together":sw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),il|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=Ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KU(e,t,n){switch(t.tag){case 3:UN(t),zu();break;case 5:gN(t);break;case 1:ti(t.type)&&Cg(t);break;case 4:gb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;mn(Rg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mn(Rn,Rn.current&1),t.flags|=128,null):n&t.child.childLanes?VN(e,t,n):(mn(Rn,Rn.current&1),e=oa(e,t,n),e!==null?e.sibling:null);mn(Rn,Rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return BN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mn(Rn,Rn.current),r)break;return null;case 22:case 23:return t.lanes=0,FN(e,t,n)}return oa(e,t,n)}var zN,JE,HN,WN;zN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};JE=function(){};HN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,js(ko.current);var o=null;switch(n){case"input":i=EE(e,i),r=EE(e,r),o=[];break;case"select":i=Dn({},i,{value:void 0}),r=Dn({},r,{value:void 0}),o=[];break;case"textarea":i=bE(e,i),r=bE(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sg)}TE(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(of.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(of.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gn("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};WN=function(e,t,n,r){n!==r&&(t.flags|=4)};function ad(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GU(e,t,n){var r=t.pendingProps;switch(lb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return ti(t.type)&&bg(),_r(t),null;case 3:return r=t.stateNode,Wu(),wn(ei),wn(Pr),pb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji!==null&&(a_(Ji),Ji=null))),JE(e,t),_r(t),null;case 5:vb(t);var i=js(pf.current);if(n=t.type,e!==null&&t.stateNode!=null)HN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return _r(t),null}if(e=js(ko.current),gm(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[So]=t,r[gf]=o,e=(t.mode&1)!==0,n){case"dialog":gn("cancel",r),gn("close",r);break;case"iframe":case"object":case"embed":gn("load",r);break;case"video":case"audio":for(i=0;i<Sd.length;i++)gn(Sd[i],r);break;case"source":gn("error",r);break;case"img":case"image":case"link":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"input":OT(r,o),gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gn("invalid",r);break;case"textarea":MT(r,o),gn("invalid",r)}TE(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&mm(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&mm(r.textContent,s,e),i=["children",""+s]):of.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&gn("scroll",r)}switch(n){case"input":am(r),xT(r,o,!0);break;case"textarea":am(r),PT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[So]=t,e[gf]=r,zN(e,t,!1,!1),t.stateNode=e;e:{switch(a=IE(n,r),n){case"dialog":gn("cancel",e),gn("close",e),i=r;break;case"iframe":case"object":case"embed":gn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sd.length;i++)gn(Sd[i],e);i=r;break;case"source":gn("error",e),i=r;break;case"img":case"image":case"link":gn("error",e),gn("load",e),i=r;break;case"details":gn("toggle",e),i=r;break;case"input":OT(e,r),i=EE(e,r),gn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dn({},r,{value:void 0}),gn("invalid",e);break;case"textarea":MT(e,r),i=bE(e,r),gn("invalid",e);break;default:i=r}TE(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?_A(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&af(e,l):typeof l=="number"&&af(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(of.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gn("scroll",e):l!=null&&GS(e,o,l,a))}switch(n){case"input":am(e),xT(e,r,!1);break;case"textarea":am(e),PT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ts(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ru(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ru(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)WN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=js(pf.current),js(ko.current),gm(t)){if(r=t.stateNode,n=t.memoizedProps,r[So]=t,(o=r.nodeValue!==n)&&(e=mi,e!==null))switch(e.tag){case 3:mm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mm(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[So]=t,t.stateNode=r}return _r(t),null;case 13:if(wn(Rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&ci!==null&&t.mode&1&&!(t.flags&128))lN(),zu(),t.flags|=98560,o=!1;else if(o=gm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(xe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[So]=t}else zu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),o=!1}else Ji!==null&&(a_(Ji),Ji=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rn.current&1?Yn===0&&(Yn=3):Db())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return Wu(),JE(e,t),e===null&&hf(t.stateNode.containerInfo),_r(t),null;case 10:return fb(t.type._context),_r(t),null;case 17:return ti(t.type)&&bg(),_r(t),null;case 19:if(wn(Rn),o=t.memoizedState,o===null)return _r(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ad(o,!1);else{if(Yn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ag(e),a!==null){for(t.flags|=128,ad(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mn(Rn,Rn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ln()>Gu&&(t.flags|=128,r=!0,ad(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ag(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ad(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!bn)return _r(t),null}else 2*Ln()-o.renderingStartTime>Gu&&n!==1073741824&&(t.flags|=128,r=!0,ad(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ln(),t.sibling=null,n=Rn.current,mn(Rn,r?n&1|2:n&1),t):(_r(t),null);case 22:case 23:return kb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ui&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function qU(e,t){switch(lb(t),t.tag){case 1:return ti(t.type)&&bg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wu(),wn(ei),wn(Pr),pb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vb(t),null;case 13:if(wn(Rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));zu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Rn),null;case 4:return Wu(),null;case 10:return fb(t.type._context),null;case 22:case 23:return kb(),null;case 24:return null;default:return null}}var ym=!1,Tr=!1,YU=typeof WeakSet=="function"?WeakSet:Set,tt=null;function wu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(e,t,r)}else n.current=null}function ZE(e,t,n){try{n()}catch(r){Nn(e,t,r)}}var C1=!1;function QU(e,t){if(LE=wg,e=YA(),ab(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($E={focusedElem:e,selectionRange:n},wg=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,S=_.memoizedState,w=t.stateNode,p=w.getSnapshotBeforeUpdate(t.elementType===t.type?E:Qi(t.type,E),S);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(C){Nn(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return _=C1,C1=!1,_}function $d(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ZE(t,n,o)}i=i.next}while(i!==r)}}function Vv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function e_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function KN(e){var t=e.alternate;t!==null&&(e.alternate=null,KN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[So],delete t[gf],delete t[UE],delete t[OU],delete t[xU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function GN(e){return e.tag===5||e.tag===3||e.tag===4}function T1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||GN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function t_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sg));else if(r!==4&&(e=e.child,e!==null))for(t_(e,t,n),e=e.sibling;e!==null;)t_(e,t,n),e=e.sibling}function n_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(n_(e,t,n),e=e.sibling;e!==null;)n_(e,t,n),e=e.sibling}var hr=null,Xi=!1;function Ea(e,t,n){for(n=n.child;n!==null;)qN(e,t,n),n=n.sibling}function qN(e,t,n){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(xv,n)}catch{}switch(n.tag){case 5:Tr||wu(n,t);case 6:var r=hr,i=Xi;hr=null,Ea(e,t,n),hr=r,Xi=i,hr!==null&&(Xi?(e=hr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):hr.removeChild(n.stateNode));break;case 18:hr!==null&&(Xi?(e=hr,n=n.stateNode,e.nodeType===8?ew(e.parentNode,n):e.nodeType===1&&ew(e,n),cf(e)):ew(hr,n.stateNode));break;case 4:r=hr,i=Xi,hr=n.stateNode.containerInfo,Xi=!0,Ea(e,t,n),hr=r,Xi=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ZE(n,t,a),i=i.next}while(i!==r)}Ea(e,t,n);break;case 1:if(!Tr&&(wu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nn(n,t,s)}Ea(e,t,n);break;case 21:Ea(e,t,n);break;case 22:n.mode&1?(Tr=(r=Tr)||n.memoizedState!==null,Ea(e,t,n),Tr=r):Ea(e,t,n);break;default:Ea(e,t,n)}}function I1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YU),t.forEach(function(r){var i=oV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:hr=s.stateNode,Xi=!1;break e;case 3:hr=s.stateNode.containerInfo,Xi=!0;break e;case 4:hr=s.stateNode.containerInfo,Xi=!0;break e}s=s.return}if(hr===null)throw Error(xe(160));qN(o,a,i),hr=null,Xi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)YN(t,e),t=t.sibling}function YN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qi(t,e),Eo(e),r&4){try{$d(3,e,e.return),Vv(3,e)}catch(E){Nn(e,e.return,E)}try{$d(5,e,e.return)}catch(E){Nn(e,e.return,E)}}break;case 1:qi(t,e),Eo(e),r&512&&n!==null&&wu(n,n.return);break;case 5:if(qi(t,e),Eo(e),r&512&&n!==null&&wu(n,n.return),e.flags&32){var i=e.stateNode;try{af(i,"")}catch(E){Nn(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&vA(i,o),IE(s,a);var u=IE(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?_A(i,f):c==="dangerouslySetInnerHTML"?wA(i,f):c==="children"?af(i,f):GS(i,c,f,u)}switch(s){case"input":_E(i,o);break;case"textarea":pA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Ru(i,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ru(i,!!o.multiple,o.defaultValue,!0):Ru(i,!!o.multiple,o.multiple?[]:"",!1))}i[gf]=o}catch(E){Nn(e,e.return,E)}}break;case 6:if(qi(t,e),Eo(e),r&4){if(e.stateNode===null)throw Error(xe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(E){Nn(e,e.return,E)}}break;case 3:if(qi(t,e),Eo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cf(t.containerInfo)}catch(E){Nn(e,e.return,E)}break;case 4:qi(t,e),Eo(e);break;case 13:qi(t,e),Eo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ib=Ln())),r&4&&I1(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Tr=(u=Tr)||c,qi(t,e),Tr=u):qi(t,e),Eo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(tt=e,c=e.child;c!==null;){for(f=tt=c;tt!==null;){switch(h=tt,v=h.child,h.tag){case 0:case 11:case 14:case 15:$d(4,h,h.return);break;case 1:wu(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){Nn(r,n,E)}}break;case 5:wu(h,h.return);break;case 22:if(h.memoizedState!==null){k1(f);continue}}v!==null?(v.return=h,tt=v):k1(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=EA("display",a))}catch(E){Nn(e,e.return,E)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){Nn(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qi(t,e),Eo(e),r&4&&I1(e);break;case 21:break;default:qi(t,e),Eo(e)}}function Eo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(GN(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(af(i,""),r.flags&=-33);var o=T1(e);n_(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=T1(e);t_(e,s,a);break;default:throw Error(xe(161))}}catch(l){Nn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XU(e,t,n){tt=e,QN(e)}function QN(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var i=tt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ym;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Tr;s=ym;var u=Tr;if(ym=a,(Tr=l)&&!u)for(tt=i;tt!==null;)a=tt,l=a.child,a.tag===22&&a.memoizedState!==null?D1(i):l!==null?(l.return=a,tt=l):D1(i);for(;o!==null;)tt=o,QN(o),o=o.sibling;tt=i,ym=s,Tr=u}R1(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,tt=o):R1(e)}}function R1(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tr||Vv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&c1(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}c1(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&cf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Tr||t.flags&512&&e_(t)}catch(h){Nn(t,t.return,h)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function k1(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function D1(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vv(4,t)}catch(l){Nn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nn(t,i,l)}}var o=t.return;try{e_(t)}catch(l){Nn(t,o,l)}break;case 5:var a=t.return;try{e_(t)}catch(l){Nn(t,a,l)}}}catch(l){Nn(t,t.return,l)}if(t===e){tt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,tt=s;break}tt=t.return}}var JU=Math.ceil,xg=ma.ReactCurrentDispatcher,Cb=ma.ReactCurrentOwner,Mi=ma.ReactCurrentBatchConfig,zt=0,ar=null,Bn=null,pr=0,ui=0,Eu=hs(0),Yn=0,_f=null,il=0,Bv=0,Tb=0,Fd=null,Yr=null,Ib=0,Gu=1/0,Bo=null,Mg=!1,r_=null,Wa=null,wm=!1,$a=null,Pg=0,jd=0,i_=null,Jm=-1,Zm=0;function zr(){return zt&6?Ln():Jm!==-1?Jm:Jm=Ln()}function Ka(e){return e.mode&1?zt&2&&pr!==0?pr&-pr:PU.transition!==null?(Zm===0&&(Zm=xA()),Zm):(e=nn,e!==0||(e=window.event,e=e===void 0?16:UA(e.type)),e):1}function oo(e,t,n,r){if(50<jd)throw jd=0,i_=null,Error(xe(185));th(e,n,r),(!(zt&2)||e!==ar)&&(e===ar&&(!(zt&2)&&(Bv|=n),Yn===4&&Aa(e,pr)),ni(e,r),n===1&&zt===0&&!(t.mode&1)&&(Gu=Ln()+500,Fv&&ms()))}function ni(e,t){var n=e.callbackNode;Pj(e,t);var r=yg(e,e===ar?pr:0);if(r===0)n!==null&&FT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&FT(n),t===1)e.tag===0?MU(A1.bind(null,e)):oN(A1.bind(null,e)),AU(function(){!(zt&6)&&ms()}),n=null;else{switch(MA(r)){case 1:n=JS;break;case 4:n=NA;break;case 16:n=pg;break;case 536870912:n=OA;break;default:n=pg}n=iO(n,XN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function XN(e,t){if(Jm=-1,Zm=0,zt&6)throw Error(xe(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=yg(e,e===ar?pr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lg(e,r);else{t=r;var i=zt;zt|=2;var o=ZN();(ar!==e||pr!==t)&&(Bo=null,Gu=Ln()+500,qs(e,t));do try{tV();break}catch(s){JN(e,s)}while(1);db(),xg.current=o,zt=i,Bn!==null?t=0:(ar=null,pr=0,t=Yn)}if(t!==0){if(t===2&&(i=NE(e),i!==0&&(r=i,t=o_(e,i))),t===1)throw n=_f,qs(e,0),Aa(e,r),ni(e,Ln()),n;if(t===6)Aa(e,r);else{if(i=e.current.alternate,!(r&30)&&!ZU(i)&&(t=Lg(e,r),t===2&&(o=NE(e),o!==0&&(r=o,t=o_(e,o))),t===1))throw n=_f,qs(e,0),Aa(e,r),ni(e,Ln()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:As(e,Yr,Bo);break;case 3:if(Aa(e,r),(r&130023424)===r&&(t=Ib+500-Ln(),10<t)){if(yg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jE(As.bind(null,e,Yr,Bo),t);break}As(e,Yr,Bo);break;case 4:if(Aa(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-io(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JU(r/1960))-r,10<r){e.timeoutHandle=jE(As.bind(null,e,Yr,Bo),r);break}As(e,Yr,Bo);break;case 5:As(e,Yr,Bo);break;default:throw Error(xe(329))}}}return ni(e,Ln()),e.callbackNode===n?XN.bind(null,e):null}function o_(e,t){var n=Fd;return e.current.memoizedState.isDehydrated&&(qs(e,t).flags|=256),e=Lg(e,t),e!==2&&(t=Yr,Yr=n,t!==null&&a_(t)),e}function a_(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function ZU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lo(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t){for(t&=~Tb,t&=~Bv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-io(t),r=1<<n;e[n]=-1,t&=~r}}function A1(e){if(zt&6)throw Error(xe(327));Ou();var t=yg(e,0);if(!(t&1))return ni(e,Ln()),null;var n=Lg(e,t);if(e.tag!==0&&n===2){var r=NE(e);r!==0&&(t=r,n=o_(e,r))}if(n===1)throw n=_f,qs(e,0),Aa(e,t),ni(e,Ln()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,Yr,Bo),ni(e,Ln()),null}function Rb(e,t){var n=zt;zt|=1;try{return e(t)}finally{zt=n,zt===0&&(Gu=Ln()+500,Fv&&ms())}}function ol(e){$a!==null&&$a.tag===0&&!(zt&6)&&Ou();var t=zt;zt|=1;var n=Mi.transition,r=nn;try{if(Mi.transition=null,nn=1,e)return e()}finally{nn=r,Mi.transition=n,zt=t,!(zt&6)&&ms()}}function kb(){ui=Eu.current,wn(Eu)}function qs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,DU(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bg();break;case 3:Wu(),wn(ei),wn(Pr),pb();break;case 5:vb(r);break;case 4:Wu();break;case 13:wn(Rn);break;case 19:wn(Rn);break;case 10:fb(r.type._context);break;case 22:case 23:kb()}n=n.return}if(ar=e,Bn=e=Ga(e.current,null),pr=ui=t,Yn=0,_f=null,Tb=Bv=il=0,Yr=Fd=null,Fs!==null){for(t=0;t<Fs.length;t++)if(n=Fs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Fs=null}return e}function JN(e,t){do{var n=Bn;try{if(db(),Ym.current=Og,Ng){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ng=!1}if(rl=0,rr=Gn=kn=null,Ld=!1,yf=0,Cb.current=null,n===null||n.return===null){Yn=1,_f=t,Bn=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=pr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=p1(a);if(v!==null){v.flags&=-257,y1(v,a,s,o,t),v.mode&1&&v1(o,u,t),t=v,l=u;var _=t.updateQueue;if(_===null){var E=new Set;E.add(l),t.updateQueue=E}else _.add(l);break e}else{if(!(t&1)){v1(o,u,t),Db();break e}l=Error(xe(426))}}else if(bn&&s.mode&1){var S=p1(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),y1(S,a,s,o,t),ub(Ku(l,s));break e}}o=l=Ku(l,s),Yn!==4&&(Yn=2),Fd===null?Fd=[o]:Fd.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=PN(o,l,t);u1(o,w);break e;case 1:s=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wa===null||!Wa.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=LN(o,s,t);u1(o,C);break e}}o=o.return}while(o!==null)}tO(n)}catch(A){t=A,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(1)}function ZN(){var e=xg.current;return xg.current=Og,e===null?Og:e}function Db(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),ar===null||!(il&268435455)&&!(Bv&268435455)||Aa(ar,pr)}function Lg(e,t){var n=zt;zt|=2;var r=ZN();(ar!==e||pr!==t)&&(Bo=null,qs(e,t));do try{eV();break}catch(i){JN(e,i)}while(1);if(db(),zt=n,xg.current=r,Bn!==null)throw Error(xe(261));return ar=null,pr=0,Yn}function eV(){for(;Bn!==null;)eO(Bn)}function tV(){for(;Bn!==null&&!Ij();)eO(Bn)}function eO(e){var t=rO(e.alternate,e,ui);e.memoizedProps=e.pendingProps,t===null?tO(e):Bn=t,Cb.current=null}function tO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qU(n,t),n!==null){n.flags&=32767,Bn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yn=6,Bn=null;return}}else if(n=GU(n,t,ui),n!==null){Bn=n;return}if(t=t.sibling,t!==null){Bn=t;return}Bn=t=e}while(t!==null);Yn===0&&(Yn=5)}function As(e,t,n){var r=nn,i=Mi.transition;try{Mi.transition=null,nn=1,nV(e,t,n,r)}finally{Mi.transition=i,nn=r}return null}function nV(e,t,n,r){do Ou();while($a!==null);if(zt&6)throw Error(xe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Lj(e,o),e===ar&&(Bn=ar=null,pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wm||(wm=!0,iO(pg,function(){return Ou(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Mi.transition,Mi.transition=null;var a=nn;nn=1;var s=zt;zt|=4,Cb.current=null,QU(e,n),YN(n,e),SU($E),wg=!!LE,$E=LE=null,e.current=n,XU(n),Rj(),zt=s,nn=a,Mi.transition=o}else e.current=n;if(wm&&(wm=!1,$a=e,Pg=i),o=e.pendingLanes,o===0&&(Wa=null),Aj(n.stateNode),ni(e,Ln()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mg)throw Mg=!1,e=r_,r_=null,e;return Pg&1&&e.tag!==0&&Ou(),o=e.pendingLanes,o&1?e===i_?jd++:(jd=0,i_=e):jd=0,ms(),null}function Ou(){if($a!==null){var e=MA(Pg),t=Mi.transition,n=nn;try{if(Mi.transition=null,nn=16>e?16:e,$a===null)var r=!1;else{if(e=$a,$a=null,Pg=0,zt&6)throw Error(xe(331));var i=zt;for(zt|=4,tt=e.current;tt!==null;){var o=tt,a=o.child;if(tt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(tt=u;tt!==null;){var c=tt;switch(c.tag){case 0:case 11:case 15:$d(8,c,o)}var f=c.child;if(f!==null)f.return=c,tt=f;else for(;tt!==null;){c=tt;var h=c.sibling,v=c.return;if(KN(c),c===u){tt=null;break}if(h!==null){h.return=v,tt=h;break}tt=v}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}tt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,tt=a;else e:for(;tt!==null;){if(o=tt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$d(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,tt=w;break e}tt=o.return}}var p=e.current;for(tt=p;tt!==null;){a=tt;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,tt=y;else e:for(a=p;tt!==null;){if(s=tt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Vv(9,s)}}catch(A){Nn(s,s.return,A)}if(s===a){tt=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,tt=C;break e}tt=s.return}}if(zt=i,ms(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(xv,e)}catch{}r=!0}return r}finally{nn=n,Mi.transition=t}}return!1}function N1(e,t,n){t=Ku(n,t),t=PN(e,t,1),e=Ha(e,t,1),t=zr(),e!==null&&(th(e,1,t),ni(e,t))}function Nn(e,t,n){if(e.tag===3)N1(e,e,n);else for(;t!==null;){if(t.tag===3){N1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wa===null||!Wa.has(r))){e=Ku(n,e),e=LN(t,e,1),t=Ha(t,e,1),e=zr(),t!==null&&(th(t,1,e),ni(t,e));break}}t=t.return}}function rV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&n,ar===e&&(pr&n)===n&&(Yn===4||Yn===3&&(pr&130023424)===pr&&500>Ln()-Ib?qs(e,0):Tb|=n),ni(e,t)}function nO(e,t){t===0&&(e.mode&1?(t=um,um<<=1,!(um&130023424)&&(um=4194304)):t=1);var n=zr();e=ia(e,t),e!==null&&(th(e,t,n),ni(e,n))}function iV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nO(e,n)}function oV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),nO(e,n)}var rO;rO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ei.current)Jr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jr=!1,KU(e,t,n);Jr=!!(e.flags&131072)}else Jr=!1,bn&&t.flags&1048576&&aN(t,Ig,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xm(e,t),e=t.pendingProps;var i=Bu(t,Pr.current);Nu(t,n),i=wb(null,t,r,e,i,n);var o=Eb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ti(r)?(o=!0,Cg(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mb(t),i.updater=jv,t.stateNode=i,i._reactInternals=t,KE(t,r,e,n),t=YE(null,t,r,!0,o,n)):(t.tag=0,bn&&o&&sb(t),Vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sV(r),e=Qi(r,e),i){case 0:t=qE(null,t,r,e,n);break e;case 1:t=_1(null,t,r,e,n);break e;case 11:t=w1(null,t,r,e,n);break e;case 14:t=E1(null,t,r,Qi(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),qE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),_1(e,t,r,i,n);case 3:e:{if(UN(t),e===null)throw Error(xe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,cN(e,t),Dg(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ku(Error(xe(423)),t),t=S1(e,t,r,n,i);break e}else if(r!==i){i=Ku(Error(xe(424)),t),t=S1(e,t,r,n,i);break e}else for(ci=za(t.stateNode.containerInfo.firstChild),mi=t,bn=!0,Ji=null,n=mN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zu(),r===i){t=oa(e,t,n);break e}Vr(e,t,r,n)}t=t.child}return t;case 5:return gN(t),e===null&&zE(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,FE(r,i)?a=null:o!==null&&FE(r,o)&&(t.flags|=32),jN(e,t),Vr(e,t,a,n),t.child;case 6:return e===null&&zE(t),null;case 13:return VN(e,t,n);case 4:return gb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hu(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),w1(e,t,r,i,n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:return Vr(e,t,t.pendingProps.children,n),t.child;case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,mn(Rg,r._currentValue),r._currentValue=a,o!==null)if(lo(o.value,a)){if(o.children===i.children&&!ei.current){t=oa(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),HE(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(xe(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),HE(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nu(t,n),i=$i(i),r=r(i),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return r=t.type,i=Qi(r,t.pendingProps),i=Qi(r.type,i),E1(e,t,r,i,n);case 15:return $N(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),Xm(e,t),t.tag=1,ti(r)?(e=!0,Cg(t)):e=!1,Nu(t,n),fN(t,r,i),KE(t,r,i,n),YE(null,t,r,!0,e,n);case 19:return BN(e,t,n);case 22:return FN(e,t,n)}throw Error(xe(156,t.tag))};function iO(e,t){return AA(e,t)}function aV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(e,t,n,r){return new aV(e,t,n,r)}function Ab(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sV(e){if(typeof e=="function")return Ab(e)?1:0;if(e!=null){if(e=e.$$typeof,e===YS)return 11;if(e===QS)return 14}return 2}function Ga(e,t){var n=e.alternate;return n===null?(n=Oi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eg(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Ab(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case cu:return Ys(n.children,i,o,t);case qS:a=8,i|=8;break;case vE:return e=Oi(12,n,t,i|2),e.elementType=vE,e.lanes=o,e;case pE:return e=Oi(13,n,t,i),e.elementType=pE,e.lanes=o,e;case yE:return e=Oi(19,n,t,i),e.elementType=yE,e.lanes=o,e;case hA:return zv(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dA:a=10;break e;case fA:a=9;break e;case YS:a=11;break e;case QS:a=14;break e;case Ra:a=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Oi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ys(e,t,n,r){return e=Oi(7,e,r,t),e.lanes=n,e}function zv(e,t,n,r){return e=Oi(22,e,r,t),e.elementType=hA,e.lanes=n,e.stateNode={isHidden:!1},e}function lw(e,t,n){return e=Oi(6,e,null,t),e.lanes=n,e}function uw(e,t,n){return t=Oi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zy(0),this.expirationTimes=zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nb(e,t,n,r,i,o,a,s,l){return e=new lV(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Oi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mb(o),e}function uV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oO(e){if(!e)return ns;e=e._reactInternals;e:{if(Sl(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(ti(n))return iN(e,n,t)}return t}function aO(e,t,n,r,i,o,a,s,l){return e=Nb(n,r,!0,e,i,o,a,s,l),e.context=oO(null),n=e.current,r=zr(),i=Ka(n),o=Xo(r,i),o.callback=t??null,Ha(n,o,i),e.current.lanes=i,th(e,i,r),ni(e,r),e}function Hv(e,t,n,r){var i=t.current,o=zr(),a=Ka(i);return n=oO(n),t.context===null?t.context=n:t.pendingContext=n,t=Xo(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ha(i,t,a),e!==null&&(oo(e,i,a,o),qm(e,i,a)),a}function $g(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ob(e,t){O1(e,t),(e=e.alternate)&&O1(e,t)}function cV(){return null}var sO=typeof reportError=="function"?reportError:function(e){console.error(e)};function xb(e){this._internalRoot=e}Wv.prototype.render=xb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));Hv(e,t,null,null)};Wv.prototype.unmount=xb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ol(function(){Hv(null,e,null,null)}),t[ra]=null}};function Wv(e){this._internalRoot=e}Wv.prototype.unstable_scheduleHydration=function(e){if(e){var t=$A();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&jA(e)}};function Mb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function x1(){}function dV(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=$g(a);o.call(u)}}var a=aO(t,r,e,0,null,!1,!1,"",x1);return e._reactRootContainer=a,e[ra]=a.current,hf(e.nodeType===8?e.parentNode:e),ol(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=$g(l);s.call(u)}}var l=Nb(e,0,!1,null,null,!1,!1,"",x1);return e._reactRootContainer=l,e[ra]=l.current,hf(e.nodeType===8?e.parentNode:e),ol(function(){Hv(t,l,n,r)}),l}function Gv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=$g(a);s.call(l)}}Hv(t,a,e,i)}else a=dV(n,t,e,i,r);return $g(a)}PA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_d(t.pendingLanes);n!==0&&(ZS(t,n|1),ni(t,Ln()),!(zt&6)&&(Gu=Ln()+500,ms()))}break;case 13:ol(function(){var r=ia(e,1);if(r!==null){var i=zr();oo(r,e,1,i)}}),Ob(e,1)}};eb=function(e){if(e.tag===13){var t=ia(e,134217728);if(t!==null){var n=zr();oo(t,e,134217728,n)}Ob(e,134217728)}};LA=function(e){if(e.tag===13){var t=Ka(e),n=ia(e,t);if(n!==null){var r=zr();oo(n,e,t,r)}Ob(e,t)}};$A=function(){return nn};FA=function(e,t){var n=nn;try{return nn=e,t()}finally{nn=n}};kE=function(e,t,n){switch(t){case"input":if(_E(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$v(r);if(!i)throw Error(xe(90));gA(r),_E(r,i)}}}break;case"textarea":pA(e,n);break;case"select":t=n.value,t!=null&&Ru(e,!!n.multiple,t,!1)}};CA=Rb;TA=ol;var fV={usingClientEntryPoint:!1,Events:[rh,mu,$v,SA,bA,Rb]},sd={findFiberByHostInstance:$s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hV={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kA(e),e===null?null:e.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||cV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{xv=Em.inject(hV),Ro=Em}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fV;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mb(t))throw Error(xe(200));return uV(e,t,null,n)};Si.createRoot=function(e,t){if(!Mb(e))throw Error(xe(299));var n=!1,r="",i=sO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nb(e,1,!1,null,null,n,!1,r,i),e[ra]=t.current,hf(e.nodeType===8?e.parentNode:e),new xb(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=kA(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return ol(e)};Si.hydrate=function(e,t,n){if(!Kv(t))throw Error(xe(200));return Gv(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!Mb(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=sO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=aO(t,null,e,1,n??null,i,!1,o,a),e[ra]=t.current,hf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wv(t)};Si.render=function(e,t,n){if(!Kv(t))throw Error(xe(200));return Gv(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!Kv(e))throw Error(xe(40));return e._reactRootContainer?(ol(function(){Gv(null,null,e,!1,function(){e._reactRootContainer=null,e[ra]=null})}),!0):!1};Si.unstable_batchedUpdates=Rb;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kv(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return Gv(e,t,n,!1,r)};Si.version="18.2.0-next-9e3b772b8-20220608";function lO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lO)}catch(e){console.error(e)}}lO(),aA.exports=Si;var uO=aA.exports;const bd=US(uO);var M1=uO;mE.createRoot=M1.createRoot,mE.hydrateRoot=M1.hydrateRoot;var Hr="top",yi="bottom",wi="right",Wr="left",qv="auto",Ec=[Hr,yi,wi,Wr],al="start",qu="end",cO="clippingParents",Pb="viewport",ru="popper",dO="reference",s_=Ec.reduce(function(e,t){return e.concat([t+"-"+al,t+"-"+qu])},[]),Lb=[].concat(Ec,[qv]).reduce(function(e,t){return e.concat([t,t+"-"+al,t+"-"+qu])},[]),fO="beforeRead",hO="read",mO="afterRead",gO="beforeMain",vO="main",pO="afterMain",yO="beforeWrite",wO="write",EO="afterWrite",_O=[fO,hO,mO,gO,vO,pO,yO,wO,EO];function xo(e){return e?(e.nodeName||"").toLowerCase():null}function Ei(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function sl(e){var t=Ei(e).Element;return e instanceof t||e instanceof Element}function Pi(e){var t=Ei(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function $b(e){if(typeof ShadowRoot>"u")return!1;var t=Ei(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function mV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Pi(o)||!xo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function gV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Pi(i)||!xo(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Fb={name:"applyStyles",enabled:!0,phase:"write",fn:mV,effect:gV,requires:["computeStyles"]};function Do(e){return e.split("-")[0]}var Qs=Math.max,Fg=Math.min,Yu=Math.round;function l_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function SO(){return!/^((?!chrome|android).)*safari/i.test(l_())}function Qu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Pi(e)&&(i=e.offsetWidth>0&&Yu(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Yu(r.height)/e.offsetHeight||1);var a=sl(e)?Ei(e):window,s=a.visualViewport,l=!SO()&&n,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:c,right:u+f,bottom:c+h,left:u,x:u,y:c}}function jb(e){var t=Qu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function bO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&$b(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function aa(e){return Ei(e).getComputedStyle(e)}function vV(e){return["table","td","th"].indexOf(xo(e))>=0}function gs(e){return((sl(e)?e.ownerDocument:e.document)||window.document).documentElement}function Yv(e){return xo(e)==="html"?e:e.assignedSlot||e.parentNode||($b(e)?e.host:null)||gs(e)}function P1(e){return!Pi(e)||aa(e).position==="fixed"?null:e.offsetParent}function pV(e){var t=/firefox/i.test(l_()),n=/Trident/i.test(l_());if(n&&Pi(e)){var r=aa(e);if(r.position==="fixed")return null}var i=Yv(e);for($b(i)&&(i=i.host);Pi(i)&&["html","body"].indexOf(xo(i))<0;){var o=aa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function oh(e){for(var t=Ei(e),n=P1(e);n&&vV(n)&&aa(n).position==="static";)n=P1(n);return n&&(xo(n)==="html"||xo(n)==="body"&&aa(n).position==="static")?t:n||pV(e)||t}function Ub(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ud(e,t,n){return Qs(e,Fg(t,n))}function yV(e,t,n){var r=Ud(e,t,n);return r>n?n:r}function CO(){return{top:0,right:0,bottom:0,left:0}}function TO(e){return Object.assign({},CO(),e)}function IO(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var wV=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,TO(typeof t!="number"?t:IO(t,Ec))};function EV(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Do(n.placement),l=Ub(s),u=[Wr,wi].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var f=wV(i.padding,n),h=jb(o),v=l==="y"?Hr:Wr,_=l==="y"?yi:wi,E=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],S=a[l]-n.rects.reference[l],w=oh(o),p=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,y=E/2-S/2,C=f[v],A=p-h[c]-f[_],P=p/2-h[c]/2+y,L=Ud(C,P,A),K=l;n.modifiersData[r]=(t={},t[K]=L,t.centerOffset=L-P,t)}}function _V(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||bO(t.elements.popper,i)&&(t.elements.arrow=i))}const RO={name:"arrow",enabled:!0,phase:"main",fn:EV,effect:_V,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xu(e){return e.split("-")[1]}var SV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bV(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Yu(n*i)/i||0,y:Yu(r*i)/i||0}}function L1(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=a.x,v=h===void 0?0:h,_=a.y,E=_===void 0?0:_,S=typeof c=="function"?c({x:v,y:E}):{x:v,y:E};v=S.x,E=S.y;var w=a.hasOwnProperty("x"),p=a.hasOwnProperty("y"),y=Wr,C=Hr,A=window;if(u){var P=oh(n),L="clientHeight",K="clientWidth";if(P===Ei(n)&&(P=gs(n),aa(P).position!=="static"&&s==="absolute"&&(L="scrollHeight",K="scrollWidth")),P=P,i===Hr||(i===Wr||i===wi)&&o===qu){C=yi;var ae=f&&P===A&&A.visualViewport?A.visualViewport.height:P[L];E-=ae-r.height,E*=l?1:-1}if(i===Wr||(i===Hr||i===yi)&&o===qu){y=wi;var le=f&&P===A&&A.visualViewport?A.visualViewport.width:P[K];v-=le-r.width,v*=l?1:-1}}var ue=Object.assign({position:s},u&&SV),we=c===!0?bV({x:v,y:E},Ei(n)):{x:v,y:E};if(v=we.x,E=we.y,l){var he;return Object.assign({},ue,(he={},he[C]=p?"0":"",he[y]=w?"0":"",he.transform=(A.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",he))}return Object.assign({},ue,(t={},t[C]=p?E+"px":"",t[y]=w?v+"px":"",t.transform="",t))}function CV(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:Do(t.placement),variation:Xu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,L1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,L1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Vb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CV,data:{}};var _m={passive:!0};function TV(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=Ei(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,_m)}),s&&l.addEventListener("resize",n.update,_m),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,_m)}),s&&l.removeEventListener("resize",n.update,_m)}}const Bb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TV,data:{}};var IV={left:"right",right:"left",bottom:"top",top:"bottom"};function tg(e){return e.replace(/left|right|bottom|top/g,function(t){return IV[t]})}var RV={start:"end",end:"start"};function $1(e){return e.replace(/start|end/g,function(t){return RV[t]})}function zb(e){var t=Ei(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Hb(e){return Qu(gs(e)).left+zb(e).scrollLeft}function kV(e,t){var n=Ei(e),r=gs(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=SO();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Hb(e),y:l}}function DV(e){var t,n=gs(e),r=zb(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Qs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Qs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Hb(e),l=-r.scrollTop;return aa(i||n).direction==="rtl"&&(s+=Qs(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function Wb(e){var t=aa(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kO(e){return["html","body","#document"].indexOf(xo(e))>=0?e.ownerDocument.body:Pi(e)&&Wb(e)?e:kO(Yv(e))}function Vd(e,t){var n;t===void 0&&(t=[]);var r=kO(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ei(r),a=i?[o].concat(o.visualViewport||[],Wb(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Vd(Yv(a)))}function u_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function AV(e,t){var n=Qu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function F1(e,t,n){return t===Pb?u_(kV(e,n)):sl(t)?AV(t,n):u_(DV(gs(e)))}function NV(e){var t=Vd(Yv(e)),n=["absolute","fixed"].indexOf(aa(e).position)>=0,r=n&&Pi(e)?oh(e):e;return sl(r)?t.filter(function(i){return sl(i)&&bO(i,r)&&xo(i)!=="body"}):[]}function OV(e,t,n,r){var i=t==="clippingParents"?NV(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(l,u){var c=F1(e,u,r);return l.top=Qs(c.top,l.top),l.right=Fg(c.right,l.right),l.bottom=Fg(c.bottom,l.bottom),l.left=Qs(c.left,l.left),l},F1(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function DO(e){var t=e.reference,n=e.element,r=e.placement,i=r?Do(r):null,o=r?Xu(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(i){case Hr:l={x:a,y:t.y-n.height};break;case yi:l={x:a,y:t.y+t.height};break;case wi:l={x:t.x+t.width,y:s};break;case Wr:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?Ub(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case al:l[u]=l[u]-(t[c]/2-n[c]/2);break;case qu:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Ju(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,a=o===void 0?e.strategy:o,s=n.boundary,l=s===void 0?cO:s,u=n.rootBoundary,c=u===void 0?Pb:u,f=n.elementContext,h=f===void 0?ru:f,v=n.altBoundary,_=v===void 0?!1:v,E=n.padding,S=E===void 0?0:E,w=TO(typeof S!="number"?S:IO(S,Ec)),p=h===ru?dO:ru,y=e.rects.popper,C=e.elements[_?p:h],A=OV(sl(C)?C:C.contextElement||gs(e.elements.popper),l,c,a),P=Qu(e.elements.reference),L=DO({reference:P,element:y,strategy:"absolute",placement:i}),K=u_(Object.assign({},y,L)),ae=h===ru?K:P,le={top:A.top-ae.top+w.top,bottom:ae.bottom-A.bottom+w.bottom,left:A.left-ae.left+w.left,right:ae.right-A.right+w.right},ue=e.modifiersData.offset;if(h===ru&&ue){var we=ue[i];Object.keys(le).forEach(function(he){var Se=[wi,yi].indexOf(he)>=0?1:-1,qe=[Hr,yi].indexOf(he)>=0?"y":"x";le[he]+=we[qe]*Se})}return le}function xV(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Lb:l,c=Xu(r),f=c?s?s_:s_.filter(function(_){return Xu(_)===c}):Ec,h=f.filter(function(_){return u.indexOf(_)>=0});h.length===0&&(h=f);var v=h.reduce(function(_,E){return _[E]=Ju(e,{placement:E,boundary:i,rootBoundary:o,padding:a})[Do(E)],_},{});return Object.keys(v).sort(function(_,E){return v[_]-v[E]})}function MV(e){if(Do(e)===qv)return[];var t=tg(e);return[$1(e),t,$1(t)]}function PV(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,v=n.flipVariations,_=v===void 0?!0:v,E=n.allowedAutoPlacements,S=t.options.placement,w=Do(S),p=w===S,y=l||(p||!_?[tg(S)]:MV(S)),C=[S].concat(y).reduce(function(ie,q){return ie.concat(Do(q)===qv?xV(t,{placement:q,boundary:c,rootBoundary:f,padding:u,flipVariations:_,allowedAutoPlacements:E}):q)},[]),A=t.rects.reference,P=t.rects.popper,L=new Map,K=!0,ae=C[0],le=0;le<C.length;le++){var ue=C[le],we=Do(ue),he=Xu(ue)===al,Se=[Hr,yi].indexOf(we)>=0,qe=Se?"width":"height",Ve=Ju(t,{placement:ue,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),Ze=Se?he?wi:Wr:he?yi:Hr;A[qe]>P[qe]&&(Ze=tg(Ze));var ce=tg(Ze),ee=[];if(o&&ee.push(Ve[we]<=0),s&&ee.push(Ve[Ze]<=0,Ve[ce]<=0),ee.every(function(ie){return ie})){ae=ue,K=!1;break}L.set(ue,ee)}if(K)for(var U=_?3:1,Ee=function(q){var O=C.find(function(ne){var Fe=L.get(ne);if(Fe)return Fe.slice(0,q).every(function(et){return et})});if(O)return ae=O,"break"},de=U;de>0;de--){var te=Ee(de);if(te==="break")break}t.placement!==ae&&(t.modifiersData[r]._skip=!0,t.placement=ae,t.reset=!0)}}const AO={name:"flip",enabled:!0,phase:"main",fn:PV,requiresIfExists:["offset"],data:{_skip:!1}};function j1(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function U1(e){return[Hr,wi,yi,Wr].some(function(t){return e[t]>=0})}function LV(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Ju(t,{elementContext:"reference"}),s=Ju(t,{altBoundary:!0}),l=j1(a,r),u=j1(s,i,o),c=U1(l),f=U1(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const NO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:LV};function $V(e,t,n){var r=Do(e),i=[Wr,Hr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Wr,wi].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function FV(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=Lb.reduce(function(c,f){return c[f]=$V(f,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const OO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:FV};function jV(e){var t=e.state,n=e.name;t.modifiersData[n]=DO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Kb={name:"popperOffsets",enabled:!0,phase:"read",fn:jV,data:{}};function UV(e){return e==="x"?"y":"x"}function VV(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,v=h===void 0?!0:h,_=n.tetherOffset,E=_===void 0?0:_,S=Ju(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),w=Do(t.placement),p=Xu(t.placement),y=!p,C=Ub(w),A=UV(C),P=t.modifiersData.popperOffsets,L=t.rects.reference,K=t.rects.popper,ae=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,le=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),ue=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,we={x:0,y:0};if(P){if(o){var he,Se=C==="y"?Hr:Wr,qe=C==="y"?yi:wi,Ve=C==="y"?"height":"width",Ze=P[C],ce=Ze+S[Se],ee=Ze-S[qe],U=v?-K[Ve]/2:0,Ee=p===al?L[Ve]:K[Ve],de=p===al?-K[Ve]:-L[Ve],te=t.elements.arrow,ie=v&&te?jb(te):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:CO(),O=q[Se],ne=q[qe],Fe=Ud(0,L[Ve],ie[Ve]),et=y?L[Ve]/2-U-Fe-O-le.mainAxis:Ee-Fe-O-le.mainAxis,dt=y?-L[Ve]/2+U+Fe+ne+le.mainAxis:de+Fe+ne+le.mainAxis,Et=t.elements.arrow&&oh(t.elements.arrow),Ot=Et?C==="y"?Et.clientTop||0:Et.clientLeft||0:0,Ut=(he=ue==null?void 0:ue[C])!=null?he:0,mt=Ze+et-Ut-Ot,It=Ze+dt-Ut,kt=Ud(v?Fg(ce,mt):ce,Ze,v?Qs(ee,It):ee);P[C]=kt,we[C]=kt-Ze}if(s){var Ht,Pt=C==="x"?Hr:Wr,Vt=C==="x"?yi:wi,$=P[A],De=A==="y"?"height":"width",Ue=$+S[Pt],ze=$-S[Vt],me=[Hr,Wr].indexOf(w)!==-1,V=(Ht=ue==null?void 0:ue[A])!=null?Ht:0,_e=me?Ue:$-L[De]-K[De]-V+le.altAxis,We=me?$+L[De]+K[De]-V-le.altAxis:ze,be=v&&me?yV(_e,$,We):Ud(v?_e:Ue,$,v?We:ze);P[A]=be,we[A]=be-$}t.modifiersData[r]=we}}const xO={name:"preventOverflow",enabled:!0,phase:"main",fn:VV,requiresIfExists:["offset"]};function BV(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function zV(e){return e===Ei(e)||!Pi(e)?zb(e):BV(e)}function HV(e){var t=e.getBoundingClientRect(),n=Yu(t.width)/e.offsetWidth||1,r=Yu(t.height)/e.offsetHeight||1;return n!==1||r!==1}function WV(e,t,n){n===void 0&&(n=!1);var r=Pi(t),i=Pi(t)&&HV(t),o=gs(t),a=Qu(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((xo(t)!=="body"||Wb(o))&&(s=zV(t)),Pi(t)?(l=Qu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Hb(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function KV(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function GV(e){var t=KV(e);return _O.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function qV(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function YV(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var V1={placement:"bottom",modifiers:[],strategy:"absolute"};function B1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Qv(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?V1:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},V1,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,v={state:c,setOptions:function(w){var p=typeof w=="function"?w(c.options):w;E(),c.options=Object.assign({},o,c.options,p),c.scrollParents={reference:sl(s)?Vd(s):s.contextElement?Vd(s.contextElement):[],popper:Vd(l)};var y=GV(YV([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(C){return C.enabled}),_(),v.update()},forceUpdate:function(){if(!h){var w=c.elements,p=w.reference,y=w.popper;if(B1(p,y)){c.rects={reference:WV(p,oh(y),c.options.strategy==="fixed"),popper:jb(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(le){return c.modifiersData[le.name]=Object.assign({},le.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var A=c.orderedModifiers[C],P=A.fn,L=A.options,K=L===void 0?{}:L,ae=A.name;typeof P=="function"&&(c=P({state:c,options:K,name:ae,instance:v})||c)}}}},update:qV(function(){return new Promise(function(S){v.forceUpdate(),S(c)})}),destroy:function(){E(),h=!0}};if(!B1(s,l))return v;v.setOptions(u).then(function(S){!h&&u.onFirstUpdate&&u.onFirstUpdate(S)});function _(){c.orderedModifiers.forEach(function(S){var w=S.name,p=S.options,y=p===void 0?{}:p,C=S.effect;if(typeof C=="function"){var A=C({state:c,name:w,instance:v,options:y}),P=function(){};f.push(A||P)}})}function E(){f.forEach(function(S){return S()}),f=[]}return v}}var QV=Qv(),XV=[Bb,Kb,Vb,Fb],JV=Qv({defaultModifiers:XV}),ZV=[Bb,Kb,Vb,Fb,OO,AO,xO,RO,NO],Gb=Qv({defaultModifiers:ZV});const MO=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pO,afterRead:mO,afterWrite:EO,applyStyles:Fb,arrow:RO,auto:qv,basePlacements:Ec,beforeMain:gO,beforeRead:fO,beforeWrite:yO,bottom:yi,clippingParents:cO,computeStyles:Vb,createPopper:Gb,createPopperBase:QV,createPopperLite:JV,detectOverflow:Ju,end:qu,eventListeners:Bb,flip:AO,hide:NO,left:Wr,main:vO,modifierPhases:_O,offset:OO,placements:Lb,popper:ru,popperGenerator:Qv,popperOffsets:Kb,preventOverflow:xO,read:hO,reference:dO,right:wi,start:al,top:Hr,variationPlacements:s_,viewport:Pb,write:wO},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const _a=new Map,cw={set(e,t,n){_a.has(e)||_a.set(e,new Map);const r=_a.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return _a.has(e)&&_a.get(e).get(t)||null},remove(e,t){if(!_a.has(e))return;const n=_a.get(e);n.delete(t),n.size===0&&_a.delete(e)}},eB=1e6,tB=1e3,c_="transitionend",PO=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),nB=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),rB=e=>{do e+=Math.floor(Math.random()*eB);while(document.getElementById(e));return e},iB=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*tB)},LO=e=>{e.dispatchEvent(new Event(c_))},Jo=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),rs=e=>Jo(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(PO(e)):null,_c=e=>{if(!Jo(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},is=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",$O=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?$O(e.parentNode):null},jg=()=>{},ah=e=>{e.offsetHeight},FO=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,dw=[],oB=e=>{document.readyState==="loading"?(dw.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of dw)t()}),dw.push(e)):e()},ji=()=>document.documentElement.dir==="rtl",zi=e=>{oB(()=>{const t=FO();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},Qr=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,jO=(e,t,n=!0)=>{if(!n){Qr(e);return}const r=5,i=iB(t)+r;let o=!1;const a=({target:s})=>{s===t&&(o=!0,t.removeEventListener(c_,a),Qr(e))};t.addEventListener(c_,a),setTimeout(()=>{o||LO(t)},i)},qb=(e,t,n,r)=>{const i=e.length;let o=e.indexOf(t);return o===-1?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},aB=/[^.]*(?=\..*)\.|.*/,sB=/\..*/,lB=/::\d+$/,fw={};let z1=1;const UO={mouseenter:"mouseover",mouseleave:"mouseout"},uB=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function VO(e,t){return t&&`${t}::${z1++}`||e.uidEvent||z1++}function BO(e){const t=VO(e);return e.uidEvent=t,fw[t]=fw[t]||{},fw[t]}function cB(e,t){return function n(r){return Yb(r,{delegateTarget:e}),n.oneOff&&ke.off(e,r.type,t),t.apply(e,[r])}}function dB(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return Yb(i,{delegateTarget:a}),r.oneOff&&ke.off(e,i.type,t,n),n.apply(a,[i])}}function zO(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function HO(e,t,n){const r=typeof t=="string",i=r?n:t||n;let o=WO(e);return uB.has(o)||(o=e),[r,i,o]}function H1(e,t,n,r,i){if(typeof t!="string"||!e)return;let[o,a,s]=HO(t,n,r);t in UO&&(a=(_=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return _.call(this,E)})(a));const l=BO(e),u=l[s]||(l[s]={}),c=zO(u,a,o?n:null);if(c){c.oneOff=c.oneOff&&i;return}const f=VO(a,t.replace(aB,"")),h=o?dB(e,n,a):cB(e,a);h.delegationSelector=o?n:null,h.callable=a,h.oneOff=i,h.uidEvent=f,u[f]=h,e.addEventListener(s,h,o)}function d_(e,t,n,r,i){const o=zO(t[n],r,i);o&&(e.removeEventListener(n,o,!!i),delete t[n][o.uidEvent])}function fB(e,t,n,r){const i=t[n]||{};for(const[o,a]of Object.entries(i))o.includes(r)&&d_(e,t,n,a.callable,a.delegationSelector)}function WO(e){return e=e.replace(sB,""),UO[e]||e}const ke={on(e,t,n,r){H1(e,t,n,r,!1)},one(e,t,n,r){H1(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,o,a]=HO(t,n,r),s=a!==t,l=BO(e),u=l[a]||{},c=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(u).length)return;d_(e,l,a,o,i?n:null);return}if(c)for(const f of Object.keys(l))fB(e,l,f,t.slice(1));for(const[f,h]of Object.entries(u)){const v=f.replace(lB,"");(!s||t.includes(v))&&d_(e,l,a,h.callable,h.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=FO(),i=WO(t),o=t!==i;let a=null,s=!0,l=!0,u=!1;o&&r&&(a=r.Event(t,n),r(e).trigger(a),s=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const c=Yb(new Event(t,{bubbles:s,cancelable:!0}),n);return u&&c.preventDefault(),l&&e.dispatchEvent(c),c.defaultPrevented&&a&&a.preventDefault(),c}};function Yb(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function W1(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function hw(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Zo={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${hw(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${hw(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=W1(e.dataset[r])}return t},getDataAttribute(e,t){return W1(e.getAttribute(`data-bs-${hw(t)}`))}};class sh{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=Jo(n)?Zo.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Jo(n)?Zo.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const o=t[r],a=Jo(o)?"element":nB(o);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const hB="5.3.0-alpha2";class fo extends sh{constructor(t,n){super(),t=rs(t),t&&(this._element=t,this._config=this._getConfig(n),cw.set(this._element,this.constructor.DATA_KEY,this))}dispose(){cw.remove(this._element,this.constructor.DATA_KEY),ke.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){jO(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return cw.get(rs(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return hB}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const mw=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return PO(t)},lt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!is(n)&&_c(n))},getSelectorFromElement(e){const t=mw(e);return t&&lt.findOne(t)?t:null},getElementFromSelector(e){const t=mw(e);return t?lt.findOne(t):null},getMultipleElementsFromSelector(e){const t=mw(e);return t?lt.find(t):[]}},Xv=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;ke.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),is(this))return;const o=lt.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(o)[t]()})},mB="alert",gB="bs.alert",KO=`.${gB}`,vB=`close${KO}`,pB=`closed${KO}`,yB="fade",wB="show";class Jv extends fo{static get NAME(){return mB}close(){if(ke.trigger(this._element,vB).defaultPrevented)return;this._element.classList.remove(wB);const n=this._element.classList.contains(yB);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),ke.trigger(this._element,pB),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Jv.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Xv(Jv,"close");zi(Jv);const EB="button",_B="bs.button",SB=`.${_B}`,bB=".data-api",CB="active",K1='[data-bs-toggle="button"]',TB=`click${SB}${bB}`;let GO=class qO extends fo{static get NAME(){return EB}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CB))}static jQueryInterface(t){return this.each(function(){const n=qO.getOrCreateInstance(this);t==="toggle"&&n[t]()})}};ke.on(document,TB,K1,e=>{e.preventDefault();const t=e.target.closest(K1);GO.getOrCreateInstance(t).toggle()});zi(GO);const IB="swipe",Sc=".bs.swipe",RB=`touchstart${Sc}`,kB=`touchmove${Sc}`,DB=`touchend${Sc}`,AB=`pointerdown${Sc}`,NB=`pointerup${Sc}`,OB="touch",xB="pen",MB="pointer-event",PB=40,LB={endCallback:null,leftCallback:null,rightCallback:null},$B={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ug extends sh{constructor(t,n){super(),this._element=t,!(!t||!Ug.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return LB}static get DefaultType(){return $B}static get NAME(){return IB}dispose(){ke.off(this._element,Sc)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Qr(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=PB)return;const n=t/this._deltaX;this._deltaX=0,n&&Qr(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ke.on(this._element,AB,t=>this._start(t)),ke.on(this._element,NB,t=>this._end(t)),this._element.classList.add(MB)):(ke.on(this._element,RB,t=>this._start(t)),ke.on(this._element,kB,t=>this._move(t)),ke.on(this._element,DB,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===xB||t.pointerType===OB)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const FB="carousel",jB="bs.carousel",vs=`.${jB}`,YO=".data-api",UB="ArrowLeft",VB="ArrowRight",BB=500,ld="next",Xl="prev",iu="left",ng="right",zB=`slide${vs}`,gw=`slid${vs}`,HB=`keydown${vs}`,WB=`mouseenter${vs}`,KB=`mouseleave${vs}`,GB=`dragstart${vs}`,qB=`load${vs}${YO}`,YB=`click${vs}${YO}`,QO="carousel",Sm="active",QB="slide",XB="carousel-item-end",JB="carousel-item-start",ZB="carousel-item-next",ez="carousel-item-prev",XO=".active",JO=".carousel-item",tz=XO+JO,nz=".carousel-item img",rz=".carousel-indicators",iz="[data-bs-slide], [data-bs-slide-to]",oz='[data-bs-ride="carousel"]',az={[UB]:ng,[VB]:iu},sz={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lz={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lh extends fo{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=lt.findOne(rz,this._element),this._addEventListeners(),this._config.ride===QO&&this.cycle()}static get Default(){return sz}static get DefaultType(){return lz}static get NAME(){return FB}next(){this._slide(ld)}nextWhenVisible(){!document.hidden&&_c(this._element)&&this.next()}prev(){this._slide(Xl)}pause(){this._isSliding&&LO(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ke.one(this._element,gw,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){ke.one(this._element,gw,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?ld:Xl;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ke.on(this._element,HB,t=>this._keydown(t)),this._config.pause==="hover"&&(ke.on(this._element,WB,()=>this.pause()),ke.on(this._element,KB,()=>this._maybeEnableCycle())),this._config.touch&&Ug.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of lt.find(nz,this._element))ke.on(r,GB,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(iu)),rightCallback:()=>this._slide(this._directionToOrder(ng)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),BB+this._config.interval))}};this._swipeHelper=new Ug(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=az[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=lt.findOne(XO,this._indicatorsElement);n.classList.remove(Sm),n.removeAttribute("aria-current");const r=lt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(Sm),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===ld,o=n||qb(this._getItems(),r,i,this._config.wrap);if(o===r)return;const a=this._getItemIndex(o),s=v=>ke.trigger(this._element,v,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:a});if(s(zB).defaultPrevented||!r||!o)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=o;const c=i?JB:XB,f=i?ZB:ez;o.classList.add(f),ah(o),r.classList.add(c),o.classList.add(c);const h=()=>{o.classList.remove(c,f),o.classList.add(Sm),r.classList.remove(Sm,f,c),this._isSliding=!1,s(gw)};this._queueCallback(h,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(QB)}_getActive(){return lt.findOne(tz,this._element)}_getItems(){return lt.find(JO,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ji()?t===iu?Xl:ld:t===iu?ld:Xl}_orderToDirection(t){return ji()?t===Xl?iu:ng:t===Xl?ng:iu}static jQueryInterface(t){return this.each(function(){const n=lh.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ke.on(document,YB,iz,function(e){const t=lt.getElementFromSelector(this);if(!t||!t.classList.contains(QO))return;e.preventDefault();const n=lh.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Zo.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});ke.on(window,qB,()=>{const e=lt.find(oz);for(const t of e)lh.getOrCreateInstance(t)});zi(lh);const uz="collapse",cz="bs.collapse",uh=`.${cz}`,dz=".data-api",fz=`show${uh}`,hz=`shown${uh}`,mz=`hide${uh}`,gz=`hidden${uh}`,vz=`click${uh}${dz}`,vw="show",_u="collapse",bm="collapsing",pz="collapsed",yz=`:scope .${_u} .${_u}`,wz="collapse-horizontal",Ez="width",_z="height",Sz=".collapse.show, .collapse.collapsing",f_='[data-bs-toggle="collapse"]',bz={parent:null,toggle:!0},Cz={parent:"(null|element)",toggle:"boolean"};class Sf extends fo{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=lt.find(f_);for(const i of r){const o=lt.getSelectorFromElement(i),a=lt.find(o).filter(s=>s===this._element);o!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return bz}static get DefaultType(){return Cz}static get NAME(){return uz}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Sz).filter(s=>s!==this._element).map(s=>Sf.getOrCreateInstance(s,{toggle:!1}))),t.length&&t[0]._isTransitioning||ke.trigger(this._element,fz).defaultPrevented)return;for(const s of t)s.hide();const r=this._getDimension();this._element.classList.remove(_u),this._element.classList.add(bm),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(bm),this._element.classList.add(_u,vw),this._element.style[r]="",ke.trigger(this._element,hz)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||ke.trigger(this._element,mz).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,ah(this._element),this._element.classList.add(bm),this._element.classList.remove(_u,vw);for(const i of this._triggerArray){const o=lt.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(bm),this._element.classList.add(_u),ke.trigger(this._element,gz)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(vw)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=rs(t.parent),t}_getDimension(){return this._element.classList.contains(wz)?Ez:_z}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(f_);for(const n of t){const r=lt.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=lt.find(yz,this._config.parent);return lt.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(pz,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=Sf.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}ke.on(document,vz,f_,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of lt.getMultipleElementsFromSelector(this))Sf.getOrCreateInstance(t,{toggle:!1}).toggle()});zi(Sf);const G1="dropdown",Tz="bs.dropdown",bl=`.${Tz}`,Qb=".data-api",Iz="Escape",q1="Tab",Rz="ArrowUp",Y1="ArrowDown",kz=2,Dz=`hide${bl}`,Az=`hidden${bl}`,Nz=`show${bl}`,Oz=`shown${bl}`,ZO=`click${bl}${Qb}`,ex=`keydown${bl}${Qb}`,xz=`keyup${bl}${Qb}`,ou="show",Mz="dropup",Pz="dropend",Lz="dropstart",$z="dropup-center",Fz="dropdown-center",Us='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jz=`${Us}.${ou}`,rg=".dropdown-menu",Uz=".navbar",Vz=".navbar-nav",Bz=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",zz=ji()?"top-end":"top-start",Hz=ji()?"top-start":"top-end",Wz=ji()?"bottom-end":"bottom-start",Kz=ji()?"bottom-start":"bottom-end",Gz=ji()?"left-start":"right-start",qz=ji()?"right-start":"left-start",Yz="top",Qz="bottom",Xz={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jz={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let bc=class ig extends fo{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=lt.next(this._element,rg)[0]||lt.prev(this._element,rg)[0]||lt.findOne(rg,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xz}static get DefaultType(){return Jz}static get NAME(){return G1}toggle(){return this._isShown()?this.hide():this.show()}show(){if(is(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ke.trigger(this._element,Nz,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Vz))for(const r of[].concat(...document.body.children))ke.on(r,"mouseover",jg);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ou),this._element.classList.add(ou),ke.trigger(this._element,Oz,t)}}hide(){if(is(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ke.trigger(this._element,Dz,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ke.off(r,"mouseover",jg);this._popper&&this._popper.destroy(),this._menu.classList.remove(ou),this._element.classList.remove(ou),this._element.setAttribute("aria-expanded","false"),Zo.removeDataAttribute(this._menu,"popper"),ke.trigger(this._element,Az,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Jo(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${G1.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof MO>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Jo(this._config.reference)?t=rs(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Gb(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ou)}_getPlacement(){const t=this._parent;if(t.classList.contains(Pz))return Gz;if(t.classList.contains(Lz))return qz;if(t.classList.contains($z))return Yz;if(t.classList.contains(Fz))return Qz;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Mz)?n?Hz:zz:n?Kz:Wz}_detectNavbar(){return this._element.closest(Uz)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Zo.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Qr(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=lt.find(Bz,this._menu).filter(i=>_c(i));r.length&&qb(r,n,t===Y1,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=ig.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===kz||t.type==="keyup"&&t.key!==q1)return;const n=lt.find(jz);for(const r of n){const i=ig.getInstance(r);if(!i||i._config.autoClose===!1)continue;const o=t.composedPath(),a=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===q1||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const s={relatedTarget:i._element};t.type==="click"&&(s.clickEvent=t),i._completeHide(s)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===Iz,i=[Rz,Y1].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const o=this.matches(Us)?this:lt.prev(this,Us)[0]||lt.next(this,Us)[0]||lt.findOne(Us,t.delegateTarget.parentNode),a=ig.getOrCreateInstance(o);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),o.focus())}};ke.on(document,ex,Us,bc.dataApiKeydownHandler);ke.on(document,ex,rg,bc.dataApiKeydownHandler);ke.on(document,ZO,bc.clearMenus);ke.on(document,xz,bc.clearMenus);ke.on(document,ZO,Us,function(e){e.preventDefault(),bc.getOrCreateInstance(this).toggle()});zi(bc);const tx="backdrop",Zz="fade",Q1="show",X1=`mousedown.bs.${tx}`,e4={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},t4={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nx extends sh{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return e4}static get DefaultType(){return t4}static get NAME(){return tx}show(t){if(!this._config.isVisible){Qr(t);return}this._append();const n=this._getElement();this._config.isAnimated&&ah(n),n.classList.add(Q1),this._emulateAnimation(()=>{Qr(t)})}hide(t){if(!this._config.isVisible){Qr(t);return}this._getElement().classList.remove(Q1),this._emulateAnimation(()=>{this.dispose(),Qr(t)})}dispose(){this._isAppended&&(ke.off(this._element,X1),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Zz),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=rs(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ke.on(t,X1,()=>{Qr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){jO(t,this._getElement(),this._config.isAnimated)}}const n4="focustrap",r4="bs.focustrap",Vg=`.${r4}`,i4=`focusin${Vg}`,o4=`keydown.tab${Vg}`,a4="Tab",s4="forward",J1="backward",l4={autofocus:!0,trapElement:null},u4={autofocus:"boolean",trapElement:"element"};class rx extends sh{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return l4}static get DefaultType(){return u4}static get NAME(){return n4}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ke.off(document,Vg),ke.on(document,i4,t=>this._handleFocusin(t)),ke.on(document,o4,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ke.off(document,Vg))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=lt.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===J1?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===a4&&(this._lastTabNavDirection=t.shiftKey?J1:s4)}}const Z1=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eI=".sticky-top",Cm="padding-right",tI="margin-right";class h_{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Cm,n=>n+t),this._setElementAttributes(Z1,Cm,n=>n+t),this._setElementAttributes(eI,tI,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Cm),this._resetElementAttributes(Z1,Cm),this._resetElementAttributes(eI,tI)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),o=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const s=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(s))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&Zo.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const o=Zo.getDataAttribute(i,n);if(o===null){i.style.removeProperty(n);return}Zo.removeDataAttribute(i,n),i.style.setProperty(n,o)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(Jo(t)){n(t);return}for(const r of lt.find(t,this._element))n(r)}}const c4="modal",d4="bs.modal",Ui=`.${d4}`,f4=".data-api",h4="Escape",m4=`hide${Ui}`,g4=`hidePrevented${Ui}`,ix=`hidden${Ui}`,ox=`show${Ui}`,v4=`shown${Ui}`,p4=`resize${Ui}`,y4=`click.dismiss${Ui}`,w4=`mousedown.dismiss${Ui}`,E4=`keydown.dismiss${Ui}`,_4=`click${Ui}${f4}`,nI="modal-open",S4="fade",rI="show",pw="modal-static",b4=".modal.show",C4=".modal-dialog",T4=".modal-body",I4='[data-bs-toggle="modal"]',R4={backdrop:!0,focus:!0,keyboard:!0},k4={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zu extends fo{constructor(t,n){super(t,n),this._dialog=lt.findOne(C4,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new h_,this._addEventListeners()}static get Default(){return R4}static get DefaultType(){return k4}static get NAME(){return c4}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ke.trigger(this._element,ox,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(nI),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||ke.trigger(this._element,m4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(rI),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ke.off(window,Ui),ke.off(this._dialog,Ui),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nx({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rx({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=lt.findOne(T4,this._dialog);n&&(n.scrollTop=0),ah(this._element),this._element.classList.add(rI);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ke.trigger(this._element,v4,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ke.on(this._element,E4,t=>{if(t.key===h4){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ke.on(window,p4,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ke.on(this._element,w4,t=>{ke.one(this._element,y4,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(nI),this._resetAdjustments(),this._scrollBar.reset(),ke.trigger(this._element,ix)})}_isAnimated(){return this._element.classList.contains(S4)}_triggerBackdropTransition(){if(ke.trigger(this._element,g4).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(pw)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(pw),this._queueCallback(()=>{this._element.classList.remove(pw),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=ji()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=ji()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=Zu.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}ke.on(document,_4,I4,function(e){const t=lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ke.one(t,ox,i=>{i.defaultPrevented||ke.one(t,ix,()=>{_c(this)&&this.focus()})});const n=lt.findOne(b4);n&&Zu.getInstance(n).hide(),Zu.getOrCreateInstance(t).toggle(this)});Xv(Zu);zi(Zu);const D4="offcanvas",A4="bs.offcanvas",ga=`.${A4}`,ax=".data-api",N4=`load${ga}${ax}`,O4="Escape",iI="show",oI="showing",aI="hiding",x4="offcanvas-backdrop",sx=".offcanvas.show",M4=`show${ga}`,P4=`shown${ga}`,L4=`hide${ga}`,sI=`hidePrevented${ga}`,lx=`hidden${ga}`,$4=`resize${ga}`,F4=`click${ga}${ax}`,j4=`keydown.dismiss${ga}`,U4='[data-bs-toggle="offcanvas"]',V4={backdrop:!0,keyboard:!0,scroll:!1},B4={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class os extends fo{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return V4}static get DefaultType(){return B4}static get NAME(){return D4}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||ke.trigger(this._element,M4,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new h_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(oI);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(iI),this._element.classList.remove(oI),ke.trigger(this._element,P4,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ke.trigger(this._element,L4).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(aI),this._backdrop.hide();const n=()=>{this._element.classList.remove(iI,aI),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new h_().reset(),ke.trigger(this._element,lx)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){ke.trigger(this._element,sI);return}this.hide()},n=!!this._config.backdrop;return new nx({className:x4,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new rx({trapElement:this._element})}_addEventListeners(){ke.on(this._element,j4,t=>{if(t.key===O4){if(this._config.keyboard){this.hide();return}ke.trigger(this._element,sI)}})}static jQueryInterface(t){return this.each(function(){const n=os.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ke.on(document,F4,U4,function(e){const t=lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),is(this))return;ke.one(t,lx,()=>{_c(this)&&this.focus()});const n=lt.findOne(sx);n&&n!==t&&os.getInstance(n).hide(),os.getOrCreateInstance(t).toggle(this)});ke.on(window,N4,()=>{for(const e of lt.find(sx))os.getOrCreateInstance(e).show()});ke.on(window,$4,()=>{for(const e of lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&os.getOrCreateInstance(e).hide()});Xv(os);zi(os);const z4=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),H4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,W4=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,K4=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?z4.has(n)?!!(H4.test(e.nodeValue)||W4.test(e.nodeValue)):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))},G4=/^aria-[\w-]*$/i,ux={"*":["class","dir","id","lang","role",G4],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function q4(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const a of o){const s=a.nodeName.toLowerCase();if(!Object.keys(t).includes(s)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(t["*"]||[],t[s]||[]);for(const c of l)K4(c,u)||a.removeAttribute(c.nodeName)}return i.body.innerHTML}const Y4="TemplateFactory",Q4={allowList:ux,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},X4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},J4={entry:"(string|element|function|null)",selector:"(string|element)"};class Z4 extends sh{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Q4}static get DefaultType(){return X4}static get NAME(){return Y4}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,o]of Object.entries(this._config.content))this._setContent(t,o,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},J4)}_setContent(t,n,r){const i=lt.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Jo(n)){this._putElementInTemplate(rs(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?q4(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Qr(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const eH="tooltip",tH=new Set(["sanitize","allowList","sanitizeFn"]),yw="fade",nH="modal",Tm="show",rH=".tooltip-inner",lI=`.${nH}`,uI="hide.bs.modal",ud="hover",ww="focus",iH="click",oH="manual",aH="hide",sH="hidden",lH="show",uH="shown",cH="inserted",dH="click",fH="focusin",hH="focusout",mH="mouseenter",gH="mouseleave",vH={AUTO:"auto",TOP:"top",RIGHT:ji()?"left":"right",BOTTOM:"bottom",LEFT:ji()?"right":"left"},pH={allowList:ux,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yH={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Zv=class cx extends fo{constructor(t,n){if(typeof MO>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return pH}static get DefaultType(){return yH}static get NAME(){return eH}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ke.off(this._element.closest(lI),uI,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=ke.trigger(this._element,this.constructor.eventName(lH)),r=($O(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),ke.trigger(this._element,this.constructor.eventName(cH))),this._popper=this._createPopper(i),i.classList.add(Tm),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ke.on(s,"mouseover",jg);const a=()=>{ke.trigger(this._element,this.constructor.eventName(uH)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ke.trigger(this._element,this.constructor.eventName(aH)).defaultPrevented)return;if(this._getTipElement().classList.remove(Tm),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ke.off(i,"mouseover",jg);this._activeTrigger[iH]=!1,this._activeTrigger[ww]=!1,this._activeTrigger[ud]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ke.trigger(this._element,this.constructor.eventName(sH)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(yw,Tm),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=rB(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(yw),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Z4({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[rH]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(yw)}_isShown(){return this.tip&&this.tip.classList.contains(Tm)}_createPopper(t){const n=Qr(this._config.placement,[this,t,this._element]),r=vH[n.toUpperCase()];return Gb(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Qr(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...Qr(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")ke.on(this._element,this.constructor.eventName(dH),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==oH){const r=n===ud?this.constructor.eventName(mH):this.constructor.eventName(fH),i=n===ud?this.constructor.eventName(gH):this.constructor.eventName(hH);ke.on(this._element,r,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusin"?ww:ud]=!0,a._enter()}),ke.on(this._element,i,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusout"?ww:ud]=a._element.contains(o.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ke.on(this._element.closest(lI),uI,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Zo.getDataAttributes(this._element);for(const r of Object.keys(n))tH.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:rs(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=cx.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}};zi(Zv);const wH="popover",EH=".popover-header",_H=".popover-body",SH={...Zv.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bH={...Zv.DefaultType,content:"(null|string|element|function)"};class Xb extends Zv{static get Default(){return SH}static get DefaultType(){return bH}static get NAME(){return wH}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[EH]:this._getTitle(),[_H]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=Xb.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}zi(Xb);const CH="scrollspy",TH="bs.scrollspy",Jb=`.${TH}`,IH=".data-api",RH=`activate${Jb}`,cI=`click${Jb}`,kH=`load${Jb}${IH}`,DH="dropdown-item",Jl="active",AH='[data-bs-spy="scroll"]',Ew="[href]",NH=".nav, .list-group",dI=".nav-link",OH=".nav-item",xH=".list-group-item",MH=`${dI}, ${OH} > ${dI}, ${xH}`,PH=".dropdown",LH=".dropdown-toggle",$H={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},FH={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ep extends fo{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $H}static get DefaultType(){return FH}static get NAME(){return CH}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=rs(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ke.off(this._config.target,cI),ke.on(this._config.target,cI,Ew,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const s=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&s){if(r(a),!i)return;continue}!o&&!s&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=lt.find(Ew,this._config.target);for(const n of t){if(!n.hash||is(n))continue;const r=lt.findOne(n.hash,this._element);_c(r)&&(this._targetLinks.set(n.hash,n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Jl),this._activateParents(t),ke.trigger(this._element,RH,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(DH)){lt.findOne(LH,t.closest(PH)).classList.add(Jl);return}for(const n of lt.parents(t,NH))for(const r of lt.prev(n,MH))r.classList.add(Jl)}_clearActiveClass(t){t.classList.remove(Jl);const n=lt.find(`${Ew}.${Jl}`,t);for(const r of n)r.classList.remove(Jl)}static jQueryInterface(t){return this.each(function(){const n=ep.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ke.on(window,kH,()=>{for(const e of lt.find(AH))ep.getOrCreateInstance(e)});zi(ep);const jH="tab",UH="bs.tab",Cl=`.${UH}`,VH=`hide${Cl}`,BH=`hidden${Cl}`,zH=`show${Cl}`,HH=`shown${Cl}`,WH=`click${Cl}`,KH=`keydown${Cl}`,GH=`load${Cl}`,qH="ArrowLeft",fI="ArrowRight",YH="ArrowUp",hI="ArrowDown",Vs="active",mI="fade",_w="show",QH="dropdown",XH=".dropdown-toggle",JH=".dropdown-menu",Sw=":not(.dropdown-toggle)",ZH='.list-group, .nav, [role="tablist"]',e3=".nav-item, .list-group-item",t3=`.nav-link${Sw}, .list-group-item${Sw}, [role="tab"]${Sw}`,dx='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',bw=`${t3}, ${dx}`,n3=`.${Vs}[data-bs-toggle="tab"], .${Vs}[data-bs-toggle="pill"], .${Vs}[data-bs-toggle="list"]`;class ec extends fo{constructor(t){super(t),this._parent=this._element.closest(ZH),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ke.on(this._element,KH,n=>this._keydown(n)))}static get NAME(){return jH}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?ke.trigger(n,VH,{relatedTarget:t}):null;ke.trigger(t,zH,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Vs),this._activate(lt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(_w);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ke.trigger(t,HH,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(mI))}_deactivate(t,n){if(!t)return;t.classList.remove(Vs),t.blur(),this._deactivate(lt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(_w);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ke.trigger(t,BH,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(mI))}_keydown(t){if(![qH,fI,YH,hI].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=[fI,hI].includes(t.key),r=qb(this._getChildren().filter(i=>!is(i)),t.target,n,!0);r&&(r.focus({preventScroll:!0}),ec.getOrCreateInstance(r).show())}_getChildren(){return lt.find(bw,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=lt.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(QH))return;const i=(o,a)=>{const s=lt.findOne(o,r);s&&s.classList.toggle(a,n)};i(XH,Vs),i(JH,_w),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(Vs)}_getInnerElement(t){return t.matches(bw)?t:lt.findOne(bw,t)}_getOuterElement(t){return t.closest(e3)||t}static jQueryInterface(t){return this.each(function(){const n=ec.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ke.on(document,WH,dx,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!is(this)&&ec.getOrCreateInstance(this).show()});ke.on(window,GH,()=>{for(const e of lt.find(n3))ec.getOrCreateInstance(e)});zi(ec);const r3="toast",i3="bs.toast",ps=`.${i3}`,o3=`mouseover${ps}`,a3=`mouseout${ps}`,s3=`focusin${ps}`,l3=`focusout${ps}`,u3=`hide${ps}`,c3=`hidden${ps}`,d3=`show${ps}`,f3=`shown${ps}`,h3="fade",gI="hide",Im="show",Rm="showing",m3={animation:"boolean",autohide:"boolean",delay:"number"},g3={animation:!0,autohide:!0,delay:5e3};let fx=class hx extends fo{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return g3}static get DefaultType(){return m3}static get NAME(){return r3}show(){if(ke.trigger(this._element,d3).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(h3);const n=()=>{this._element.classList.remove(Rm),ke.trigger(this._element,f3),this._maybeScheduleHide()};this._element.classList.remove(gI),ah(this._element),this._element.classList.add(Im,Rm),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||ke.trigger(this._element,u3).defaultPrevented)return;const n=()=>{this._element.classList.add(gI),this._element.classList.remove(Rm,Im),ke.trigger(this._element,c3)};this._element.classList.add(Rm),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Im),super.dispose()}isShown(){return this._element.classList.contains(Im)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ke.on(this._element,o3,t=>this._onInteraction(t,!0)),ke.on(this._element,a3,t=>this._onInteraction(t,!1)),ke.on(this._element,s3,t=>this._onInteraction(t,!0)),ke.on(this._element,l3,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=hx.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}};Xv(fx);zi(fx);/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}var Fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fa||(Fa={}));const vI="popstate";function v3(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return m_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bg(i)}return y3(t,n,null,e)}function zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p3(){return Math.random().toString(36).substr(2,8)}function pI(e,t){return{usr:e.state,key:e.key,idx:t}}function m_(e,t,n,r){return n===void 0&&(n=null),bf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cc(t):t,{state:n,key:t&&t.key||r||p3()})}function Bg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y3(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Fa.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(bf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Fa.Pop;let S=c(),w=S==null?null:S-u;u=S,l&&l({action:s,location:E.location,delta:w})}function h(S,w){s=Fa.Push;let p=m_(E.location,S,w);n&&n(p,S),u=c()+1;let y=pI(p,u),C=E.createHref(p);try{a.pushState(y,"",C)}catch{i.location.assign(C)}o&&l&&l({action:s,location:E.location,delta:1})}function v(S,w){s=Fa.Replace;let p=m_(E.location,S,w);n&&n(p,S),u=c();let y=pI(p,u),C=E.createHref(p);a.replaceState(y,"",C),o&&l&&l({action:s,location:E.location,delta:0})}function _(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:Bg(S);return zn(w,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,w)}let E={get action(){return s},get location(){return e(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vI,f),l=S,()=>{i.removeEventListener(vI,f),l=null}},createHref(S){return t(i,S)},createURL:_,encodeLocation(S){let w=_(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:v,go(S){return a.go(S)}};return E}var yI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yI||(yI={}));function w3(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Cc(t):t,i=e0(r.pathname||"/",n);if(i==null)return null;let o=mx(e);E3(o);let a=null;for(let s=0;a==null&&s<o.length;++s)a=D3(o[s],O3(i));return a}function mx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(zn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=qa([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(zn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mx(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:R3(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of gx(o.path))i(o,a,l)}),t}function gx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=gx(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function E3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:k3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _3=/^:\w+$/,S3=3,b3=2,C3=1,T3=10,I3=-2,wI=e=>e==="*";function R3(e,t){let n=e.split("/"),r=n.length;return n.some(wI)&&(r+=I3),t&&(r+=b3),n.filter(i=>!wI(i)).reduce((i,o)=>i+(_3.test(o)?S3:o===""?C3:T3),r)}function k3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function D3(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=A3({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=s.route;o.push({params:r,pathname:qa([i,c.pathname]),pathnameBase:L3(qa([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=qa([i,c.pathnameBase]))}return o}function A3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N3(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=s[f]||"";a=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=x3(s[f]||"",c),u},{}),pathname:o,pathnameBase:a,pattern:e}}function N3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function O3(e){try{return decodeURI(e)}catch(t){return Zb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function x3(e,t){try{return decodeURIComponent(e)}catch(n){return Zb(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function e0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function M3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cc(e):e;return{pathname:n?n.startsWith("/")?n:P3(n,t):t,search:$3(r),hash:F3(i)}}function P3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function px(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Cc(e):(i=bf({},e),zn(!i.pathname||!i.pathname.includes("?"),Cw("?","pathname","search",i)),zn(!i.pathname||!i.pathname.includes("#"),Cw("#","pathname","hash",i)),zn(!i.search||!i.search.includes("#"),Cw("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let f=t.length-1;if(a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=M3(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),L3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yx=["post","put","patch","delete"];new Set(yx);const U3=["get",...yx];new Set(U3);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}const t0=d.createContext(null),wx=d.createContext(null),Tl=d.createContext(null),tp=d.createContext(null),Il=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Ex=d.createContext(null);function V3(e,t){let{relative:n}=t===void 0?{}:t;ch()||zn(!1);let{basename:r,navigator:i}=d.useContext(Tl),{hash:o,pathname:a,search:s}=n0(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:qa([r,a])),i.createHref({pathname:l,search:s,hash:o})}function ch(){return d.useContext(tp)!=null}function dh(){return ch()||zn(!1),d.useContext(tp).location}function _x(e){d.useContext(Tl).static||d.useLayoutEffect(e)}function B3(){let{isDataRoute:e}=d.useContext(Il);return e?tW():z3()}function z3(){ch()||zn(!1);let e=d.useContext(t0),{basename:t,navigator:n}=d.useContext(Tl),{matches:r}=d.useContext(Il),{pathname:i}=dh(),o=JSON.stringify(vx(r).map(l=>l.pathnameBase)),a=d.useRef(!1);return _x(()=>{a.current=!0}),d.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=px(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:qa([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}function n0(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=d.useContext(Il),{pathname:i}=dh(),o=JSON.stringify(vx(r).map(a=>a.pathnameBase));return d.useMemo(()=>px(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function H3(e,t){return W3(e,t)}function W3(e,t,n){ch()||zn(!1);let{navigator:r}=d.useContext(Tl),{matches:i}=d.useContext(Il),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let l=dh(),u;if(t){var c;let E=typeof t=="string"?Cc(t):t;s==="/"||(c=E.pathname)!=null&&c.startsWith(s)||zn(!1),u=E}else u=l;let f=u.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",v=w3(e,{pathname:h}),_=Q3(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:qa([s,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?s:qa([s,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return t&&_?d.createElement(tp.Provider,{value:{location:zg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fa.Pop}},_):_}function K3(){let e=eW(),t=j3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:i},n):null,o)}const G3=d.createElement(K3,null);class q3 extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?d.createElement(Il.Provider,{value:this.props.routeContext},d.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y3(e){let{routeContext:t,match:n,children:r}=e,i=d.useContext(t0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Il.Provider,{value:t},r)}function Q3(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let s=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id]));s>=0||zn(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((s,l,u)=>{let c=l.route.id?a==null?void 0:a[l.route.id]:null,f=null;n&&(f=l.route.errorElement||G3);let h=t.concat(o.slice(0,u+1)),v=()=>{let _;return c?_=f:l.route.Component?_=d.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=s,d.createElement(Y3,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?d.createElement(q3,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:v(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):v()},null)}var g_;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(g_||(g_={}));var Cf;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Cf||(Cf={}));function X3(e){let t=d.useContext(t0);return t||zn(!1),t}function J3(e){let t=d.useContext(wx);return t||zn(!1),t}function Z3(e){let t=d.useContext(Il);return t||zn(!1),t}function Sx(e){let t=Z3(),n=t.matches[t.matches.length-1];return n.route.id||zn(!1),n.route.id}function eW(){var e;let t=d.useContext(Ex),n=J3(Cf.UseRouteError),r=Sx(Cf.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function tW(){let{router:e}=X3(g_.UseNavigateStable),t=Sx(Cf.UseNavigateStable),n=d.useRef(!1);return _x(()=>{n.current=!0}),d.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zg({fromRouteId:t},o)))},[e,t])}function Cd(e){zn(!1)}function nW(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fa.Pop,navigator:o,static:a=!1}=e;ch()&&zn(!1);let s=t.replace(/^\/*/,"/"),l=d.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=Cc(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:v="default"}=r,_=d.useMemo(()=>{let E=e0(u,s);return E==null?null:{location:{pathname:E,search:c,hash:f,state:h,key:v},navigationType:i}},[s,u,c,f,h,v,i]);return _==null?null:d.createElement(Tl.Provider,{value:l},d.createElement(tp.Provider,{children:n,value:_}))}function rW(e){let{children:t,location:n}=e;return H3(v_(t),n)}var EI;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(EI||(EI={}));new Promise(()=>{});function v_(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,i)=>{if(!d.isValidElement(r))return;let o=[...t,i];if(r.type===d.Fragment){n.push.apply(n,v_(r.props.children,o));return}r.type!==Cd&&zn(!1),!r.props.index||!r.props.children||zn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=v_(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hg.apply(this,arguments)}function bx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oW(e,t){return e.button===0&&(!t||t==="_self")&&!iW(e)}const aW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],sW=["aria-current","caseSensitive","className","end","style","to","children"];function lW(e){let{basename:t,children:n,window:r}=e,i=d.useRef();i.current==null&&(i.current=v3({window:r,v5Compat:!0}));let o=i.current,[a,s]=d.useState({action:o.action,location:o.location});return d.useLayoutEffect(()=>o.listen(s),[o]),d.createElement(nW,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const uW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dW=d.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c}=t,f=bx(t,aW),{basename:h}=d.useContext(Tl),v,_=!1;if(typeof u=="string"&&cW.test(u)&&(v=u,uW))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),C=e0(y.pathname,h);y.origin===p.origin&&C!=null?u=C+y.search+y.hash:_=!0}catch{}let E=V3(u,{relative:i}),S=fW(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i});function w(p){r&&r(p),p.defaultPrevented||S(p)}return d.createElement("a",Hg({},f,{href:v||E,onClick:_||o?r:w,ref:n,target:l}))}),Tw=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,children:u}=t,c=bx(t,sW),f=n0(l,{relative:c.relative}),h=dh(),v=d.useContext(wx),{navigator:_}=d.useContext(Tl),E=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,S=h.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),w=w?w.toLowerCase():null,E=E.toLowerCase());let p=S===E||!a&&S.startsWith(E)&&S.charAt(E.length)==="/",y=w!=null&&(w===E||!a&&w.startsWith(E)&&w.charAt(E.length)==="/"),C=p?r:void 0,A;typeof o=="function"?A=o({isActive:p,isPending:y}):A=[o,p?"active":null,y?"pending":null].filter(Boolean).join(" ");let P=typeof s=="function"?s({isActive:p,isPending:y}):s;return d.createElement(dW,Hg({},c,{"aria-current":C,className:A,ref:n,style:P,to:l}),typeof u=="function"?u({isActive:p,isPending:y}):u)});var _I;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(_I||(_I={}));var SI;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(SI||(SI={}));function fW(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a}=t===void 0?{}:t,s=B3(),l=dh(),u=n0(e,{relative:a});return d.useCallback(c=>{if(oW(c,n)){c.preventDefault();let f=r!==void 0?r:Bg(l)===Bg(u);s(e,{replace:f,state:i,preventScrollReset:o,relative:a})}},[l,s,u,r,i,n,e,o,a])}const hW=e=>oe.jsx(oe.Fragment,{children:oe.jsx("nav",{className:"navbar navbar-expand-lg bg-body-tertiary",children:oe.jsxs("div",{className:"container-fluid",children:[oe.jsx("a",{className:"navbar-brand",href:"#",children:"BIBLIO"}),oe.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:oe.jsx("span",{className:"navbar-toggler-icon"})}),oe.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[oe.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[oe.jsx("li",{className:"u-nav-item",children:oe.jsx(Tw,{to:e.urls[1],className:"nav-link",children:"Livres"})}),oe.jsx("li",{className:"u-nav-item",children:oe.jsx(Tw,{to:e.urls[2],className:"nav-link",children:"Usagers"})}),oe.jsx("li",{className:"u-nav-item",children:oe.jsx(Tw,{to:e.urls[3],className:"nav-link",children:"Emprunts"})})]}),oe.jsxs("form",{className:"d-flex",role:"search",children:[oe.jsx("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),oe.jsx("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})]})]})})}),mW=e=>(d.useEffect(()=>{},[]),oe.jsx(oe.Fragment,{children:oe.jsx("p",{children:"Home Content"})}));function gW(e){if(Array.isArray(e))return e}function vW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function p_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cx(e,t){if(e){if(typeof e=="string")return p_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(e,t)}}function pW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yW(e,t){return gW(e)||vW(e,t)||Cx(e,t)||pW()}function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(e)}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o){var a=Ir(o);if(a==="string"||a==="number")r.push(o);else if(a==="object"){var s=Array.isArray(o)?o:Object.entries(o).map(function(l){var u=yW(l,2),c=u[0],f=u[1];return f?c:null});r=s.length?r.concat(s.filter(function(l){return!!l})):r}}}return r.join(" ")}}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wW(e,t){if(Ir(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ir(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tx(e){var t=wW(e,"string");return Ir(t)==="symbol"?t:String(t)}function bI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tx(r.key),r)}}function i0(e,t,n){return t&&bI(e.prototype,t),n&&bI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function np(e,t,n){return t=Tx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iw(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=EW(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function EW(e,t){if(e){if(typeof e=="string")return CI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(){function e(){r0(this,e)}return i0(e,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var i=n.offsetWidth||n.getBoundingClientRect().width;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var i=n.offsetHeight||n.getBoundingClientRect().height;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var i=n.clientHeight;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var i=n.clientWidth;if(r){var o=getComputedStyle(n);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}return 0}},{key:"getViewport",value:function(){var n=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0],a=n.innerWidth||i.clientWidth||o.clientWidth,s=n.innerHeight||i.clientHeight||o.clientHeight;return{width:a,height:s}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,i=0,o=0;o<r.length;o++){if(r[o]===n)return i;r[o].nodeType===1&&i++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),o=0;o<i.length;o++)n.classList.add(i[o]);else for(var a=r.split(" "),s=0;s<a.length;s++)n.className+=" "+a[s]}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var i=r.split(" "),o=0;o<i.length;o++)n.classList.remove(i[o]);else for(var a=r.split(" "),s=0;s<a.length;s++)n.className=n.className.replace(new RegExp("(^|\\b)"+a[s].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,i=getComputedStyle(n);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,i=getComputedStyle(n);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}return 0}},{key:"alignOverlay",value:function(n,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(i==="self"?this.relativePosition(n,r):(o&&(n.style.minWidth=e.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){if(n){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=i.height,a=i.width,s=r.offsetHeight,l=r.offsetWidth,u=r.getBoundingClientRect(),c=this.getWindowScrollTop(),f=this.getWindowScrollLeft(),h=this.getViewport(),v,_;u.top+s+o>h.height?(v=u.top+c-o,v<0&&(v=c),n.style.transformOrigin="bottom"):(v=s+u.top+c,n.style.transformOrigin="top"),u.left+l+a>h.width?_=Math.max(0,u.left+f+l-a):_=u.left+f,n.style.top=v+"px",n.style.left=_+"px"}}},{key:"relativePosition",value:function(n,r){if(n){var i=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=r.offsetHeight,a=r.getBoundingClientRect(),s=this.getViewport(),l,u;a.top+o+i.height>s.height?(l=-1*i.height,a.top+l<0&&(l=-1*a.top),n.style.transformOrigin="bottom"):(l=o,n.style.transformOrigin="top"),i.width>s.width?u=a.left*-1:a.left+i.width>s.width?u=(a.left+i.width-s.width)*-1:u=0,n.style.top=l+"px",n.style.left=u+"px"}}},{key:"flipfitCollision",value:function(n,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",s=arguments.length>4?arguments[4]:void 0;if(n&&r){var l=r.getBoundingClientRect(),u=this.getViewport(),c=o.split(" "),f=a.split(" "),h=function(w,p){return p?+w.substring(w.search(/(\+|-)/g))||0:w.substring(0,w.search(/(\+|-)/g))||w},v={my:{x:h(c[0]),y:h(c[1]||c[0]),offsetX:h(c[0],!0),offsetY:h(c[1]||c[0],!0)},at:{x:h(f[0]),y:h(f[1]||f[0]),offsetX:h(f[0],!0),offsetY:h(f[1]||f[0],!0)}},_={left:function(){var w=v.my.offsetX+v.at.offsetX;return w+l.left+(v.my.x==="left"?0:-1*(v.my.x==="center"?i.getOuterWidth(n)/2:i.getOuterWidth(n)))},top:function(){var w=v.my.offsetY+v.at.offsetY;return w+l.top+(v.my.y==="top"?0:-1*(v.my.y==="center"?i.getOuterHeight(n)/2:i.getOuterHeight(n)))}},E={count:{x:0,y:0},left:function(){var w=_.left(),p=e.getWindowScrollLeft();n.style.left=w+p+"px",this.count.x===2?(n.style.left=p+"px",this.count.x=0):w<0&&(this.count.x++,v.my.x="left",v.at.x="right",v.my.offsetX*=-1,v.at.offsetX*=-1,this.right())},right:function(){var w=_.left()+e.getOuterWidth(r),p=e.getWindowScrollLeft();n.style.left=w+p+"px",this.count.x===2?(n.style.left=u.width-e.getOuterWidth(n)+p+"px",this.count.x=0):w+e.getOuterWidth(n)>u.width&&(this.count.x++,v.my.x="right",v.at.x="left",v.my.offsetX*=-1,v.at.offsetX*=-1,this.left())},top:function(){var w=_.top(),p=e.getWindowScrollTop();n.style.top=w+p+"px",this.count.y===2?(n.style.left=p+"px",this.count.y=0):w<0&&(this.count.y++,v.my.y="top",v.at.y="bottom",v.my.offsetY*=-1,v.at.offsetY*=-1,this.bottom())},bottom:function(){var w=_.top()+e.getOuterHeight(r),p=e.getWindowScrollTop();n.style.top=w+p+"px",this.count.y===2?(n.style.left=u.height-e.getOuterHeight(n)+p+"px",this.count.y=0):w+e.getOuterHeight(r)>u.height&&(this.count.y++,v.my.y="bottom",v.at.y="top",v.my.offsetY*=-1,v.at.offsetY*=-1,this.top())},center:function(w){if(w==="y"){var p=_.top()+e.getOuterHeight(r)/2;n.style.top=p+e.getWindowScrollTop()+"px",p<0?this.bottom():p+e.getOuterHeight(r)>u.height&&this.top()}else{var y=_.left()+e.getOuterWidth(r)/2;n.style.left=y+e.getWindowScrollLeft()+"px",y<0?this.left():y+e.getOuterWidth(n)>u.width&&this.right()}}};E[v.at.x]("x"),E[v.at.y]("y"),this.isFunction(s)&&s(v)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",i=n==="left"?"right":"left",o=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(o),at:"center ".concat(n)}:{axis:"x",my:"".concat(i," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=[];if(n){var i=this.getParents(n),o=/(auto|scroll)/,a=function(w){var p=w?getComputedStyle(w):null;return p&&(o.test(p.getPropertyValue("overflow"))||o.test(p.getPropertyValue("overflowX"))||o.test(p.getPropertyValue("overflowY")))},s=Iw(i),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.nodeType===1&&u.dataset.scrollselectors;if(c){var f=c.split(","),h=Iw(f),v;try{for(h.s();!(v=h.n()).done;){var _=v.value,E=this.findSingle(u,_);E&&a(E)&&r.push(E)}}catch(S){h.e(S)}finally{h.f()}}u.nodeType!==9&&a(u)&&r.push(u)}}catch(S){s.e(S)}finally{s.f()}}return r}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var i=+new Date,o=0,a=function s(){o=+n.style.opacity+(new Date().getTime()-i)/r,n.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};a()}}},{key:"fadeOut",value:function(n,r){if(n)var i=1,o=50,a=o/r,s=setInterval(function(){i-=a,i<=0&&(i=0,clearInterval(s)),n.style.opacity=i},o)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":Ir(HTMLElement))==="object"?n instanceof HTMLElement:n&&Ir(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var i=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,a=getComputedStyle(n).getPropertyValue("paddingTop"),s=a?parseFloat(a):0,l=n.getBoundingClientRect(),u=r.getBoundingClientRect(),c=u.top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-s,f=n.scrollTop,h=n.clientHeight,v=this.getOuterHeight(r);c<0?n.scrollTop=f+c:c+v>h&&(n.scrollTop=f+c-h+v)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);var o=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=o,o}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode}},{key:"hasDOM",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=e.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),o=[],a=Iw(i),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;getComputedStyle(l).display!=="none"&&getComputedStyle(l).visibility!=="hidden"&&o.push(l)}}catch(u){a.e(u)}finally{a.f()}return o}},{key:"getFirstFocusableElement",value:function(n,r){var i=e.getFocusableElements(n,r);return i.length>0?i[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var i=e.getFocusableElements(n,r);return i.length>0?i[i.length-1]:null}},{key:"focus",value:function(n,r){var i=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:i})}},{key:"getCursorOffset",value:function(n,r,i,o){if(n){var a=getComputedStyle(n),s=document.createElement("div");s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.visibility="hidden",s.style.pointerEvents="none",s.style.overflow=a.overflow,s.style.width=a.width,s.style.height=a.height,s.style.padding=a.padding,s.style.border=a.border,s.style.overflowWrap=a.overflowWrap,s.style.whiteSpace=a.whiteSpace,s.style.lineHeight=a.lineHeight,s.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var l=document.createElement("span");l.textContent=o,s.appendChild(l);var u=document.createTextNode(i);s.appendChild(u),document.body.appendChild(s);var c=l.offsetLeft,f=l.offsetTop,h=l.clientHeight;return document.body.removeChild(s),{left:Math.abs(c-n.scrollLeft),top:Math.abs(f-n.scrollTop)+h}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,i){n[r].apply(n,i)}},{key:"isClickable",value:function(n){var r=n.nodeName,i=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=this.style;else for(var i in this.style)n.style[i]=r[i]}},{key:"exportCSV",value:function(n,r){var i=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,r+".csv");else{var o=e.saveAs({name:r+".csv",src:URL.createObjectURL(i)});o||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var i=n.name,o=n.src;return r.setAttribute("href",o),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n){var r=document.createElement("style");try{n||(n={}.REACT_APP_CSS_NONCE)}catch{}return n&&r.setAttribute("nonce",n),document.head.appendChild(r),r}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{document.head.removeChild(n)}catch{}n=null}return n}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(Ir(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},i=r(n)?n():n;return i&&i.nodeType===9||this.isExist(i)?i:null}},{key:"getAttributeNames",value:function(n){var r,i,o;for(i=[],o=n.attributes,r=0;r<o.length;++r)i.push(o[r].nodeName);return i.sort(),i}},{key:"isEqualElement",value:function(n,r){var i,o,a,s,l;if(i=e.getAttributeNames(n),o=e.getAttributeNames(r),i.join(",")!==o.join(","))return!1;for(var u=0;u<i.length;++u)if(a=i[u],a==="style")for(var c=n.style,f=r.style,h=/^\d+$/,v=0,_=Object.keys(c);v<_.length;v++){var E=_[v];if(!h.test(E)&&c[E]!==f[E])return!1}else if(n.getAttribute(a)!==r.getAttribute(a))return!1;for(s=n.firstChild,l=r.firstChild;s&&l;s=s.nextSibling,l=l.nextSibling){if(s.nodeType!==l.nodeType)return!1;if(s.nodeType===1){if(!e.isEqualElement(s,l))return!1}else if(s.nodeValue!==l.nodeValue)return!1}return!(s||l)}}]),e}();np(N,"DATA_PROPS",["data-"]);np(N,"ARIA_PROPS",["aria","focus-target"]);function _W(){var e=new Map;return{on:function(n,r){var i=e.get(n);i?i.push(r):i=[r],e.set(n,i)},off:function(n,r){var i=e.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=e.get(n);i&&i.slice().forEach(function(o){return o(r)})}}}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){np(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SW(e,t){var n={mask:null,slotChar:"_",autoClear:!0,unmask:!1,readOnly:!1,onComplete:null,onChange:null,onFocus:null,onBlur:null};t=II(II({},n),t);var r,i,o,a,s,l,u,c,f,h,v,_,E=function(te,ie){var q,O,ne;if(!(!e.offsetParent||e!==document.activeElement))if(typeof te=="number")O=te,ne=typeof ie=="number"?ie:O,e.setSelectionRange?e.setSelectionRange(O,ne):e.createTextRange&&(q=e.createTextRange(),q.collapse(!0),q.moveEnd("character",ne),q.moveStart("character",O),q.select());else return e.setSelectionRange?(O=e.selectionStart,ne=e.selectionEnd):document.selection&&document.selection.createRange&&(q=document.selection.createRange(),O=0-q.duplicate().moveStart("character",-1e5),ne=O+q.text.length),{begin:O,end:ne}},S=function(){for(var te=a;te<=u;te++)if(r[te]&&v[te]===w(te))return!1;return!0},w=function(te){return te<t.slotChar.length?t.slotChar.charAt(te):t.slotChar.charAt(0)},p=function(){return t.unmask?Ze():e&&e.value},y=function(te){for(;++te<o&&!r[te];);return te},C=function(te){for(;--te>=0&&!r[te];);return te},A=function(te,ie){var q,O;if(!(te<0)){for(q=te,O=y(ie);q<o;q++)if(r[q]){if(O<o&&r[q].test(v[O]))v[q]=v[O],v[O]=w(O);else break;O=y(O)}we(),E(Math.max(a,te))}},P=function(te){var ie,q,O,ne;for(ie=te,q=w(te);ie<o;ie++)if(r[ie])if(O=y(ie),ne=v[ie],v[ie]=q,O<o&&r[O].test(ne))q=ne;else break},L=function(te){var ie=e.value,q=E();if(c&&c.length&&c.length>ie.length){for(he(!0);q.begin>0&&!r[q.begin-1];)q.begin--;if(q.begin===0)for(;q.begin<a&&!r[q.begin];)q.begin++;E(q.begin,q.begin)}else{for(he(!0);q.begin<o&&!r[q.begin];)q.begin++;E(q.begin,q.begin)}t.onComplete&&S()&&t.onComplete({originalEvent:te,value:p()})},K=function(te){if(he(),t.onBlur&&t.onBlur(te),ce(te),e.value!==f){var ie=document.createEvent("HTMLEvents");ie.initEvent("change",!0,!1),e.dispatchEvent(ie)}},ae=function(te){if(!t.readOnly){var ie=te.which||te.keyCode,q,O,ne,Fe=/iphone/i.test(N.getUserAgent());c=e.value,ie===8||ie===46||Fe&&ie===127?(q=E(),O=q.begin,ne=q.end,ne-O===0&&(O=ie!==46?C(O):ne=y(O-1),ne=ie===46?y(ne):ne),ue(O,ne),A(O,ne-1),ce(te),te.preventDefault()):ie===13?(K(te),ce(te)):ie===27&&(e.value=f,E(0,he()),ce(te),te.preventDefault())}},le=function(te){if(!t.readOnly){var ie=te.which||te.keyCode,q=E(),O,ne,Fe,et;if(!(te.ctrlKey||te.altKey||te.metaKey||ie<32)){if(ie&&ie!==13){if(q.end-q.begin!==0&&(ue(q.begin,q.end),A(q.begin,q.end-1)),O=y(q.begin-1),O<o&&(ne=String.fromCharCode(ie),r[O].test(ne))){if(P(O),v[O]=ne,we(),Fe=y(O),/android/i.test(N.getUserAgent())){var dt=function(){E(Fe)};setTimeout(dt,0)}else E(Fe);q.begin<=u&&(et=S())}te.preventDefault()}ce(te),t.onComplete&&et&&t.onComplete({originalEvent:te,value:p()})}}},ue=function(te,ie){var q;for(q=te;q<ie&&q<o;q++)r[q]&&(v[q]=w(q))},we=function(){e.value=v.join("")},he=function(te){var ie=e.value,q=-1,O,ne,Fe;for(O=0,Fe=0;O<o;O++)if(r[O]){for(v[O]=w(O);Fe++<ie.length;)if(ne=ie.charAt(Fe-1),r[O].test(ne)){v[O]=ne,q=O;break}if(Fe>ie.length){ue(O+1,o);break}}else v[O]===ie.charAt(Fe)&&Fe++,O<i&&(q=O);return te?we():q+1<i?t.autoClear||v.join("")===_?(e.value&&(e.value=""),ue(0,o)):we():(we(),e.value=e.value.substring(0,q+1)),i?O:a},Se=function(te){if(!t.readOnly){clearTimeout(h);var ie;f=e.value,ie=he(),h=setTimeout(function(){e===document.activeElement&&(we(),ie===t.mask.replace("?","").length?E(0,ie):E(ie))},10),t.onFocus&&t.onFocus(te)}},qe=function(te){l?L(te):Ve(te)},Ve=function(te){if(!t.readOnly){var ie=he(!0);E(ie),ce(te),t.onComplete&&S()&&t.onComplete({originalEvent:te,value:p()})}},Ze=function(){for(var te=[],ie=0;ie<v.length;ie++){var q=v[ie];r[ie]&&q!==w(ie)&&te.push(q)}return te.join("")},ce=function(te){if(t.onChange){var ie=p().replace(t.slotChar,"");t.onChange({originalEvent:te,value:_!==ie?ie:""})}},ee=function(){e.addEventListener("focus",Se),e.addEventListener("blur",K),e.addEventListener("keydown",ae),e.addEventListener("keypress",le),e.addEventListener("input",qe),e.addEventListener("paste",Ve)},U=function(){e.removeEventListener("focus",Se),e.removeEventListener("blur",K),e.removeEventListener("keydown",ae),e.removeEventListener("keypress",le),e.removeEventListener("input",qe),e.removeEventListener("paste",Ve)},Ee=function(){r=[],i=t.mask.length,o=t.mask.length,a=null,s={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};var te=N.getUserAgent();l=/chrome/i.test(te)&&/android/i.test(te);for(var ie=t.mask.split(""),q=0;q<ie.length;q++){var O=ie[q];O==="?"?(o--,i=q):s[O]?(r.push(new RegExp(s[O])),a===null&&(a=r.length-1),q<i&&(u=r.length-1)):r.push(null)}v=[];for(var ne=0;ne<ie.length;ne++){var Fe=ie[ne];Fe!=="?"&&(s[Fe]?v.push(w(ne)):v.push(Fe))}_=v.join("")};return e&&t.mask&&(Ee(),ee()),{init:Ee,bindEvents:ee,unbindEvents:U,updateModel:ce,getValue:p}}function bW(e){if(Array.isArray(e))return p_(e)}function CW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ix(e){return bW(e)||CW(e)||Cx(e)||TW()}var W=function(){function e(){r0(this,e)}return i0(e,null,[{key:"equals",value:function(n,r,i){return i&&n&&Ir(n)==="object"&&r&&Ir(r)==="object"?this.resolveFieldData(n,i)===this.resolveFieldData(r,i):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Ir(n)=="object"&&Ir(r)=="object"){var i=Array.isArray(n),o=Array.isArray(r),a,s,l;if(i&&o){if(s=n.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!this.deepEquals(n[a],r[a]))return!1;return!0}if(i!==o)return!1;var u=n instanceof Date,c=r instanceof Date;if(u!==c)return!1;if(u&&c)return n.getTime()===r.getTime();var f=n instanceof RegExp,h=r instanceof RegExp;if(f!==h)return!1;if(f&&h)return n.toString()===r.toString();var v=Object.keys(n);if(s=v.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,v[a]))return!1;for(a=s;a--!==0;)if(l=v[a],!this.deepEquals(n[l],r[l]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var i=r.split("."),o=n,a=0,s=i.length;a<s;++a){if(o==null)return null;o=o[i[a]]}return o}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(i){return!r.hasOwnProperty(i)}).reduce(function(i,o){return i[o]=n[o],i},{})}},{key:"reduceKeys",value:function(n,r){var i={};return!n||!r||r.length===0||Object.keys(n).filter(function(o){return r.some(function(a){return o.startsWith(a)})}).forEach(function(o){i[o]=n[o],delete n[o]}),i}},{key:"reorderArray",value:function(n,r,i){var o;if(n&&r!==i){if(i>=n.length)for(o=i-n.length;o--+1;)n.push(void 0);n.splice(i,0,n.splice(r,1)[0])}}},{key:"findIndexInList",value:function(n,r,i){var o=this;return r?i?r.findIndex(function(a){return o.equals(a,n,i)}):r.findIndex(function(a){return a===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return this.isFunction(n)?n.apply(void 0,i):n}},{key:"getPropValue",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=i;return i&&i.length===1&&(a=i[0]),this.isFunction(n)?n.apply(void 0,Ix(a)):n}},{key:"getRefElement",value:function(n){return n?Ir(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Ir(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=e.compare(n,r,o,i),l=i;return(e.isEmpty(n)||e.isEmpty(r))&&(l=a===1?i:a),l*s}},{key:"compare",value:function(n,r,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=-1,s=e.isEmpty(n),l=e.isEmpty(r);return s&&l?a=0:s?a=o:l?a=-o:typeof n=="string"&&typeof r=="string"?a=n.localeCompare(r,i,{numeric:!0}):a=n<r?-1:n>r?1:0,a}}]),e}();function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){np(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RW=function(){function e(){r0(this,e)}return i0(e,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=null;if(n!==null){var a=Ir(n),s=Ge(r.className,a==="string"&&n);if(o=d.createElement("span",y_({},r,{className:s})),a!=="string"){var l=IW({iconProps:r,element:o},i);return W.getJSXElement(n,l)}}return o}}]),e}(),kI=0;function o0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return kI++,"".concat(e).concat(kI)}function kW(){var e=[],t=function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(s,l,u),f=c.value+(c.key===s?0:u)+1;return e.push({key:s,value:f}),f},n=function(s){e=e.filter(function(l){return l.value!==s})},r=function(s,l){return i(s,l).value},i=function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Ix(e).reverse().find(function(c){return l?!0:c.key===s})||{key:s,value:u}},o=function(s){return s&&parseInt(s.style.zIndex,10)||0};return{get:o,set:function(s,l,u,c){l&&(l.style.zIndex=String(t(s,u,c)))},clear:function(s){s&&(n(On.get(s)),s.style.zIndex="")},getCurrent:function(s,l){return r(s,l)}}}var On=kW(),Fn=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Bd=Object.freeze({AND:"and",OR:"or"});function DI(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=DW(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function DW(e,t){if(e){if(typeof e=="string")return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(e,t)}}function AI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zd={filter:function(t,n,r,i,o){var a=[];if(!t)return a;var s=DI(t),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,o)){a.push(u);continue}}else{var c=DI(n),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,v=W.resolveFieldData(u,h);if(this.filters[i](v,r,o)){a.push(u);break}}}catch(_){c.e(_)}finally{c.f()}}}}catch(_){s.e(_)}finally{s.f()}return a},filters:{startsWith:function(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;var i=W.removeAccents(n.toString()).toLocaleLowerCase(r),o=W.removeAccents(t.toString()).toLocaleLowerCase(r);return o.slice(0,i.length)===i},contains:function(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;var i=W.removeAccents(n.toString()).toLocaleLowerCase(r),o=W.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(i)!==-1},notContains:function(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;var i=W.removeAccents(n.toString()).toLocaleLowerCase(r),o=W.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(i)===-1},endsWith:function(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;var i=W.removeAccents(n.toString()).toLocaleLowerCase(r),o=W.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(i,o.length-i.length)!==-1},equals:function(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()===n.getTime():W.removeAccents(t.toString()).toLocaleLowerCase(r)===W.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!1:t==null?!0:t.getTime&&n.getTime?t.getTime()!==n.getTime():W.removeAccents(t.toString()).toLocaleLowerCase(r)!==W.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(t,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(W.equals(t,n[r]))return!0;return!1},between:function(t,n){return n==null||n[0]==null||n[1]==null?!0:t==null?!1:t.getTime?n[0].getTime()<=t.getTime()&&t.getTime()<=n[1].getTime():n[0]<=t&&t<=n[1]},lt:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<n.getTime():t<n},lte:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<=n.getTime():t<=n},gt:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>n.getTime():t>n},gte:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>=n.getTime():t>=n},dateIs:function(t,n){return n==null?!0:t==null?!1:t.toDateString()===n.toDateString()},dateIsNot:function(t,n){return n==null?!0:t==null?!1:t.toDateString()!==n.toDateString()},dateBefore:function(t,n){return n==null?!0:t==null?!1:t.getTime()<n.getTime()},dateAfter:function(t,n){return n==null?!0:t==null?!1:t.getTime()>n.getTime()}},register:function(t,n){this.filters[t]=n}};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function AW(e,t){if(Tf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rx(e){var t=AW(e,"string");return Tf(t)==="symbol"?t:String(t)}function Lo(e,t,n){return t=Rx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rx(r.key),r)}}function NW(e,t,n){return t&&NI(e.prototype,t),n&&NI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ht=NW(function e(){OW(this,e)});Lo(ht,"ripple",!1);Lo(ht,"inputStyle","outlined");Lo(ht,"locale","en");Lo(ht,"appendTo",null);Lo(ht,"cssTransition",!0);Lo(ht,"autoZIndex",!0);Lo(ht,"nonce",null);Lo(ht,"nullSortOrder",1);Lo(ht,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Lo(ht,"filterMatchModeOptions",{text:[Fn.STARTS_WITH,Fn.CONTAINS,Fn.NOT_CONTAINS,Fn.ENDS_WITH,Fn.EQUALS,Fn.NOT_EQUALS],numeric:[Fn.EQUALS,Fn.NOT_EQUALS,Fn.LESS_THAN,Fn.LESS_THAN_OR_EQUAL_TO,Fn.GREATER_THAN,Fn.GREATER_THAN_OR_EQUAL_TO],date:[Fn.DATE_IS,Fn.DATE_IS_NOT,Fn.DATE_BEFORE,Fn.DATE_AFTER]});var xW={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function Kn(e,t){var n=t||ht.locale;try{return Su(n)[e]}catch{throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function to(e){var t=ht.locale;try{return Su(t).aria[e]}catch{throw new Error("The ".concat(e," option is not found in the current locale('").concat(t,"')."))}}function Su(e){var t=e||ht.locale;return xW[t]}var ll=function(t){var n=d.useRef(void 0);return d.useEffect(function(){n.current=t}),n.current},ho=function(t){return d.useEffect(t,[])},Mt=function(t,n){var r=d.useRef(!1);return d.useEffect(function(){if(!r.current){r.current=!0;return}return t&&t()},n)},qr=function(t){return d.useEffect(function(){return t},[])},Zi=function(t){var n=t.target,r=n===void 0?"document":n,i=t.type,o=t.listener,a=t.options,s=t.when,l=s===void 0?!0:s,u=d.useRef(null),c=d.useRef(null),f=ll(a),h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};W.isNotEmpty(E.target)&&(v(),(E.when||l)&&(u.current=N.getTargetElement(E.target))),!c.current&&u.current&&(c.current=function(S){return o&&o(S)},u.current.addEventListener(i,c.current,a))},v=function(){c.current&&(u.current.removeEventListener(i,c.current,a),c.current=null)};return d.useEffect(function(){l?u.current=N.getTargetElement(r):(v(),u.current=null)},[r,l]),d.useEffect(function(){c.current&&(c.current!==o||f!==a)&&(v(),l&&h())},[o,a]),qr(function(){v()}),[h,v]};function MW(e){if(Array.isArray(e))return e}function PW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function OI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LW(e,t){if(e){if(typeof e=="string")return OI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(e,t)}}function $W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rw(e,t){return MW(e)||PW(e,t)||LW(e,t)||$W()}var kx=function(t){var n=t.target,r=t.listener,i=t.options,o=t.when,a=o===void 0?!0:o,s=d.useRef(null),l=d.useRef(null),u=d.useRef([]),c=ll(i),f=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(W.isNotEmpty(_.target)&&(h(),(_.when||a)&&(s.current=N.getTargetElement(_.target))),!l.current&&s.current){var E=u.current=N.getScrollableParents(s.current);l.current=function(S){return r&&r(S)},E.forEach(function(S){return S.addEventListener("scroll",l.current,i)})}},h=function(){if(l.current){var _=u.current;_.forEach(function(E){return E.removeEventListener("scroll",l.current,i)}),l.current=null}};return d.useEffect(function(){a?s.current=N.getTargetElement(n):(h(),s.current=null)},[n,a]),d.useEffect(function(){l.current&&(l.current!==r||c!==i)&&(h(),a&&f())},[r,i]),qr(function(){h()}),[f,h]},a0=function(t){var n=t.listener;return Zi({target:"window",type:"resize",listener:n})},s0=function(t){var n=t.target,r=t.overlay,i=t.listener,o=t.when,a=o===void 0?!0:o,s=d.useRef(null),l=d.useRef(null),u=Zi({type:"click",listener:function(ae){i&&i(ae,{type:"outside",valid:ae.which!==3&&A(ae)})}}),c=Rw(u,2),f=c[0],h=c[1],v=a0({listener:function(ae){i&&i(ae,{type:"resize",valid:!N.isTouchDevice()})}}),_=Rw(v,2),E=_[0],S=_[1],w=kx({target:s,listener:function(ae){i&&i(ae,{type:"scroll",valid:!0})}}),p=Rw(w,2),y=p[0],C=p[1],A=function(ae){return s.current&&!(s.current.isSameNode(ae.target)||s.current.contains(ae.target)||l.current&&l.current.contains(ae.target))},P=function(){f(),E(),y()},L=function(){h(),S(),C()};return d.useEffect(function(){a?(s.current=N.getTargetElement(n),l.current=N.getTargetElement(r)):(L(),s.current=l.current=null)},[n,r,a]),d.useEffect(function(){L()},[a]),qr(function(){L()}),[P,L]},FW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=d.useRef(null),o=d.useRef(null),a=d.useCallback(function(){return clearTimeout(i.current)},[i.current]);return d.useEffect(function(){o.current=t}),d.useEffect(function(){function s(){o.current()}if(r)return i.current=setTimeout(s,n),a;a()},[n,r]),qr(function(){a()}),[a]},$t=d.memo(d.forwardRef(function(){var e=d.useRef(null),t=d.useRef(null),n=function(){return e.current&&e.current.parentElement},r=function(){t.current&&(t.current.addEventListener("mousedown",a),N.isTouchDevice()&&t.current.addEventListener("touchstart",o))},i=function(){t.current&&(t.current.removeEventListener("mousedown",a),N.isTouchDevice()&&t.current.removeEventListener("touchstart",o))},o=function(c){var f=N.getOffset(t.current),h=c.targetTouches[0].pageX-f.left+document.body.scrollTop-N.getWidth(e.current)/2,v=c.targetTouches[0].pageY-f.top+document.body.scrollLeft-N.getHeight(e.current)/2;s(h,v)},a=function(c){if(!N.isTouchDevice()){var f=N.getOffset(t.current),h=c.pageX-f.left+document.body.scrollTop-N.getWidth(e.current)/2,v=c.pageY-f.top+document.body.scrollLeft-N.getHeight(e.current)/2;s(h,v)}},s=function(c,f){if(!(!e.current||getComputedStyle(e.current,null).display==="none")){if(N.removeClass(e.current,"p-ink-active"),!N.getHeight(e.current)&&!N.getWidth(e.current)){var h=Math.max(N.getOuterWidth(t.current),N.getOuterHeight(t.current));e.current.style.height=h+"px",e.current.style.width=h+"px"}e.current.style.top=f+"px",e.current.style.left=c+"px",N.addClass(e.current,"p-ink-active")}},l=function(c){N.removeClass(c.currentTarget,"p-ink-active")};return ho(function(){e.current&&(t.current=n(),r())}),Mt(function(){e.current&&!t.current&&(t.current=n(),r())}),qr(function(){e.current&&(t.current=null,i())}),ht.ripple?d.createElement("span",{role:"presentation",ref:e,className:"p-ink",onAnimationEnd:l}):null}));$t.displayName="Ripple";$t.defaultProps={__TYPE:"Ripple"};function w_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jW(e){if(Array.isArray(e))return w_(e)}function UW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VW(e,t){if(e){if(typeof e=="string")return w_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(e,t)}}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(e){return jW(e)||UW(e)||VW(e)||BW()}var Hd={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(t){return Hd.DEFAULT_MASKS[t]?Hd.DEFAULT_MASKS[t]:t},onKeyPress:function(t,n,r){if(!r&&!(t.ctrlKey||t.altKey)){var i=t.key.length===1;if(i){var o=this.getRegex(n);o.test(t.key)||t.preventDefault()}}},onPaste:function(t,n,r){if(!r){var i=this.getRegex(n),o=t.clipboardData.getData("text");zW(o).forEach(function(a){if(!i.test(a))return t.preventDefault(),!1})}},validate:function(t,n){var r=t.target.value,i=!0,o=this.getRegex(n);return r&&!o.test(r)&&(i=!1),i}};function HW(e){if(Array.isArray(e))return e}function WW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KW(e,t){if(e){if(typeof e=="string")return xI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xI(e,t)}}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){return HW(e)||WW(e,t)||KW(e,t)||GW()}var ys=d.memo(function(e){var t=d.useState(e.visible&&N.hasDOM()),n=qW(t,2),r=n[0],i=n[1];ho(function(){N.hasDOM()&&!r&&(i(!0),e.onMounted&&e.onMounted())}),Mt(function(){e.onMounted&&e.onMounted()},[r]),qr(function(){e.onUnmounted&&e.onUnmounted()});var o=e.element||e.children;if(o&&r){var a=e.appendTo||ht.appendTo||document.body;return a==="self"?o:bd.createPortal(o,a)}return null});ys.displayName="Portal";ys.defaultProps={__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null};function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function YW(e,t){if(If(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e){var t=YW(e,"string");return If(t)==="symbol"?t:String(t)}function XW(e,t,n){return t=QW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JW(e){if(Array.isArray(e))return __(e)}function ZW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dx(e,t){if(e){if(typeof e=="string")return __(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(e,t)}}function eK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tK(e){return JW(e)||ZW(e)||Dx(e)||eK()}function nK(e){if(Array.isArray(e))return e}function rK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function iK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cd(e,t){return nK(e)||rK(e,t)||Dx(e,t)||iK()}var ws=d.memo(d.forwardRef(function(e,t){var n=d.useState(!1),r=cd(n,2),i=r[0],o=r[1],a=d.useState(e.position),s=cd(a,2),l=s[0],u=s[1],c=d.useState(""),f=cd(c,2),h=f[0],v=f[1],_=d.useRef(null),E=d.useRef(null),S=d.useRef(null),w=d.useRef(null),p=d.useRef(!0),y=d.useRef({}),C=d.useRef(null),A=a0({listener:function(V){!N.isTouchDevice()&&ne(V)}}),P=cd(A,2),L=P[0],K=P[1],ae=kx({target:S.current,listener:function(V){ne(V)},when:i}),le=cd(ae,2),ue=le[0],we=le[1],he=function(V){return!(e.content||ee(V,"tooltip"))},Se=function(V){return!(e.content||ee(V,"tooltip")||e.children)},qe=function(V){return ee(V,"mousetrack")||e.mouseTrack},Ve=function(V){return ee(V,"disabled")==="true"||U(V,"disabled")||e.disabled},Ze=function(V){return ee(V,"showondisabled")||e.showOnDisabled},ce=function(){return ee(S.current,"autohide")||e.autoHide},ee=function(V,_e){return U(V,"data-pr-".concat(_e))?V.getAttribute("data-pr-".concat(_e)):null},U=function(V,_e){return V&&V.hasAttribute(_e)},Ee=function(V){var _e=[ee(V,"showevent")||e.showEvent],We=[ee(V,"hideevent")||e.hideEvent];if(qe(V))_e=["mousemove"],We=["mouseleave"];else{var be=ee(V,"event")||e.event;be==="focus"&&(_e=["focus"],We=["blur"]),be==="both"&&(_e=["focus","mouseenter"],We=["blur","mouseleave"])}return{showEvents:_e,hideEvents:We}},de=function(V){return ee(V,"position")||l},te=function(V){var _e=ee(V,"mousetracktop")||e.mouseTrackTop,We=ee(V,"mousetrackleft")||e.mouseTrackLeft;return{top:_e,left:We}},ie=function(V,_e){if(E.current){var We=ee(V,"tooltip")||e.content;We?(E.current.innerHTML="",E.current.appendChild(document.createTextNode(We)),_e()):e.children&&_e()}},q=function(V){ie(S.current,function(){var _e=C.current,We=_e.pageX,be=_e.pageY;e.autoZIndex&&!On.get(_.current)&&On.set("tooltip",_.current,ht.autoZIndex,e.baseZIndex||ht.zIndex.tooltip),_.current.style.left="",_.current.style.top="",ce()&&(_.current.style.pointerEvents="none"),(qe(S.current)||V=="mouse")&&!w.current&&(w.current={width:N.getOuterWidth(_.current),height:N.getOuterHeight(_.current)}),Fe(S.current,{x:We,y:be},V)})},O=function(V){S.current=V.currentTarget;var _e=Ve(S.current),We=Se(Ze(S.current)&&_e?S.current.firstChild:S.current);if(!(We||_e))if(C.current=V,i)mt("updateDelay",q);else{var be=It(e.onBeforeShow,{originalEvent:V,target:S.current});be&&mt("showDelay",function(){o(!0),It(e.onShow,{originalEvent:V,target:S.current})})}},ne=function(V){if(kt(),i){var _e=It(e.onBeforeHide,{originalEvent:V,target:S.current});_e&&mt("hideDelay",function(){!ce()&&p.current===!1||(On.clear(_.current),N.removeClass(_.current,"p-tooltip-active"),o(!1),It(e.onHide,{originalEvent:V,target:S.current}))})}},Fe=function(V,_e,We){var be=0,F=0,Oe=We||l;if((qe(V)||Oe=="mouse")&&_e){var Ye={width:N.getOuterWidth(_.current),height:N.getOuterHeight(_.current)};be=_e.x,F=_e.y;var ft=te(V),ut=ft.top,vt=ft.left;switch(Oe){case"left":be-=Ye.width+vt,F-=Ye.height/2-ut;break;case"right":case"mouse":be+=vt,F-=Ye.height/2-ut;break;case"top":be-=Ye.width/2-vt,F-=Ye.height+ut;break;case"bottom":be-=Ye.width/2-vt,F+=ut;break}be<=0||w.current.width>Ye.width?(_.current.style.left="0px",_.current.style.right=window.innerWidth-Ye.width-be+"px"):(_.current.style.right="",_.current.style.left=be+"px"),_.current.style.top=F+"px",N.addClass(_.current,"p-tooltip-active")}else{var _t=N.findCollisionPosition(Oe),an=ee(V,"my")||e.my||_t.my,Zt=ee(V,"at")||e.at||_t.at;_.current.style.padding="0px",N.flipfitCollision(_.current,V,an,Zt,function(Tt){var Wt=Tt.at,In=Wt.x,qt=Wt.y,en=Tt.my.x,Yt=e.at?In!=="center"&&In!==en?In:qt:Tt.at["".concat(_t.axis)];_.current.style.padding="",u(Yt),et(Yt),N.addClass(_.current,"p-tooltip-active")})}},et=function(V){if(_.current){var _e=getComputedStyle(_.current);V==="left"?_.current.style.left=parseFloat(_e.left)-parseFloat(_e.paddingLeft)*2+"px":V==="top"&&(_.current.style.top=parseFloat(_e.top)-parseFloat(_e.paddingTop)*2+"px")}},dt=function(){ce()||(p.current=!1)},Et=function(V){ce()||(p.current=!0,ne(V))},Ot=function(V){if(V){var _e=Ee(V),We=_e.showEvents,be=_e.hideEvents,F=Ht(V);We.forEach(function(Oe){return F.addEventListener(Oe,O)}),be.forEach(function(Oe){return F.addEventListener(Oe,ne)})}},Ut=function(V){if(V){var _e=Ee(V),We=_e.showEvents,be=_e.hideEvents,F=Ht(V);We.forEach(function(Oe){return F.removeEventListener(Oe,O)}),be.forEach(function(Oe){return F.removeEventListener(Oe,ne)})}},mt=function(V,_e){kt();var We=ee(S.current,V.toLowerCase())||e[V];We?y.current["".concat(V)]=setTimeout(function(){return _e()},We):_e()},It=function(V){if(V){for(var _e=arguments.length,We=new Array(_e>1?_e-1:0),be=1;be<_e;be++)We[be-1]=arguments[be];var F=V.apply(void 0,We);return F===void 0&&(F=!0),F}return!0},kt=function(){Object.values(y.current).forEach(function(V){return clearTimeout(V)})},Ht=function(V){if(V){if(Ze(V)){if(V.hasWrapper)return V.parentElement;var _e=document.createElement("span");return V.parentNode.insertBefore(_e,V),_e.appendChild(V),V.hasWrapper=!0,_e}else if(V.hasWrapper){var We;(We=V.parentElement).replaceWith.apply(We,tK(V.parentElement.childNodes)),delete V.hasWrapper}return V}return null},Pt=function(V){$(V),Vt(V)},Vt=function(V){De(V||e.target,Ot)},$=function(V){De(V||e.target,Ut)},De=function(V,_e){if(V=W.getRefElement(V),V)if(N.isElement(V))_e(V);else{var We=function(F){var Oe=N.find(document,F);Oe.forEach(function(Ye){_e(Ye)})};V instanceof Array?V.forEach(function(be){We(be)}):We(V)}};ho(function(){Vt(),i&&S.current&&Ve(S.current)&&ne()}),Mt(function(){return Vt(),function(){$()}},[O,ne,e.target]),Mt(function(){if(i){var me=de(S.current),V=ee(S.current,"classname");u(me),v(V),q(me),L(),ue()}else u(e.position),v(""),S.current=null,w.current=null,p.current=!0;return function(){K(),we()}},[i]),Mt(function(){i&&mt("updateDelay",function(){ie(S.current,function(){Fe(S.current)})})},[e.content]),qr(function(){kt(),$(),On.clear(_.current)}),d.useImperativeHandle(t,function(){return{props:e,updateTargetEvents:Pt,loadTargetEvents:Vt,unloadTargetEvents:$,show:O,hide:ne,getElement:function(){return _.current},getTarget:function(){return S.current}}});var Ue=function(){var V=W.findDiffKeys(e,ws.defaultProps),_e=Ge("p-tooltip p-component",XW({},"p-tooltip-".concat(l),!0),e.className,h),We=he(S.current);return d.createElement("div",E_({id:e.id,ref:_,className:_e,style:e.style,role:"tooltip","aria-hidden":i},V,{onMouseEnter:dt,onMouseLeave:Et}),d.createElement("div",{className:"p-tooltip-arrow"}),d.createElement("div",{ref:E,className:"p-tooltip-text"},We&&e.children))};if(i){var ze=Ue();return d.createElement(ys,{element:ze,appendTo:e.appendTo,visible:!0})}return null}));ws.displayName="Tooltip";ws.defaultProps={__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0};function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(this,arguments)}var Es=d.memo(d.forwardRef(function(e,t){var n=d.useRef(t),r=function(h){e.onKeyDown&&e.onKeyDown(h),e.keyfilter&&Hd.onKeyPress(h,e.keyfilter,e.validateOnly)},i=function(h){var v=!0;if(e.keyfilter&&e.validateOnly&&(v=Hd.validate(h,e.keyfilter)),e.onInput&&e.onInput(h,v),!e.onChange){var _=h.target;W.isNotEmpty(_.value)?N.addClass(_,"p-filled"):N.removeClass(_,"p-filled")}},o=function(h){e.onPaste&&e.onPaste(h),e.keyfilter&&Hd.onPaste(h,e.keyfilter,e.validateOnly)},a=n.current&&n.current.value,s=d.useMemo(function(){return W.isNotEmpty(e.value)||W.isNotEmpty(e.defaultValue)||W.isNotEmpty(a)},[e.value,e.defaultValue,a]);d.useEffect(function(){W.combinedRefs(n,t)},[n,t]);var l=W.isNotEmpty(e.tooltip),u=W.findDiffKeys(e,Es.defaultProps),c=Ge("p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":s},e.className);return d.createElement(d.Fragment,null,d.createElement("input",Wg({ref:n},u,{className:c,onInput:i,onKeyDown:r,onPaste:o})),l&&d.createElement(ws,Wg({target:n,content:e.tooltip},e.tooltipOptions)))}));Es.displayName="InputText";Es.defaultProps={__TYPE:"InputText",keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onInput:null,onKeyDown:null,onPaste:null};function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(this,arguments)}function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function oK(e,t){if(Rf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e){var t=oK(e,"string");return Rf(t)==="symbol"?t:String(t)}function sK(e,t,n){return t=aK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lK(e){if(Array.isArray(e))return S_(e)}function uK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ax(e,t){if(e){if(typeof e=="string")return S_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(e,t)}}function cK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e){return lK(e)||uK(e)||Ax(e)||cK()}function fK(e){if(Array.isArray(e))return e}function hK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(e,t){return fK(e)||hK(e,t)||Ax(e,t)||mK()}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){sK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rp=d.memo(d.forwardRef(function(e,t){var n=d.useState(!1),r=gK(n,2),i=r[0],o=r[1],a=d.useRef(null),s=d.useRef(null),l=d.useRef(null),u=d.useRef(null),c=d.useRef(null),f=d.useRef(null),h=d.useRef(null),v=d.useRef(null),_=d.useRef(null),E=d.useRef(null),S=d.useRef(null),w=d.useRef(null),p=d.useRef(null),y=d.useRef(null),C=d.useRef(null),A=d.useRef(null),P=d.useRef(null),L=e.showButtons&&e.buttonLayout==="stacked",K=e.showButtons&&e.buttonLayout==="horizontal",ae=e.showButtons&&e.buttonLayout==="vertical",le=e.inputMode||(e.mode==="decimal"&&!e.minFractionDigits?"numeric":"decimal"),ue=function(){return{localeMatcher:e.localeMatcher,style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay,useGrouping:e.useGrouping,minimumFractionDigits:e.minFractionDigits,maximumFractionDigits:e.maxFractionDigits}},we=function(){c.current=new Intl.NumberFormat(e.locale,ue());var R=dK(new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)).reverse(),k=new Map(R.map(function(Z,ye){return[Z,ye]}));E.current=new RegExp("[".concat(R.join(""),"]"),"g"),S.current=qe(),w.current=Ve(),p.current=Ze(),y.current=Se(),C.current=ee(),A.current=ce(),P.current=function(Z){return k.get(Z)}},he=function(R){return R.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},Se=function(){var R=new Intl.NumberFormat(e.locale,PI(PI({},ue()),{},{useGrouping:!1}));return new RegExp("[".concat(R.format(1.1).replace(p.current,"").trim().replace(E.current,""),"]"),"g")},qe=function(){var R=new Intl.NumberFormat(e.locale,{useGrouping:!0});return f.current=R.format(1e6).trim().replace(E.current,"").charAt(0),new RegExp("[".concat(f.current,"]"),"g")},Ve=function(){var R=new Intl.NumberFormat(e.locale,{useGrouping:!1});return new RegExp("[".concat(R.format(-1).trim().replace(E.current,""),"]"),"g")},Ze=function(){if(e.currency){var R=new Intl.NumberFormat(e.locale,{style:"currency",currency:e.currency,currencyDisplay:e.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(R.format(1).replace(/\s/g,"").replace(E.current,"").replace(S.current,""),"]"),"g")}return new RegExp("[]","g")},ce=function(){if(e.prefix)h.current=e.prefix;else{var R=new Intl.NumberFormat(e.locale,{style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay});h.current=R.format(1).split("1")[0]}return new RegExp("".concat(he(h.current||"")),"g")},ee=function(){if(e.suffix)v.current=e.suffix;else{var R=new Intl.NumberFormat(e.locale,{style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});v.current=R.format(1).split("1")[1]}return new RegExp("".concat(he(v.current||"")),"g")},U=function(R){if(R!=null){if(R==="-")return R;if(e.format){var k=new Intl.NumberFormat(e.locale,ue()),Z=k.format(R);return e.prefix&&(Z=e.prefix+Z),e.suffix&&(Z=Z+e.suffix),Z}return R.toString()}return""},Ee=function(R){var k=R.replace(C.current,"").replace(A.current,"").trim().replace(/\s/g,"").replace(p.current,"").replace(S.current,"").replace(w.current,"-").replace(y.current,".").replace(E.current,P.current);if(k){if(k==="-")return k;var Z=+k;return isNaN(Z)?null:Z}return null},de=function B(R,k,Z){var ye=k||500;Ie(),l.current=setTimeout(function(){B(R,40,Z)},ye),te(R,Z)},te=function(R,k){if(s.current){var Z=e.step*k,ye=Ee(s.current.value)||0,fe=Wt(ye+Z);if(e.maxLength&&e.maxLength<U(fe).length)return;!N.isTouchDevice()&&qt(fe,null,"spin"),se(R,fe),Zt(R,ye,fe)}},ie=function(R){!e.disabled&&!e.readOnly&&(de(R,null,1),R.preventDefault())},q=function(R){!e.disabled&&!e.readOnly&&(e.autoFocus&&N.focus(s.current,e.autoFocus),de(R,null,1),R.preventDefault())},O=function(){!e.disabled&&!e.readOnly&&Ie()},ne=function(){!e.disabled&&!e.readOnly&&Ie()},Fe=function(){!e.disabled&&!e.readOnly&&Ie()},et=function(){!e.disabled&&!e.readOnly&&Ie()},dt=function(R){!e.disabled&&!e.readOnly&&(R.keyCode===32||R.keyCode===13)&&de(R,null,1)},Et=function(R){!e.disabled&&!e.readOnly&&(de(R,null,-1),R.preventDefault())},Ot=function(){!e.disabled&&!e.readOnly&&Ie()},Ut=function(R){!e.disabled&&!e.readOnly&&(e.autoFocus&&N.focus(s.current,e.autoFocus),de(R,null,-1),R.preventDefault())},mt=function(){!e.disabled&&!e.readOnly&&Ie()},It=function(){!e.disabled&&!e.readOnly&&Ie()},kt=function(){!e.disabled&&!e.readOnly&&Ie()},Ht=function(R){!e.disabled&&!e.readOnly&&(R.keyCode===32||R.keyCode===13)&&de(R,null,-1)},Pt=function(R){e.disabled||e.readOnly||(_.current&&(R.target.value=u.current),_.current=!1)},Vt=function(R){if(!(e.disabled||e.readOnly)){if(u.current=R.target.value,R.shiftKey||R.altKey){_.current=!0;return}var k=R.target.selectionStart,Z=R.target.selectionEnd,ye=R.target.value,fe=null;switch(R.altKey&&R.preventDefault(),R.which){case 38:te(R,1),R.preventDefault();break;case 40:te(R,-1),R.preventDefault();break;case 37:ut(ye.charAt(k-1))||R.preventDefault();break;case 39:ut(ye.charAt(k))||R.preventDefault();break;case 13:case 9:fe=Wt(Ee(ye)),s.current.value=U(fe),s.current.setAttribute("aria-valuenow",fe),se(R,fe);break;case 8:if(R.preventDefault(),k===Z){var Xe=ye.charAt(k-1),rt=_e(ye),un=rt.decimalCharIndex,Sn=rt.decimalCharIndexWithoutPrefix;if(ut(Xe)){var dn=st(ye);if(S.current.test(Xe))S.current.lastIndex=0,fe=ye.slice(0,k-2)+ye.slice(k-1);else if(y.current.test(Xe))y.current.lastIndex=0,dn?s.current.setSelectionRange(k-1,k-1):fe=ye.slice(0,k-1)+ye.slice(k);else if(un>0&&k>un){var Pn=V()&&(e.minFractionDigits||0)<dn?"":"0";fe=ye.slice(0,k-1)+Pn+ye.slice(k)}else Sn===1?(fe=ye.slice(0,k-1)+"0"+ye.slice(k),fe=Ee(fe)>0?fe:""):fe=ye.slice(0,k-1)+ye.slice(k)}_t(R,fe,null,"delete-single")}else fe=Oe(ye,k,Z),_t(R,fe,null,"delete-range");break;case 46:if(R.preventDefault(),k===Z){var Rt=ye.charAt(k),cn=_e(ye),ai=cn.decimalCharIndex,vo=cn.decimalCharIndexWithoutPrefix;if(ut(Rt)){var Hn=st(ye);if(S.current.test(Rt))S.current.lastIndex=0,fe=ye.slice(0,k)+ye.slice(k+2);else if(y.current.test(Rt))y.current.lastIndex=0,Hn?s.current.setSelectionRange(k+1,k+1):fe=ye.slice(0,k)+ye.slice(k+1);else if(ai>0&&k>ai){var Wi=V()&&(e.minFractionDigits||0)<Hn?"":"0";fe=ye.slice(0,k)+Wi+ye.slice(k+1)}else vo===1?(fe=ye.slice(0,k)+"0"+ye.slice(k+1),fe=Ee(fe)>0?fe:""):fe=ye.slice(0,k)+ye.slice(k+1)}_t(R,fe,null,"delete-back-single")}else fe=Oe(ye,k,Z),_t(R,fe,null,"delete-range");break}e.onKeyDown&&e.onKeyDown(R)}},$=function(R){if(!(e.disabled||e.readOnly)){var k=R.which||R.keyCode;k!==13&&R.preventDefault();var Z=String.fromCharCode(k),ye=me(Z),fe=ze(Z);(48<=k&&k<=57||fe||ye)&&be(R,Z,{isDecimalSign:ye,isMinusSign:fe})}},De=function(R){if(R.preventDefault(),!(e.disabled||e.readOnly)){var k=(R.clipboardData||window.clipboardData).getData("Text");if(k){var Z=Ee(k);Z!=null&&be(R,Z.toString())}}},Ue=function(){return e.min===null||e.min<0},ze=function(R){return w.current.test(R)||R==="-"?(w.current.lastIndex=0,!0):!1},me=function(R){return y.current.test(R)?(y.current.lastIndex=0,!0):!1},V=function(){return e.mode==="decimal"},_e=function(R){var k=R.search(y.current);y.current.lastIndex=0;var Z=R.replace(A.current,"").trim().replace(/\s/g,"").replace(p.current,""),ye=Z.search(y.current);return y.current.lastIndex=0,{decimalCharIndex:k,decimalCharIndexWithoutPrefix:ye}},We=function(R){var k=R.search(y.current);y.current.lastIndex=0;var Z=R.search(w.current);w.current.lastIndex=0;var ye=R.search(C.current);C.current.lastIndex=0;var fe=R.search(p.current);return p.current.lastIndex=0,{decimalCharIndex:k,minusCharIndex:Z,suffixCharIndex:ye,currencyCharIndex:fe}},be=function(R,k){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},ye=k.search(w.current);if(w.current.lastIndex=0,!(!Ue()&&ye!==-1)){var fe=s.current.selectionStart,Xe=s.current.selectionEnd,rt=s.current.value.trim(),un=We(rt),Sn=un.decimalCharIndex,dn=un.minusCharIndex,Pn=un.suffixCharIndex,Rt=un.currencyCharIndex,cn;if(Z.isMinusSign)fe===0&&(cn=rt,(dn===-1||Xe!==0)&&(cn=F(rt,k,0,Xe)),_t(R,cn,k,"insert"));else if(Z.isDecimalSign)Sn>0&&fe===Sn?_t(R,rt,k,"insert"):(Sn>fe&&Sn<Xe||Sn===-1&&e.maxFractionDigits)&&(cn=F(rt,k,fe,Xe),_t(R,cn,k,"insert"));else{var ai=c.current.resolvedOptions().maximumFractionDigits,vo=fe!==Xe?"range-insert":"insert";if(Sn>0&&fe>Sn){if(fe+k.length-(Sn+1)<=ai){var Hn=Rt>=fe?Rt-1:Pn>=fe?Pn:rt.length;cn=rt.slice(0,fe)+k+rt.slice(fe+k.length,Hn)+rt.slice(Hn),_t(R,cn,k,vo)}}else cn=F(rt,k,fe,Xe),_t(R,cn,k,vo)}}},F=function(R,k,Z,ye){var fe=k==="."?k:k.split(".");if(fe.length===2){var Xe=R.slice(Z,ye).search(y.current);return y.current.lastIndex=0,Xe>0?R.slice(0,Z)+U(k)+R.slice(ye):R||U(k)}else{if(ye-Z===R.length)return U(k);if(Z===0){var rt=W.isLetter(R[ye])?ye-1:ye;return k+R.slice(rt)}else return ye===R.length?R.slice(0,Z)+k:R.slice(0,Z)+k+R.slice(ye)}},Oe=function(R,k,Z){var ye;return Z-k===R.length?ye="":k===0?ye=R.slice(Z):Z===R.length?ye=R.slice(0,k):ye=R.slice(0,k)+R.slice(Z),ye},Ye=function(){var R=s.current.selectionStart,k=s.current.value,Z=k.length,ye=null,fe=(h.current||"").length;k=k.replace(A.current,""),R=R-fe;var Xe=k.charAt(R);if(ut(Xe))return R+fe;for(var rt=R-1;rt>=0;)if(Xe=k.charAt(rt),ut(Xe)){ye=rt+fe;break}else rt--;if(ye!==null)s.current.setSelectionRange(ye+1,ye+1);else{for(rt=R;rt<Z;)if(Xe=k.charAt(rt),ut(Xe)){ye=rt+fe;break}else rt++;ye!==null&&s.current.setSelectionRange(ye,ye)}return ye||0},ft=function(){Ye()},ut=function(R){return R.length===1&&(E.current.test(R)||y.current.test(R)||S.current.test(R)||w.current.test(R))?(vt(),!0):!1},vt=function(){E.current.lastIndex=0,y.current.lastIndex=0,S.current.lastIndex=0,w.current.lastIndex=0},_t=function(R,k,Z,ye){var fe=s.current.value,Xe=null;k!=null&&(Xe=an(Ee(k)),qt(Xe,Z,ye,k),Zt(R,fe,Xe))},an=function(R){return!R&&!e.allowEmpty?e.min||0:R},Zt=function(R,k,Z){e.onChange&&Tt(k,Z)&&e.onChange({originalEvent:R,value:Z})},Tt=function(R,k){if(k===null&&R!==null)return!0;if(k!=null){var Z=typeof R=="string"?Ee(R):R;return k!==Z}return!1},Wt=function(R){return R==="-"?null:In(R)},In=function(R){return W.isEmpty(R)?null:e.min!==null&&R<e.min?e.min:e.max!==null&&R>e.max?e.max:R},qt=function(R,k,Z,ye){k=k||"";var fe=s.current,Xe=fe.value,rt=U(R),un=Xe.length;if(rt!==ye&&(rt=cr(rt,ye)),un===0){fe.value=rt,fe.setSelectionRange(0,0);var Sn=Ye(),dn=Sn+k.length;fe.setSelectionRange(dn,dn)}else{var Pn=fe.selectionStart,Rt=fe.selectionEnd;if(e.maxLength&&e.maxLength<rt.length)return;fe.value=rt;var cn=rt.length;if(Z==="range-insert"){var ai=Ee((Xe||"").slice(0,Pn)),vo=ai!==null?ai.toString():"",Hn=vo.split("").join("(".concat(f.current,")?")),Wi=new RegExp(Hn,"g");Wi.test(rt);var jr=k.split("").join("(".concat(f.current,")?")),jl=new RegExp(jr,"g");jl.test(rt.slice(Wi.lastIndex)),Rt=Wi.lastIndex+jl.lastIndex,fe.setSelectionRange(Rt,Rt)}else if(cn===un)Z==="insert"||Z==="delete-back-single"?fe.setSelectionRange(Rt+1,Rt+1):Z==="delete-single"?fe.setSelectionRange(Rt-1,Rt-1):(Z==="delete-range"||Z==="spin")&&fe.setSelectionRange(Rt,Rt);else if(Z==="delete-back-single"){var Ul=Xe.charAt(Rt-1),Uc=Xe.charAt(Rt),Vl=un-cn,Bl=S.current.test(Uc);Bl&&Vl===1?Rt+=1:!Bl&&ut(Ul)&&(Rt+=-1*Vl+1),S.current.lastIndex=0,fe.setSelectionRange(Rt,Rt)}else if(Xe==="-"&&Z==="insert"){fe.setSelectionRange(0,0);var Vc=Ye(),zl=Vc+k.length+1;fe.setSelectionRange(zl,zl)}else Rt=Rt+(cn-un),fe.setSelectionRange(Rt,Rt)}fe.setAttribute("aria-valuenow",R)},en=function(R){R=an(R);var k=s.current,Z=k.value,ye=Yt(R);Z!==ye&&(k.value=ye,k.setAttribute("aria-valuenow",R))},Yt=function(R){return U(an(R))},cr=function(R,k){if(R&&k){var Z=k.search(y.current);return y.current.lastIndex=0,Z!==-1?R.split(y.current)[0]+k.slice(Z):R}return R},st=function(R){if(R){var k=R.split(y.current);if(k.length===2)return k[1].replace(C.current,"").trim().replace(/\s/g,"").replace(p.current,"").length}return 0},se=function(R,k){e.onValueChange&&e.onValueChange({originalEvent:R,value:k,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:k}})},Q=function(R){if(o(!0),e.onFocus&&e.onFocus(R),(e.suffix||e.currency||e.prefix)&&s.current){var k=Ye();s.current.setSelectionRange(k,k)}},j=function(R){if(o(!1),s.current){var k=s.current.value;if(Tt(k,e.value)){var Z=Wt(Ee(k));en(Z),se(R,Z)}}e.onBlur&&e.onBlur(R)},Ie=function(){l.current&&clearInterval(l.current)},G=function(){en(In(e.value));var R=Wt(e.value);e.value!==null&&e.value!==R&&se(null,R)},x=function(){return c.current};d.useImperativeHandle(t,function(){return{props:e,getFormatter:x,getElement:function(){return a.current},getInput:function(){return s.current}}}),d.useEffect(function(){W.combinedRefs(s,e.inputRef)},[s,e.inputRef]),ho(function(){we();var B=Wt(e.value);e.value!==null&&e.value!==B&&se(null,B)}),Mt(function(){we(),G()},[e.locale,e.localeMatcher,e.mode,e.currency,e.currencyDisplay,e.useGrouping,e.minFractionDigits,e.maxFractionDigits,e.suffix,e.prefix]),Mt(function(){G()},[e.value]);var re=function(){var R=Ge("p-inputnumber-input",e.inputClassName),k=Yt(e.value);return d.createElement(Es,Wd({ref:s,id:e.inputId,style:e.inputStyle,role:"spinbutton",className:R,defaultValue:k,type:e.type,size:e.size,tabIndex:e.tabIndex,inputMode:le,maxLength:e.maxLength,disabled:e.disabled,required:e.required,pattern:e.pattern,placeholder:e.placeholder,readOnly:e.readOnly,name:e.name,autoFocus:e.autoFocus,onKeyDown:Vt,onKeyPress:$,onInput:Pt,onClick:ft,onBlur:j,onFocus:Q,onPaste:De,min:e.min,max:e.max,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.value},Ce,M))},ve=function(){var R=Ge("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":e.disabled},e.incrementButtonClassName),k=Ge("p-button-icon",e.incrementButtonIcon);return d.createElement("button",{type:"button",className:R,onMouseLeave:Fe,onMouseDown:q,onMouseUp:ne,onKeyDown:dt,onKeyUp:et,onTouchStart:ie,onTouchEnd:O,disabled:e.disabled,tabIndex:-1},d.createElement("span",{className:k}),d.createElement($t,null))},Ae=function(){var R=Ge("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":e.disabled},e.decrementButtonClassName),k=Ge("p-button-icon",e.decrementButtonIcon);return d.createElement("button",{type:"button",className:R,onMouseLeave:It,onMouseDown:Ut,onMouseUp:mt,onKeyDown:Ht,onKeyUp:kt,onTouchStart:Et,onTouchEnd:Ot,disabled:e.disabled,tabIndex:-1},d.createElement("span",{className:k}),d.createElement($t,null))},Je=function(){var R=e.showButtons&&ve(),k=e.showButtons&&Ae();return L?d.createElement("span",{className:"p-inputnumber-button-group"},R,k):d.createElement(d.Fragment,null,R,k)},nt=W.isNotEmpty(e.tooltip),ge=W.findDiffKeys(e,rp.defaultProps),M=W.reduceKeys(ge,N.DATA_PROPS),Ce=W.reduceKeys(ge,N.ARIA_PROPS),J=Ge("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":e.value!=null&&e.value.toString().length>0,"p-inputwrapper-focus":i,"p-inputnumber-buttons-stacked":L,"p-inputnumber-buttons-horizontal":K,"p-inputnumber-buttons-vertical":ae},e.className),I=re(),X=Je();return d.createElement(d.Fragment,null,d.createElement("span",Wd({ref:a,id:e.id,className:J,style:e.style},ge),I,X),nt&&d.createElement(ws,Wd({target:a,content:e.tooltip},e.tooltipOptions)))}));rp.displayName="InputNumber";rp.defaultProps={__TYPE:"InputNumber",allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:"pi pi-angle-down",disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:"pi pi-angle-up",inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null};var no=_W();function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(this,arguments)}function l0(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(e,t)}function u0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b_(e,t)}function vK(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function pK(e,t){e.classList?e.classList.add(t):vK(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function LI(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yK(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=LI(e.className,t):e.setAttribute("class",LI(e.className&&e.className.baseVal||"",t))}const $I={disabled:!1},Gg=Ni.createContext(null);var Nx=function(t){return t.scrollTop},Td="unmounted",Ns="exited",Os="entering",au="entered",C_="exiting",va=function(e){u0(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=Ns,o.appearStatus=Os):l=au:r.unmountOnExit||r.mountOnEnter?l=Td:l=Ns,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Td?{status:Ns}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Os&&a!==au&&(o=Os):(a===Os||a===au)&&(o=C_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Os){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:bd.findDOMNode(this);a&&Nx(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ns&&this.setState({status:Td})},n.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[bd.findDOMNode(this),s],u=l[0],c=l[1],f=this.getTimeouts(),h=s?f.appear:f.enter;if(!i&&!a||$I.disabled){this.safeSetState({status:au},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Os},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:au},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:bd.findDOMNode(this);if(!o||$I.disabled){this.safeSetState({status:Ns},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:C_},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Ns},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:bd.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Td)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=l0(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ni.createElement(Gg.Provider,{value:null},typeof a=="function"?a(i,s):Ni.cloneElement(Ni.Children.only(a),s))},t}(Ni.Component);va.contextType=Gg;va.propTypes={};function Zl(){}va.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zl,onEntering:Zl,onEntered:Zl,onExit:Zl,onExiting:Zl,onExited:Zl};va.UNMOUNTED=Td;va.EXITED=Ns;va.ENTERING=Os;va.ENTERED=au;va.EXITING=C_;const wK=va;var EK=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return pK(t,r)})},kw=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return yK(t,r)})},c0=function(e){u0(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1];r.removeClasses(c,"exit"),r.addClass(c,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,l)},r.onEntering=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1],h=f?"appear":"enter";r.addClass(c,h,"active"),r.props.onEntering&&r.props.onEntering(s,l)},r.onEntered=function(s,l){var u=r.resolveArguments(s,l),c=u[0],f=u[1],h=f?"appear":"enter";r.removeClasses(c,h),r.addClass(c,h,"done"),r.props.onEntered&&r.props.onEntered(s,l)},r.onExit=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var l=r.resolveArguments(s),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,l){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,l]},r.getClassNames=function(s){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",f=u?""+c+s:l[s],h=u?f+"-active":l[s+"Active"],v=u?f+"-done":l[s+"Done"];return{baseClassName:f,activeClassName:h,doneClassName:v}},r}var n=t.prototype;return n.addClass=function(i,o,a){var s=this.getClassNames(o)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&a==="done"&&u&&(s+=" "+u),a==="active"&&i&&Nx(i),s&&(this.appliedClasses[o][a]=s,EK(i,s))},n.removeClasses=function(i,o){var a=this.appliedClasses[o],s=a.base,l=a.active,u=a.done;this.appliedClasses[o]={},s&&kw(i,s),l&&kw(i,l),u&&kw(i,u)},n.render=function(){var i=this.props;i.classNames;var o=l0(i,["classNames"]);return Ni.createElement(wK,Kg({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Ni.Component);c0.defaultProps={classNames:""};c0.propTypes={};const _K=c0;function SK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d0(e,t){var n=function(o){return t&&d.isValidElement(o)?t(o):o},r=Object.create(null);return e&&d.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function bK(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}function Bs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function CK(e,t){return d0(e.children,function(n){return d.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Bs(n,"appear",e),enter:Bs(n,"enter",e),exit:Bs(n,"exit",e)})})}function TK(e,t,n){var r=d0(e.children),i=bK(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(d.isValidElement(a)){var s=o in t,l=o in r,u=t[o],c=d.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=d.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Bs(a,"exit",e),enter:Bs(a,"enter",e)}):!l&&s&&!c?i[o]=d.cloneElement(a,{in:!1}):l&&s&&d.isValidElement(u)&&(i[o]=d.cloneElement(a,{onExited:n.bind(null,a),in:u.props.in,exit:Bs(a,"exit",e),enter:Bs(a,"enter",e)}))}}),i}var IK=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},RK={component:"div",childFactory:function(t){return t}},f0=function(e){u0(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var a=o.handleExited.bind(SK(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?CK(i,s):TK(i,a,s),firstRender:!1}},n.handleExited=function(i,o){var a=d0(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=Kg({},s.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=l0(i,["component","childFactory"]),l=this.state.contextValue,u=IK(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?Ni.createElement(Gg.Provider,{value:l},u):Ni.createElement(Gg.Provider,{value:l},Ni.createElement(o,s,u))},t}(Ni.Component);f0.propTypes={};f0.defaultProps=RK;const kK=f0;function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function DK(e,t){if(kf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e){var t=DK(e,"string");return kf(t)==="symbol"?t:String(t)}function NK(e,t,n){return t=AK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){NK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rl=d.forwardRef(function(e,t){var n=e.disabled||e.options&&e.options.disabled||!ht.cssTransition,r=function(v,_){e.onEnter&&e.onEnter(v,_),e.options&&e.options.onEnter&&e.options.onEnter(v,_)},i=function(v,_){e.onEntering&&e.onEntering(v,_),e.options&&e.options.onEntering&&e.options.onEntering(v,_)},o=function(v,_){e.onEntered&&e.onEntered(v,_),e.options&&e.options.onEntered&&e.options.onEntered(v,_)},a=function(v){e.onExit&&e.onExit(v),e.options&&e.options.onExit&&e.options.onExit(v)},s=function(v){e.onExiting&&e.onExiting(v),e.options&&e.options.onExiting&&e.options.onExiting(v)},l=function(v){e.onExited&&e.onExited(v),e.options&&e.options.onExited&&e.options.onExited(v)};if(Mt(function(){if(n){var h=W.getRefElement(e.nodeRef);e.in?(r(h,!0),i(h,!0),o(h,!0)):(a(h),s(h),l(h))}},[e.in]),n)return e.in?e.children:null;var u={nodeRef:e.nodeRef,in:e.in,onEnter:r,onEntering:i,onEntered:o,onExit:a,onExiting:s,onExited:l},c={classNames:e.classNames,timeout:e.timeout,unmountOnExit:e.unmountOnExit},f=Dw(Dw(Dw({},c),e.options||{}),u);return d.createElement(_K,f,e.children)});Rl.displayName="CSSTransition";Rl.defaultProps={__TYPE:"CSSTransition"};function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T_.apply(this,arguments)}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function OK(e,t){if(Df(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xK(e){var t=OK(e,"string");return Df(t)==="symbol"?t:String(t)}function MK(e,t,n){return t=xK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PK(e){if(Array.isArray(e))return e}function LK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $K(e,t){if(e){if(typeof e=="string")return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)}}function FK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sa(e,t){return PK(e)||LK(e,t)||$K(e,t)||FK()}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){MK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fh=d.memo(d.forwardRef(function(e,t){var n=e.orientation==="vertical",r=e.orientation==="horizontal",i=e.orientation==="both",o=d.useState(i?{rows:0,cols:0}:0),a=Sa(o,2),s=a[0],l=a[1],u=d.useState(i?{rows:0,cols:0}:0),c=Sa(u,2),f=c[0],h=c[1],v=d.useState(i?{rows:0,cols:0}:0),_=Sa(v,2),E=_[0],S=_[1],w=d.useState(e.numToleratedItems),p=Sa(w,2),y=p[0],C=p[1],A=d.useState(e.loading||!1),P=Sa(A,2),L=P[0],K=P[1],ae=d.useState([]),le=Sa(ae,2),ue=le[0],we=le[1],he=d.useRef(null),Se=d.useRef(null),qe=d.useRef(null),Ve=d.useRef(null),Ze=d.useRef(i?{top:0,left:0}:0),ce=d.useRef(null),ee=d.useRef(null),U=d.useRef(null),Ee=d.useRef(null),de=ll(e.items),te=ll(e.loading),ie=a0({listener:function(se){return be()}}),q=Sa(ie,1),O=q[0],ne=Zi({target:"window",type:"orientationchange",listener:function(se){return be()}}),Fe=Sa(ne,1),et=Fe[0],dt=function(){return he},Et=function(se){Ze.current=i?{top:0,left:0}:0,he.current&&he.current.scrollTo(se)},Ot=function(se){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",j=Ht(),Ie=j.numToleratedItems,G=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ge=arguments.length>1?arguments[1]:void 0;return nt<=ge?0:nt},x=function(nt,ge){return nt*ge},re=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Et({left:nt,top:ge,behavior:Q})};if(i){var ve={rows:G(se[0],Ie[0]),cols:G(se[1],Ie[1])};(ve.rows!==s.rows||ve.cols!==s.cols)&&re(x(ve.cols,e.itemSize[1]),x(ve.rows,e.itemSize[0]))}else{var Ae=G(se,Ie);Ae!==s&&(r?re(x(Ae,e.itemSize),0):re(0,x(Ae,e.itemSize)))}},Ut=function(se,Q){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(Q){var Ie=kt(),G=Ie.first,x=Ie.viewport,re=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Et({left:M,top:Ce,behavior:j})},ve=Q==="to-start",Ae=Q==="to-end";if(ve){if(i)x.first.rows-G.rows>se[0]?re(x.first.cols*e.itemSize[1],(x.first.rows-1)*e.itemSize[0]):x.first.cols-G.cols>se[1]&&re((x.first.cols-1)*e.itemSize[1],x.first.rows*e.itemSize[0]);else if(x.first-G>se){var Je=(x.first-1)*e.itemSize;r?re(Je,0):re(0,Je)}}else if(Ae){if(i)x.last.rows-G.rows<=se[0]+1?re(x.first.cols*e.itemSize[1],(x.first.rows+1)*e.itemSize[0]):x.last.cols-G.cols<=se[1]+1&&re((x.first.cols+1)*e.itemSize[1],x.first.rows*e.itemSize[0]);else if(x.last-G<=se+1){var nt=(x.first+1)*e.itemSize;r?re(nt,0):re(0,nt)}}}else Ot(se,j)},mt=function(){return L?e.loaderDisabled?ue:[]:Ye()},It=function(){return e.columns&&i||r?L&&e.loaderDisabled?i?ue[0]:ue:e.columns.slice(i?s.cols:s,i?f.cols:f):e.columns},kt=function(){var se=function(Ae,Je){return Math.floor(Ae/(Je||Ae))},Q=s,j=0;if(he.current){var Ie=he.current,G=Ie.scrollTop,x=Ie.scrollLeft;if(i)Q={rows:se(G,e.itemSize[0]),cols:se(x,e.itemSize[1])},j={rows:Q.rows+E.rows,cols:Q.cols+E.cols};else{var re=r?x:G;Q=se(re,e.itemSize),j=Q+E}}return{first:s,last:f,viewport:{first:Q,last:j}}},Ht=function(){var se=De(),Q=he.current?he.current.offsetWidth-se.left:0,j=he.current?he.current.offsetHeight-se.top:0,Ie=function(Ae,Je){return Math.ceil(Ae/(Je||Ae))},G=function(Ae){return Math.ceil(Ae/2)},x=i?{rows:Ie(j,e.itemSize[0]),cols:Ie(Q,e.itemSize[1])}:Ie(r?Q:j,e.itemSize),re=y||(i?[G(x.rows),G(x.cols)]:G(x));return{numItemsInViewport:x,numToleratedItems:re}},Pt=function(){var se=Ht(),Q=se.numItemsInViewport,j=se.numToleratedItems,Ie=function(re,ve,Ae,Je){return $(re+ve+(re<Ae?2:3)*Ae,Je)},G=i?{rows:Ie(s.rows,Q.rows,j[0]),cols:Ie(s.cols,Q.cols,j[1],!0)}:Ie(s,Q,j);S(Q),C(j),h(G),e.showLoader&&we(i?Array.from({length:Q.rows}).map(function(){return Array.from({length:Q.cols})}):Array.from({length:Q})),e.lazy&&e.onLazyLoad&&e.onLazyLoad({first:s,last:G})},Vt=function(se){e.autoSize&&!se&&Promise.resolve().then(function(){if(Se.current){Se.current.style.minHeight=Se.current.style.minWidth="auto";var Q=Se.current,j=Q.offsetWidth,Ie=Q.offsetHeight;(i||r)&&(he.current.style.width=(j<U.current?j:U.current)+"px"),(i||n)&&(he.current.style.height=(Ie<Ee.current?Ie:Ee.current)+"px"),Se.current.style.minHeight=Se.current.style.minWidth=""}})},$=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=arguments.length>1?arguments[1]:void 0;return e.items?Math.min(Q?(e.columns||e.items[0]).length:e.items.length,se):0},De=function(){if(Se.current){var se=getComputedStyle(Se.current),Q=parseInt(se.paddingLeft,10)+Math.max(parseInt(se.left,10),0),j=parseInt(se.paddingRight,10)+Math.max(parseInt(se.right,10),0),Ie=parseInt(se.paddingTop,10)+Math.max(parseInt(se.top,10),0),G=parseInt(se.paddingBottom,10)+Math.max(parseInt(se.bottom,10),0);return{left:Q,right:j,top:Ie,bottom:G,x:Q+j,y:Ie+G}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Ue=function(){if(he.current){var se=he.current.parentElement,Q=e.scrollWidth||"".concat(he.current.offsetWidth||se.offsetWidth,"px"),j=e.scrollHeight||"".concat(he.current.offsetHeight||se.offsetHeight,"px"),Ie=function(x,re){return he.current.style[x]=re};i||r?(Ie("height",j),Ie("width",Q)):Ie("height",j)}},ze=function(){var se=e.items;if(qe.current&&se){var Q=De(),j=function(G,x,re){var ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return qe.current.style[G]=(x||[]).length*re+ve+"px"};i?(j("height",se,e.itemSize[0],Q.y),j("width",e.columns||se[1],e.itemSize[1],Q.x)):r?j("width",e.columns||se,e.itemSize,Q.x):j("height",se,e.itemSize,Q.y)}},me=function(se){if(Se.current){var Q=se?se.first:s,j=function(re,ve){return re*ve},Ie=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ve.current&&(Ve.current.style.top="-".concat(ve,"px")),Se.current.style.transform="translate3d(".concat(re,"px, ").concat(ve,"px, 0)")};if(i)Ie(j(Q.cols,e.itemSize[1]),j(Q.rows,e.itemSize[0]));else{var G=j(Q,e.itemSize);r?Ie(G,0):Ie(0,G)}}},V=function(se){var Q=se.target,j=De(),Ie=function(Xe,rt){return Xe?Xe>rt?Xe-rt:Xe:0},G=function(Xe,rt){return Math.floor(Xe/(rt||Xe))},x=function(Xe,rt,un,Sn,dn,Pn){return Xe<=dn?dn:Pn?un-Sn-dn:rt+dn-1},re=function(Xe,rt,un,Sn,dn,Pn,Rt){return Xe<=Pn?0:Math.max(0,Rt?Xe<rt?un:Xe-Pn:Xe>rt?un:Xe-2*Pn)},ve=function(Xe,rt,un,Sn,dn,Pn){var Rt=rt+Sn+2*dn;return Xe>=dn&&(Rt+=dn+1),$(Rt,Pn)},Ae=Ie(Q.scrollTop,j.top),Je=Ie(Q.scrollLeft,j.left),nt=i?{rows:0,cols:0}:0,ge=f,M=!1,Ce=Ze.current;if(i){var J=Ze.current.top<=Ae,I=Ze.current.left<=Je,X={rows:G(Ae,e.itemSize[0]),cols:G(Je,e.itemSize[1])},B={rows:x(X.rows,s.rows,f.rows,E.rows,y[0],J),cols:x(X.cols,s.cols,f.cols,E.cols,y[1],I)};nt={rows:re(X.rows,B.rows,s.rows,f.rows,E.rows,y[0],J),cols:re(X.cols,B.cols,s.cols,f.cols,E.cols,y[1],I)},ge={rows:ve(X.rows,nt.rows,f.rows,E.rows,y[0]),cols:ve(X.cols,nt.cols,f.cols,E.cols,y[1],!0)},M=nt.rows!==s.rows||ge.rows!==f.rows||nt.cols!==s.cols||ge.cols!==f.cols,Ce={top:Ae,left:Je}}else{var R=r?Je:Ae,k=Ze.current<=R,Z=G(R,e.itemSize),ye=x(Z,s,f,E,y,k);nt=re(Z,ye,s,f,E,y,k),ge=ve(Z,nt,f,E,y),M=nt!==s||ge!==f,Ce=R}return{first:nt,last:ge,isRangeChanged:M,scrollPos:Ce}},_e=function(se){var Q=V(se),j=Q.first,Ie=Q.last,G=Q.isRangeChanged,x=Q.scrollPos;if(G){var re={first:j,last:Ie};me(re),l(j),h(Ie),Ze.current=x,e.onScrollIndexChange&&e.onScrollIndexChange(re),e.lazy&&e.onLazyLoad&&e.onLazyLoad(re)}},We=function(se){if(e.onScroll&&e.onScroll(se),e.delay){if(ce.current&&clearTimeout(ce.current),!L&&e.showLoader){var Q=V(se),j=Q.isRangeChanged;j&&K(!0)}ce.current=setTimeout(function(){_e(se),L&&e.showLoader&&(!e.lazy||e.loading===void 0)&&K(!1)},e.delay)}else _e(se)},be=function(){ee.current&&clearTimeout(ee.current),ee.current=setTimeout(function(){if(he.current){var se=[N.getWidth(he.current),N.getHeight(he.current)],Q=se[0],j=se[1],Ie=Q!==U.current,G=j!==Ee.current,x=i?Ie||G:r?Ie:n?G:!1;x&&(C(e.numToleratedItems),U.current=Q,Ee.current=j)}},e.resizeDelay)},F=function(se){var Q=(e.items||[]).length,j=i?s.rows+se:s+se;return{index:j,count:Q,first:j===0,last:j===Q-1,even:j%2===0,odd:j%2!==0,props:e}},Oe=function(se,Q){var j=ue.length;return jK({index:se,count:j,first:se===0,last:se===j-1,even:se%2===0,odd:se%2!==0,props:e},Q)},Ye=function(){var se=e.items;return se&&!L?i?se.slice(s.rows,f.rows).map(function(Q){return e.columns?Q:Q.slice(s.cols,f.cols)}):r&&e.columns?se:se.slice(s,f):[]},ft=function(){e.disabled||(Ue(),Pt(),ze())};ho(function(){e.disabled||(ft(),O(),et(),U.current=N.getWidth(he.current),Ee.current=N.getHeight(he.current))}),Mt(function(){ft()},[e.itemSize,e.scrollHeight]),Mt(function(){e.numToleratedItems!==y&&C(e.numToleratedItems)},[e.numToleratedItems]),Mt(function(){e.numToleratedItems===y&&ft()},[y]),Mt(function(){(!de||de.length!==(e.items||[]).length)&&ft();var st=L;e.lazy&&te!==e.loading&&e.loading!==L&&(K(e.loading),st=e.loading),Vt(st)}),Mt(function(){Ze.current=i?{top:0,left:0}:0},[e.orientation]),d.useImperativeHandle(t,function(){return{props:e,getElementRef:dt,scrollTo:Et,scrollToIndex:Ot,scrollInView:Ut,getRenderedRange:kt}});var ut=function(se){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=Oe(se,Q),Ie=W.getJSXElement(e.loadingTemplate,j);return d.createElement(d.Fragment,{key:se},Ie)},vt=function(){if(!e.loaderDisabled&&e.showLoader&&L){var se=Ge("p-virtualscroller-loader",{"p-component-overlay":!e.loadingTemplate}),Q=d.createElement("i",{className:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"});if(e.loadingTemplate)Q=ue.map(function(Ie,G){return ut(G,i&&{numCols:E.cols})});else if(e.loaderIconTemplate){var j={className:"p-virtualscroller-loading-icon",element:Q,props:e};Q=W.getJSXElement(e.loaderIconTemplate,j)}return d.createElement("div",{className:se},Q)}return null},_t=function(){return e.showSpacer?d.createElement("div",{ref:qe,className:"p-virtualscroller-spacer"}):null},an=function(se,Q){var j=F(Q),Ie=W.getJSXElement(e.itemTemplate,se,j);return d.createElement(d.Fragment,{key:j.index},Ie)},Zt=function(){var se=Ye();return se.map(an)},Tt=function(){var se=Zt(),Q=Ge("p-virtualscroller-content",{"p-virtualscroller-loading":L}),j=d.createElement("div",{ref:Se,className:Q},se);if(e.contentTemplate){var Ie={className:Q,contentRef:function(x){return Se.current=W.getRefElement(x)},spacerRef:function(x){return qe.current=W.getRefElement(x)},stickyRef:function(x){return Ve.current=W.getRefElement(x)},items:Ye(),getItemOptions:function(x){return F(x)},children:se,element:j,props:e,loading:L,getLoaderOptions:function(x,re){return Oe(x,re)},loadingTemplate:e.loadingTemplate,itemSize:e.itemSize,rows:mt(),columns:It(),vertical:n,horizontal:r,both:i};return W.getJSXElement(e.contentTemplate,Ie)}return j};if(e.disabled){var Wt=W.getJSXElement(e.contentTemplate,{items:e.items,rows:e.items,columns:e.columns});return d.createElement(d.Fragment,null,e.children,Wt)}else{var In=W.findDiffKeys(e,fh.defaultProps),qt=Ge("p-virtualscroller",{"p-both-scroll":i,"p-horizontal-scroll":r},e.className),en=vt(),Yt=Tt(),cr=_t();return d.createElement("div",T_({ref:he,className:qt,tabIndex:0,style:e.style},In,{onScroll:We}),Yt,cr,en)}}));fh.displayName="VirtualScroller";fh.defaultProps={__TYPE:"VirtualScroller",id:null,style:null,className:null,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",numToleratedItems:null,delay:0,resizeDelay:10,lazy:!1,disabled:!1,loaderDisabled:!1,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null};function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function UK(e,t){if(tc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e){var t=UK(e,"string");return tc(t)==="symbol"?t:String(t)}function Ox(e,t,n){return t=VK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BK(e){if(Array.isArray(e))return e}function zK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HK(e,t){if(e){if(typeof e=="string")return VI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VI(e,t)}}function WK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function km(e,t){return BK(e)||zK(e,t)||HK(e,t)||WK()}var I_=d.memo(function(e){var t=function(o){e.onClick&&e.onClick({originalEvent:o,option:e.option})},n=Ge("p-dropdown-item",{"p-highlight":e.selected,"p-disabled":e.disabled,"p-dropdown-item-empty":!e.label||e.label.length===0},e.option&&e.option.className),r=e.template?W.getJSXElement(e.template,e.option):e.label;return d.createElement("li",{className:n,style:e.style,onClick:t,"aria-label":e.label,key:e.label,role:"option","aria-selected":e.selected},r,d.createElement($t,null))});I_.displayName="DropdownItem";function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){Ox(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xx=d.memo(d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useRef(null),i=!(e.visibleOptions&&e.visibleOptions.length)&&e.hasFilter,o={filter:function(y){return l(y)},reset:function(){return e.resetFilter()}},a=function(){e.onEnter(function(){if(n.current){var y=e.getSelectedOptionIndex();y!==-1&&setTimeout(function(){return n.current.scrollToIndex(y)},0)}})},s=function(){e.onEntered(function(){e.filter&&e.filterInputAutoFocus&&N.focus(r.current,!1)})},l=function(y){n.current&&n.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(y)},u=function(y,C){var A=e.getOptionGroupChildren(y);return A.map(function(P,L){var K=e.getOptionLabel(P),ae=L+"_"+e.getOptionRenderKey(P),le=e.isOptionDisabled(P);return d.createElement(I_,{key:ae,label:K,option:P,style:C,template:e.itemTemplate,selected:e.isSelected(P),disabled:le,onClick:e.onOptionClick})})},c=function(y,C){var A=W.getJSXElement(y,e)||Kn(C?"emptyFilterMessage":"emptyMessage");return d.createElement("li",{className:"p-dropdown-empty-message"},A)},f=function(y,C){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P={height:A.props?A.props.itemSize:void 0};if(e.optionGroupLabel){var L=e.optionGroupTemplate?W.getJSXElement(e.optionGroupTemplate,y,C):e.getOptionGroupLabel(y),K=u(y,P),ae=C+"_"+e.getOptionGroupRenderKey(y);return d.createElement(d.Fragment,{key:ae},d.createElement("li",{className:"p-dropdown-item-group",style:P},L),K)}else{var le=e.getOptionLabel(y),ue=C+"_"+e.getOptionRenderKey(y),we=e.isOptionDisabled(y);return d.createElement(I_,{key:ue,label:le,option:y,style:P,template:e.itemTemplate,selected:e.isSelected(y),disabled:we,onClick:e.onOptionClick})}},h=function(){return W.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(f):e.hasFilter?c(e.emptyFilterMessage,!0):c(e.emptyMessage)},v=function(){if(e.showFilterClear&&e.filterValue){var y=Kn("clear");return d.createElement("i",{className:"p-dropdown-filter-clear-icon pi pi-times","aria-label":y,onClick:function(){return e.onFilterClearIconClick(function(){return N.focus(r.current)})}})}return null},_=function(){if(e.filter){var y=v(),C=Ge("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!y}),A=d.createElement("div",{className:C},d.createElement("input",{ref:r,type:"text",autoComplete:"off",className:"p-dropdown-filter p-inputtext p-component",placeholder:e.filterPlaceholder,onKeyDown:e.onFilterInputKeyDown,onChange:l,value:e.filterValue}),y,d.createElement("i",{className:"p-dropdown-filter-icon pi pi-search"}));if(e.filterTemplate){var P={className:C,element:A,filterOptions:o,filterInputKeyDown:e.onFilterInputKeyDown,filterInputChange:l,filterIconClassName:"p-dropdown-filter-icon pi pi-search",clearIcon:y,props:e};A=W.getJSXElement(e.filterTemplate,P)}return d.createElement("div",{className:"p-dropdown-header"},A)}return null},E=function(){if(e.virtualScrollerOptions){var y=eu(eu({},e.virtualScrollerOptions),{style:eu(eu({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:Ge("p-dropdown-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(P){return e.virtualScrollerOptions.onLazyLoad(eu(eu({},P),{filter:e.filterValue}))},itemTemplate:function(P,L){return P&&f(P,L.index,L)},contentTemplate:function(P){var L=Ge("p-dropdown-items",P.className),K=i?c():P.children;return d.createElement("ul",{ref:P.contentRef,className:L,role:"listbox"},K)}});return d.createElement(fh,Na({ref:n},y))}else{var C=h();return d.createElement("div",{className:"p-dropdown-items-wrapper",style:{maxHeight:e.scrollHeight||"auto"}},d.createElement("ul",{className:"p-dropdown-items",role:"listbox"},C))}},S=function(){var y=Ge("p-dropdown-panel p-component",e.panelClassName),C=_(),A=E();return d.createElement(Rl,{nodeRef:t,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:a,onEntering:e.onEntering,onEntered:s,onExit:e.onExit,onExited:e.onExited},d.createElement("div",{ref:t,className:y,style:e.panelStyle,onClick:e.onClick},C,A))},w=S();return d.createElement(ys,{element:w,appendTo:e.appendTo})}));xx.displayName="DropdownPanel";function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Ox(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KK(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=GK(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function GK(e,t){if(e){if(typeof e=="string")return WI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(e,t)}}function WI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var as=d.memo(d.forwardRef(function(e,t){var n=d.useState(""),r=km(n,2),i=r[0],o=r[1],a=d.useState(!1),s=km(a,2),l=s[0],u=s[1],c=d.useState(!1),f=km(c,2),h=f[0],v=f[1],_=d.useRef(null),E=d.useRef(null),S=d.useRef(e.inputRef),w=d.useRef(e.focusInputRef),p=d.useRef(null),y=d.useRef(null),C=d.useRef(null),A=e.virtualScrollerOptions&&e.virtualScrollerOptions.lazy,P=W.isNotEmpty(i),L=e.appendTo||ht.appendTo,K=s0({target:_,overlay:E,listener:function(M,Ce){var J=Ce.type,I=Ce.valid;I&&(J==="outside"?!he(M)&&me():me())},when:h}),ae=km(K,2),le=ae[0],ue=ae[1],we=function(){if(P&&!A){var M=i.trim().toLocaleLowerCase(e.filterLocale),Ce=e.filterBy?e.filterBy.split(","):[e.optionLabel||"label"];if(e.optionGroupLabel){var J=[],I=KK(e.options),X;try{for(I.s();!(X=I.n()).done;){var B=X.value,R=zd.filter(Tt(B),Ce,M,e.filterMatchMode,e.filterLocale);R&&R.length&&J.push(HI(HI({},B),{items:R}))}}catch(k){I.e(k)}finally{I.f()}return J}else return zd.filter(e.options,Ce,M,e.filterMatchMode,e.filterLocale)}else return e.options},he=function(M){return N.hasClass(M.target,"p-dropdown-clear-icon")||N.hasClass(M.target,"p-dropdown-filter-clear-icon")},Se=function(M){e.disabled||N.hasClass(M.target,"p-dropdown-clear-icon")||M.target.tagName==="INPUT"||(!E.current||!(E.current&&E.current.contains(M.target)))&&(N.focus(w.current),h?me():ze())},qe=function(M){e.showOnFocus&&!h&&ze(),u(!0),e.onFocus&&e.onFocus(M)},Ve=function(M){u(!1),e.onBlur&&setTimeout(function(){var Ce=S.current?S.current.value:void 0;e.onBlur({originalEvent:M.originalEvent,value:Ce,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:Ce}})},200)},Ze=function(M){no.emit("overlay-click",{originalEvent:M,target:_.current})},ce=function(M){switch(M.which){case 40:Ee(M);break;case 38:U(M);break;case 32:case 13:h?me():ze(),M.preventDefault();break;case 27:case 9:me();break;default:O(M);break}},ee=function(M){switch(M.which){case 40:Ee(M);break;case 38:U(M);break;case 13:case 27:me(),M.preventDefault();break}},U=function(M){if(se){var Ce=ie(Vt());Ce&&Pt({originalEvent:M,option:Ce})}M.preventDefault()},Ee=function(M){if(se)if(!h&&M.altKey)ze();else{var Ce=de(Vt());Ce&&Pt({originalEvent:M,option:Ce})}M.preventDefault()},de=function ge(M){if(e.optionGroupLabel){var Ce=M===-1?0:M.group,J=M===-1?-1:M.option,I=te(Tt(se[Ce]),J);return I||(Ce+1!==se.length?ge({group:Ce+1,option:-1}):null)}return te(se,M)},te=function ge(M,Ce){var J=Ce+1;if(J===M.length)return null;var I=M[J];return _t(I)?ge(J):I},ie=function ge(M){if(M===-1)return null;if(e.optionGroupLabel){var Ce=M.group,J=M.option,I=q(Tt(se[Ce]),J);return I||(Ce>0?ge({group:Ce-1,option:Tt(se[Ce-1]).length}):null)}return q(se,M)},q=function(M,Ce){var J=Ce-1;if(J<0)return null;var I=M[J];return _t(I)?ie(J):I},O=function(M){p.current&&clearTimeout(p.current);var Ce=M.key;if(!(Ce==="Shift"||Ce==="Control"||Ce==="Alt")){if(C.current===Ce?y.current=Ce:y.current=y.current?y.current+Ce:Ce,C.current=Ce,y.current){var J=Vt(),I=e.optionGroupLabel?et(J):ne(J+1);I&&Pt({originalEvent:M,option:I})}p.current=setTimeout(function(){y.current=null},250)}},ne=function(M){return y.current?Fe(M,se.length)||Fe(0,M):null},Fe=function(M,Ce){for(var J=M;J<Ce;J++){var I=se[J];if(dt(I))return I}return null},et=function(M){for(var Ce=M===-1?{group:0,option:-1}:M,J=Ce.group;J<se.length;J++)for(var I=Tt(se[J]),X=Ce.group===J?Ce.option+1:0;X<I.length;X++)if(dt(I[X]))return I[X];for(var B=0;B<=Ce.group;B++)for(var R=Tt(se[B]),k=0;k<(Ce.group===B?Ce.option:R.length);k++)if(dt(R[k]))return R[k];return null},dt=function(M){var Ce=ft(M);return Ce?(Ce=Ce.toLocaleLowerCase(e.filterLocale),Ce.startsWith(y.current.toLocaleLowerCase(e.filterLocale))):!1},Et=function(M){e.onChange&&e.onChange({originalEvent:M.originalEvent,value:M.target.value,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:M.target.value}})},Ot=function(M){u(!0),me(),e.onFocus&&e.onFocus(M)},Ut=function(M){var Ce=M.option;Ce.disabled||(Pt(M),N.focus(w.current)),me()},mt=function(M){var Ce=M.target.value;o(Ce),e.onFilter&&e.onFilter({originalEvent:M,filter:Ce})},It=function(M){kt(M)},kt=function(M){o(""),e.onFilter&&e.onFilter({filter:""}),M&&M()},Ht=function(M){e.onChange&&e.onChange({originalEvent:M,value:void 0,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:void 0}}),Ye()},Pt=function(M){if(Q!==M.option){Ye(M.option);var Ce=ut(M.option);e.onChange&&e.onChange({originalEvent:M.originalEvent,value:Ce,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:Ce}})}},Vt=function(M){if(M=M||se,e.value!=null&&M)if(e.optionGroupLabel)for(var Ce=0;Ce<M.length;Ce++){var J=De(e.value,Tt(M[Ce]));if(J!==-1)return{group:Ce,option:J}}else return De(e.value,M);return-1},$=function(){return e.optionValue?null:e.dataKey},De=function(M,Ce){var J=$();return Ce.findIndex(function(I){return W.equals(M,ut(I),J)})},Ue=function(M){return W.equals(e.value,ut(M),$())},ze=function(){v(!0)},me=function(){v(!1)},V=function(M){On.set("overlay",E.current,ht.autoZIndex,ht.zIndex.overlay),F(),M&&M()},_e=function(M){M&&M(),le(),e.onShow&&e.onShow()},We=function(){ue()},be=function(){e.filter&&e.resetFilterOnHide&&kt(),On.clear(E.current),e.onHide&&e.onHide()},F=function(){N.alignOverlay(E.current,S.current.parentElement,e.appendTo||ht.appendTo)},Oe=function(){var M=N.findSingle(E.current,"li.p-highlight");M&&M.scrollIntoView&&M.scrollIntoView({block:"nearest",inline:"nearest"})},Ye=function(M){S.current&&(S.current.value=M?ft(M):e.value||"")},ft=function(M){return e.optionLabel?W.resolveFieldData(M,e.optionLabel):M&&M.label!==void 0?M.label:M},ut=function(M){return e.optionValue?W.resolveFieldData(M,e.optionValue):M&&M.value!==void 0?M.value:M},vt=function(M){return e.dataKey?W.resolveFieldData(M,e.dataKey):ft(M)},_t=function(M){return e.optionDisabled?W.isFunction(e.optionDisabled)?e.optionDisabled(M):W.resolveFieldData(M,e.optionDisabled):M&&M.disabled!==void 0?M.disabled:!1},an=function(M){return W.resolveFieldData(M,e.optionGroupLabel)},Zt=function(M){return W.resolveFieldData(M,e.optionGroupLabel)},Tt=function(M){return W.resolveFieldData(M,e.optionGroupChildren)},Wt=function(){if(e.editable&&S.current){var M=Q?ft(Q):null,Ce=M||e.value||"";S.current.value=Ce}},In=function(){var M=Vt(e.options);return M!==-1?e.optionGroupLabel?Tt(e.options[M.group])[M.option]:e.options[M]:null};d.useImperativeHandle(t,function(){return{props:e,show:ze,hide:me,getElement:function(){return _.current},getOverlay:function(){return E.current},getInput:function(){return S.current},getFocusInput:function(){return w.current}}}),d.useEffect(function(){W.combinedRefs(S,e.inputRef),W.combinedRefs(w,e.focusInputRef)},[S,e.inputRef,w,e.focusInputRef]),ho(function(){e.autoFocus&&N.focus(w.current,e.autoFocus)}),Mt(function(){h&&e.value&&Oe()},[h,e.value]),Mt(function(){h&&e.filter&&F()},[h,e.filter]),Mt(function(){i&&(!e.options||e.options.length===0)&&o(""),Wt(),S.current&&(S.current.selectedIndex=1)}),qr(function(){On.clear(E.current)});var qt=function(){var M={value:"",label:e.placeholder};if(Q){var Ce=ut(Q);M={value:tc(Ce)==="object"?e.options.findIndex(function(J){return J===Ce}):Ce,label:ft(Q)}}return d.createElement("div",{className:"p-hidden-accessible p-dropdown-hidden-select"},d.createElement("select",{ref:S,required:e.required,defaultValue:M.value,name:e.name,tabIndex:-1,"aria-hidden":"true"},d.createElement("option",{value:M.value},M.label)))},en=function(){return d.createElement("div",{className:"p-hidden-accessible"},d.createElement("input",Na({ref:w,id:e.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:qe,onBlur:Ve,onKeyDown:ce,disabled:e.disabled,tabIndex:e.tabIndex},G)))},Yt=function(){var M=W.isNotEmpty(Q)?ft(Q):null;if(e.editable){var Ce=M||e.value||"";return d.createElement("input",Na({ref:S,type:"text",defaultValue:Ce,className:"p-dropdown-label p-inputtext",disabled:e.disabled,placeholder:e.placeholder,maxLength:e.maxLength,onInput:Et,onFocus:Ot,onBlur:Ve,"aria-haspopup":"listbox"},G))}else{var J=Ge("p-dropdown-label p-inputtext",{"p-placeholder":M===null&&e.placeholder,"p-dropdown-label-empty":M===null&&!e.placeholder}),I=e.valueTemplate?W.getJSXElement(e.valueTemplate,Q,e):M||e.placeholder||"empty";return d.createElement("span",{ref:S,className:J},I)}},cr=function(){return e.value!=null&&e.showClear&&!e.disabled?d.createElement("i",{className:"p-dropdown-clear-icon pi pi-times",onClick:Ht}):null},st=function(){var M=Ge("p-dropdown-trigger-icon p-clickable",e.dropdownIcon),Ce=e.placeholder||e.ariaLabel;return d.createElement("div",{className:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":h,"aria-label":Ce},d.createElement("span",{className:M}))},se=we(),Q=In(),j=W.isNotEmpty(e.tooltip),Ie=W.findDiffKeys(e,as.defaultProps),G=W.reduceKeys(Ie,N.ARIA_PROPS),x=Ge("p-dropdown p-component p-inputwrapper",{"p-disabled":e.disabled,"p-focus":l,"p-dropdown-clearable":e.showClear&&!e.disabled,"p-inputwrapper-filled":W.isNotEmpty(e.value),"p-inputwrapper-focus":l||h},e.className),re=qt(),ve=en(),Ae=Yt(),Je=st(),nt=cr();return d.createElement(d.Fragment,null,d.createElement("div",Na({ref:_,id:e.id,className:x,style:e.style},Ie,{onClick:Se,onMouseDown:e.onMouseDown,onContextMenu:e.onContextMenu}),ve,re,Ae,nt,Je,d.createElement(xx,Na({ref:E,visibleOptions:se},e,{appendTo:L,onClick:Ze,onOptionClick:Ut,filterValue:i,hasFilter:P,onFilterClearIconClick:It,resetFilter:kt,onFilterInputKeyDown:ee,onFilterInputChange:mt,getOptionLabel:ft,getOptionRenderKey:vt,isOptionDisabled:_t,getOptionGroupChildren:Tt,getOptionGroupLabel:Zt,getOptionGroupRenderKey:an,isSelected:Ue,getSelectedOptionIndex:Vt,in:h,onEnter:V,onEntered:_e,onExit:We,onExited:be}))),j&&d.createElement(ws,Na({target:_,content:e.tooltip},e.tooltipOptions)))}));as.displayName="Dropdown";as.defaultProps={__TYPE:"Dropdown",appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,className:null,dataKey:null,disabled:!1,dropdownIcon:"pi pi-chevron-down",editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,itemTemplate:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null};function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(this,arguments)}function qK(e){if(Array.isArray(e))return e}function YK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function KI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QK(e,t){if(e){if(typeof e=="string")return KI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(e,t)}}function XK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(e,t){return qK(e)||YK(e,t)||QK(e,t)||XK()}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function ZK(e,t){if(nc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e9(e){var t=ZK(e,"string");return nc(t)==="symbol"?t:String(t)}function t9(e,t,n){return t=e9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){t9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var h0=d.memo(function(e){var t={currentPage:e.page+1,totalPages:e.pageCount,first:Math.min(e.first+1,e.totalRecords),last:Math.min(e.first+e.rows,e.totalRecords),rows:e.rows,totalRecords:e.totalRecords},n=e.reportTemplate.replace("{currentPage}",t.currentPage).replace("{totalPages}",t.totalPages).replace("{first}",t.first).replace("{last}",t.last).replace("{rows}",t.rows).replace("{totalRecords}",t.totalRecords),r=d.createElement("span",{className:"p-paginator-current"},n);if(e.template){var i=qI(qI({},t),{className:"p-paginator-current",element:r,props:e});return W.getJSXElement(e.template,i)}return r});h0.displayName="CurrentPageReport";h0.defaultProps={__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null};var m0=d.memo(function(e){var t=Ge("p-paginator-first p-paginator-element p-link",{"p-disabled":e.disabled}),n="p-paginator-icon pi pi-angle-double-left",r=d.createElement("button",{type:"button",className:t,onClick:e.onClick,disabled:e.disabled,"aria-label":to("firstPageLabel")},d.createElement("span",{className:n}),d.createElement($t,null));if(e.template){var i={onClick:e.onClick,className:t,iconClassName:n,disabled:e.disabled,element:r,props:e};return W.getJSXElement(e.template,i)}return r});m0.displayName="FirstPageLink";m0.defaultProps={__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null};var g0=d.memo(function(e){var t=function(a){e.onChange&&e.onChange(e.rows*(a.value-1),e.rows)},n=e.pageCount>0?e.page+1:0,r=d.createElement(rp,{value:n,onChange:t,className:"p-paginator-page-input",disabled:e.disabled});if(e.template){var i={value:n,onChange:t,disabled:e.disabled,className:"p-paginator-page-input",element:r,props:e};return W.getJSXElement(e.template,i)}return r});g0.displayName="JumpToPageInput";g0.defaultProps={__TYPE:"JumbToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null};var v0=d.memo(function(e){var t=Ge("p-paginator-last p-paginator-element p-link",{"p-disabled":e.disabled}),n="p-paginator-icon pi pi-angle-double-right",r=d.createElement("button",{type:"button",className:t,onClick:e.onClick,disabled:e.disabled,"aria-label":to("lastPageLabel")},d.createElement("span",{className:n}),d.createElement($t,null));if(e.template){var i={onClick:e.onClick,className:t,iconClassName:n,disabled:e.disabled,element:r,props:e};return W.getJSXElement(e.template,i)}return r});v0.displayName="LastPageLink";v0.defaultProps={__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null};var p0=d.memo(function(e){var t=Ge("p-paginator-next p-paginator-element p-link",{"p-disabled":e.disabled}),n="p-paginator-icon pi pi-angle-right",r=d.createElement("button",{type:"button",className:t,onClick:e.onClick,disabled:e.disabled,"aria-label":to("nextPageLabel")},d.createElement("span",{className:n}),d.createElement($t,null));if(e.template){var i={onClick:e.onClick,className:t,iconClassName:n,disabled:e.disabled,element:r,props:e};return W.getJSXElement(e.template,i)}return r});p0.displayName="NextPageLink";p0.defaultProps={__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null};var y0=d.memo(function(e){var t=function(a,s){e.onClick&&e.onClick({originalEvent:a,value:s}),a.preventDefault()},n;if(e.value){var r=e.value[0],i=e.value[e.value.length-1];n=e.value.map(function(o){var a=Ge("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":o===r,"p-paginator-page-end":o===i,"p-highlight":o-1===e.page}),s=d.createElement("button",{type:"button",className:a,onClick:function(c){return t(c,o)},"aria-label":"".concat(to("pageLabel")," ").concat(o+1)},o,d.createElement($t,null));if(e.template){var l={onClick:function(c){return t(c,o)},className:a,view:{startPage:r-1,endPage:i-1},page:o-1,currentPage:e.page,totalPages:e.pageCount,element:s,props:e};s=W.getJSXElement(e.template,l)}return d.createElement(d.Fragment,{key:o},s)})}return d.createElement("span",{className:"p-paginator-pages"},n)});y0.displayName="PageLinks";y0.defaultProps={__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null};var w0=d.memo(function(e){var t=Ge("p-paginator-prev p-paginator-element p-link",{"p-disabled":e.disabled}),n="p-paginator-icon pi pi-angle-left",r=d.createElement("button",{type:"button",className:t,onClick:e.onClick,disabled:e.disabled,"aria-label":to("previousPageLabel")},d.createElement("span",{className:n}),d.createElement($t,null));if(e.template){var i={onClick:e.onClick,className:t,iconClassName:n,disabled:e.disabled,element:r,props:e};return W.getJSXElement(e.template,i)}return r});w0.displayName="PrevPageLink";w0.defaultProps={__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null};var E0=d.memo(function(e){var t=e.options&&e.options.length>0,n=t?e.options.map(function(a){return{label:String(a),value:a}}):[],r=Kn("choose"),i=t?d.createElement(as,{value:e.value,options:n,onChange:e.onChange,appendTo:e.appendTo,disabled:e.disabled,placeholder:r,"aria-label":r}):null;if(e.template){var o={value:e.value,options:n,onChange:e.onChange,appendTo:e.appendTo,currentPage:e.page,totalPages:e.pageCount,totalRecords:e.totalRecords,disabled:e.disabled,element:i,props:e};return W.getJSXElement(e.template,o)}return i});E0.displayName="RowsPerPageDropdown";E0.defaultProps={__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1};var ip=d.memo(d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useRef(!1),i=Math.floor(e.first/e.rows),o=Math.ceil(e.totalRecords/e.rows),a=i===0,s=i===o-1,l=o===0,u=function(){var we=o,he=Math.min(e.pageLinkSize,we),Se=Math.max(0,Math.ceil(i-he/2)),qe=Math.min(we-1,Se+he-1),Ve=e.pageLinkSize-(qe-Se+1);return Se=Math.max(0,Se-Ve),[Se,qe]},c=function(){for(var we=[],he=u(),Se=he[0],qe=he[1],Ve=Se;Ve<=qe;Ve++)we.push(Ve+1);return we},f=function(we,he){var Se=o,qe=Math.floor(we/he);if(qe>=0&&qe<Se){var Ve={first:we,rows:he,page:qe,pageCount:Se};e.onPageChange&&e.onPageChange(Ve)}},h=function(we){f(0,e.rows),we.preventDefault()},v=function(we){f(e.first-e.rows,e.rows),we.preventDefault()},_=function(we){f((we.value-1)*e.rows,e.rows)},E=function(we){f(e.first+e.rows,e.rows),we.preventDefault()},S=function(we){f((o-1)*e.rows,e.rows),we.preventDefault()},w=function(we){var he=we.value;r.current=he!==e.rows,f(0,he)};d.useImperativeHandle(t,function(){return{props:e,getElement:function(){return n.current}}}),Mt(function(){r.current||f(e.first,e.rows),r.current=!1},[e.rows]),Mt(function(){i>0&&e.first>=e.totalRecords&&f((o-1)*e.rows,e.rows)},[e.totalRecords]);var p=function(we,he){var Se;switch(we){case"FirstPageLink":Se=d.createElement(m0,{key:we,onClick:h,disabled:a||l,template:he});break;case"PrevPageLink":Se=d.createElement(w0,{key:we,onClick:v,disabled:a||l,template:he});break;case"NextPageLink":Se=d.createElement(p0,{key:we,onClick:E,disabled:s||l,template:he});break;case"LastPageLink":Se=d.createElement(v0,{key:we,onClick:S,disabled:s||l,template:he});break;case"PageLinks":Se=d.createElement(y0,{key:we,value:c(),page:i,rows:e.rows,pageCount:o,onClick:_,template:he});break;case"RowsPerPageDropdown":Se=d.createElement(E0,{key:we,value:e.rows,page:i,pageCount:o,totalRecords:e.totalRecords,options:e.rowsPerPageOptions,onChange:w,appendTo:e.dropdownAppendTo,template:he,disabled:l});break;case"CurrentPageReport":Se=d.createElement(h0,{reportTemplate:e.currentPageReportTemplate,key:we,page:i,pageCount:o,first:e.first,rows:e.rows,totalRecords:e.totalRecords,template:he});break;case"JumpToPageInput":Se=d.createElement(g0,{key:we,rows:e.rows,page:i,pageCount:o,onChange:f,disabled:l,template:he});break;default:Se=null;break}return Se},y=function(){var we=e.template;return we?nc(we)==="object"?we.layout?we.layout.split(" ").map(function(he){var Se=he.trim();return p(Se,we[Se])}):Object.entries(we).map(function(he){var Se=JK(he,2),qe=Se[0],Ve=Se[1];return p(qe,Ve)}):we.split(" ").map(function(he){return p(he.trim())}):null};if(!e.alwaysShow&&o===1)return null;var C=W.findDiffKeys(e,ip.defaultProps),A=Ge("p-paginator p-component",e.className),P=W.getJSXElement(e.leftContent,e),L=W.getJSXElement(e.rightContent,e),K=y(),ae=P&&d.createElement("div",{className:"p-paginator-left-content"},P),le=L&&d.createElement("div",{className:"p-paginator-right-content"},L);return d.createElement("div",R_({ref:n,className:A,style:e.style},C),ae,K,le)}));ip.displayName="Paginator";ip.defaultProps={__TYPE:"Paginator",totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})"};function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function n9(e,t){if(Af(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Af(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e){var t=n9(e,"string");return Af(t)==="symbol"?t:String(t)}function YI(e,t,n){return t=r9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=d.memo(d.forwardRef(function(e,t){var n=d.useRef(t);if(d.useEffect(function(){W.combinedRefs(n,t)},[n,t]),e.visible===!1)return null;var r=function(){var S=e.loading?e.loadingIcon:e.icon,w=Ge("p-button-icon p-c",YI({"p-button-loading-icon":e.loading},"p-button-icon-".concat(e.iconPos),e.label));return RW.getJSXIcon(S,{className:w},{props:e})},i=function(){return e.label?d.createElement("span",{className:"p-button-label p-c"},e.label):!e.children&&!e.label&&d.createElement("span",{className:"p-button-label p-c",dangerouslySetInnerHTML:{__html:"&nbsp;"}})},o=function(){if(e.badge){var S=Ge("p-badge",e.badgeClassName);return d.createElement("span",{className:S},e.badge)}return null},a=e.disabled||e.loading,s=!a||e.tooltipOptions&&e.tooltipOptions.showOnDisabled,l=W.isNotEmpty(e.tooltip)&&s,u=W.findDiffKeys(e,xn.defaultProps),c=Ge("p-button p-component",e.className,YI({"p-button-icon-only":(e.icon||e.loading&&e.loadingIcon)&&!e.label&&!e.children,"p-button-vertical":(e.iconPos==="top"||e.iconPos==="bottom")&&e.label,"p-disabled":a,"p-button-loading":e.loading,"p-button-loading-label-only":e.loading&&!e.icon&&e.label},"p-button-loading-".concat(e.iconPos),e.loading&&e.loadingIcon&&e.label)),f=r(),h=i(),v=o(),_=e.label?e.label+(e.badge?" "+e.badge:""):e["aria-label"];return d.createElement(d.Fragment,null,d.createElement("button",qg({ref:n,"aria-label":_},u,{className:c,disabled:a}),f,h,e.children,v,d.createElement($t,null)),l&&d.createElement(ws,qg({target:n,content:e.tooltip},e.tooltipOptions)))}));xn.displayName="Button";xn.defaultProps={__TYPE:"Button",label:null,icon:null,iconPos:"left",badge:null,badgeClassName:null,tooltip:null,tooltipOptions:null,disabled:!1,loading:!1,loadingIcon:"pi pi-spinner pi-spin",visible:!0};function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function i9(e,t){if(Of(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o9(e){var t=i9(e,"string");return Of(t)==="symbol"?t:String(t)}function ri(e,t,n){return t=o9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a9(e){if(Array.isArray(e))return k_(e)}function s9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mx(e,t){if(e){if(typeof e=="string")return k_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(e,t)}}function l9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e){return a9(e)||s9(e)||Mx(e)||l9()}function u9(e){if(Array.isArray(e))return e}function c9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function d9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(e,t){return u9(e)||c9(e,t)||Mx(e,t)||d9()}function f9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function h9(e,t){if(e==null)return{};var n=f9(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Px=d.memo(function(e){var t=d.useState(!1),n=Xt(t,2),r=n[0],i=n[1],o=function(){i(!0)},a=function(){i(!1)},s=function(_){e.disabled||(i(!0),e.onChange(_))},l=function(_){_.code==="Space"&&(s(_),_.preventDefault())},u=Ge("p-checkbox p-component",{"p-checkbox-focused":r}),c=Ge("p-checkbox-box p-component",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":r}),f=Ge("p-checkbox-icon",{"pi pi-check":e.checked}),h=e.disabled?null:"0";return d.createElement("div",{className:u,onClick:s},d.createElement("div",{className:c,role:"checkbox","aria-checked":e.checked,tabIndex:h,onKeyDown:l,onFocus:o,onBlur:a,"aria-label":e.ariaLabel},d.createElement("span",{className:f})))});Px.displayName="RowCheckbox";var Lx=d.memo(function(e){var t=d.useState(!1),n=Xt(t,2),r=n[0],i=n[1],o=d.useRef(null),a=function(){i(!0)},s=function(){i(!1)},l=function(E){e.disabled||(e.onChange(E),N.focus(o.current))},u=function(E){E.code==="Space"&&(l(E),E.preventDefault())},c=function(E){l(E)},f=Ge("p-radiobutton p-component",{"p-radiobutton-focused":r}),h=Ge("p-radiobutton-box p-component",{"p-highlight":e.checked,"p-focus":r,"p-disabled":e.disabled}),v="".concat(e.tableSelector,"_dt_radio");return d.createElement("div",{className:f},d.createElement("div",{className:"p-hidden-accessible"},d.createElement("input",{name:v,ref:o,type:"radio",checked:e.checked,onFocus:a,onBlur:s,onChange:c,onKeyDown:u,"aria-label":e.ariaLabel})),d.createElement("div",{className:h,onClick:l,role:"radio","aria-checked":e.checked},d.createElement("div",{className:"p-radiobutton-icon"})))});Lx.displayName="RowRadioButton";function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $x=d.memo(function(e){var t=d.useState(e.editing),n=Xt(t,2),r=n[0],i=n[1],o=d.useState(e.rowData),a=Xt(o,2),s=a[0],l=a[1],u=d.useState({}),c=Xt(u,2),f=c[0],h=c[1],v=d.useRef(null),_=d.useRef(null),E=d.useRef(null),S=d.useRef(!1),w=d.useRef(null),p=d.useRef(null),y=function(F){return e.column?e.column.props[F]:null},C=y("field")||"field_".concat(e.index),A=e.dataKey&&e.rowData[e.dataKey]||e.rowIndex,P=Zi({type:"click",listener:function(F){!S.current&&Se(F.target)&&ie(F,!0),S.current=!1},options:!0}),L=Xt(P,2),K=L[0],ae=L[1];e.editMode==="row"&&e.editing!==r&&i(e.editing);var le=function(){return y("editor")},ue=function(){return e.selection?e.selection instanceof Array?de(e.selection)>-1:he(e.selection):!1},we=function(F){return e.compareSelectionBy==="equals"?F===e.rowData:W.equals(F,e.rowData,e.dataKey)},he=function(F){return(F.rowIndex===e.rowIndex||we(F.rowData))&&(F.field===C||F.cellIndex===e.index)},Se=function(F){return v.current&&!(v.current.isSameNode(F)||v.current.contains(F))},qe=function(F){return e.virtualScrollerOptions?e.virtualScrollerOptions[F]:null},Ve=function(){var F=y("bodyStyle"),Oe=y("style");return y("frozen")?Object.assign({},Oe,F,f):Object.assign({},Oe,F)},Ze=function(){return{value:ee(),field:C,rowData:e.rowData,rowIndex:e.rowIndex,cellIndex:e.index,selected:ue(),column:e.column,props:e}},ce=function(F){var Oe=Ze();return Rs({originalEvent:F},Oe)},ee=function(F){return W.resolveFieldData(F||e.rowData,C)},U=function(){return e.editingMeta&&e.editingMeta[A]?e.editingMeta[A].data:e.rowData},Ee=function(F){return e.allowCellSelection?F?0:e.rowIndex===0&&e.index===0?e.tabIndex:-1:null},de=function(F){return(F||[]).findIndex(function(Oe){return he(Oe)})},te=function(F){var Oe=ce(F),Ye=y("onBeforeCellEditHide");Ye&&Ye(Oe),setTimeout(function(){i(!1),ae(),no.off("overlay-click",E.current),E.current=null,S.current=!1},1)},ie=function(F,Oe){var Ye=ce(F),ft=s,ut=ee(ft),vt=Rs(Rs({},Ye),{},{newRowData:ft,newValue:ut}),_t=y("onCellEditCancel"),an=y("cellEditValidator"),Zt=y("onCellEditComplete");!Oe&&_t&&_t(vt);var Tt=!0;an&&(Tt=an(vt)),Tt?(Oe&&Zt&&Zt(vt),te(F)):F.preventDefault()},q=function be(F){var Oe=F.nextElementSibling;return Oe?N.hasClass(Oe,"p-selectable-cell")?Oe:be(Oe):null},O=function be(F){var Oe=F.previousElementSibling;return Oe?N.hasClass(Oe,"p-selectable-cell")?Oe:be(Oe):null},ne=function be(F){var Oe=F.parentElement.nextElementSibling,Ye=Oe?Oe.children[e.index]:null;return Oe&&Ye?N.hasClass(Oe,"p-selectable-row")&&N.hasClass(Ye,"p-selectable-cell")?Ye:be(Ye):null},Fe=function be(F){var Oe=F.parentElement.previousElementSibling,Ye=Oe?Oe.children[e.index]:null;return Oe&&Ye?N.hasClass(Oe,"p-selectable-row")&&N.hasClass(Ye,"p-selectable-cell")?Ye:be(Ye):null},et=function(F,Oe){F&&Oe&&(F.tabIndex=-1,Oe.tabIndex=e.tabIndex)},dt=function(){clearTimeout(w.current),w.current=setTimeout(function(){if(r){var F=e.editMode==="cell"?N.getFirstFocusableElement(v.current,":not(.p-cell-editor-key-helper)"):N.findSingle(v.current,".p-row-editor-save");F&&F.focus()}_.current&&(_.current.tabIndex=r?-1:0)},1)},Et=function(){clearTimeout(p.current),p.current=setTimeout(function(){var F=e.editMode==="row"?N.findSingle(v.current,".p-row-editor-init"):null;F&&F.focus()},1)},Ot=function(){if(y("frozen")){var F=Rs({},f),Oe=y("alignFrozen");if(Oe==="right"){var Ye=0,ft=v.current.nextElementSibling;ft&&(Ye=N.getOuterWidth(ft)+parseFloat(ft.style.right||0)),F.right=Ye+"px"}else{var ut=0,vt=v.current.previousElementSibling;vt&&(ut=N.getOuterWidth(vt)+parseFloat(vt.style.left||0)),F.left=ut+"px"}var _t=f.left===F.left&&f.right===F.right;!_t&&h(F)}},Ut=function(F){var Oe=Rs({},s);Oe[C]=F,l(Oe),e.editingMeta[A].data[C]=F},mt=function(F){var Oe=ce(F);if(e.editMode!=="row"&&le()&&!r&&(e.selectOnEdit||!e.selectOnEdit&&e.selected)){S.current=!0;var Ye=y("onBeforeCellEditShow"),ft=y("onCellEditInit"),ut=y("cellEditValidatorEvent");Ye&&Ye(Oe),setTimeout(function(){i(!0),ft&&ft(Oe),ut==="click"&&(K(),E.current=function(vt){Se(vt.target)||(S.current=!0)},no.on("overlay-click",E.current))},1)}e.allowCellSelection&&e.onClick&&e.onClick(Oe)},It=function(F){var Oe=ce(F);e.onMouseDown&&e.onMouseDown(Oe)},kt=function(F){var Oe=ce(F);e.onMouseUp&&e.onMouseUp(Oe)},Ht=function(F){if(e.editMode!=="row"&&((F.which===13||F.which===9)&&ie(F,!0),F.which===27&&ie(F,!1)),e.allowCellSelection){var Oe=F.target,Ye=F.currentTarget;switch(F.which){case 37:var ft=O(Ye);ft&&(et(Ye,ft),ft.focus()),F.preventDefault();break;case 39:var ut=q(Ye);ut&&(et(Ye,ut),ut.focus()),F.preventDefault();break;case 38:var vt=Fe(Ye);vt&&(et(Ye,vt),vt.focus()),F.preventDefault();break;case 40:var _t=ne(Ye);_t&&(et(Ye,_t),_t.focus()),F.preventDefault();break;case 13:N.isClickable(Oe)||(mt(F),F.preventDefault());break;case 32:!N.isClickable(Oe)&&!Oe.readOnly&&(mt(F),F.preventDefault());break}}},Pt=function(F){S.current=!1,e.editMode!=="row"&&r&&y("cellEditValidatorEvent")==="blur"&&ie(F,!0)},Vt=function(F){mt(F)},$=function(F){e.onRadioChange({originalEvent:F,data:e.rowData,index:e.rowIndex})},De=function(F){e.onCheckboxChange({originalEvent:F,data:e.rowData,index:e.rowIndex})},Ue=function(F){e.onRowToggle({originalEvent:F,data:e.rowData}),F.preventDefault()},ze=function(F){e.onRowEditInit({originalEvent:F,data:e.rowData,newData:U(),field:C,index:e.rowIndex})},me=function(F){e.onRowEditSave({originalEvent:F,data:e.rowData,newData:U(),field:C,index:e.rowIndex}),Et()},V=function(F){e.onRowEditCancel({originalEvent:F,data:e.rowData,newData:U(),field:C,index:e.rowIndex}),Et()};d.useEffect(function(){y("frozen")&&Ot(),(e.editMode==="cell"||e.editMode==="row")&&dt()}),Mt(function(){(e.editMode==="cell"||e.editMode==="row")&&l(U())},[e.editingMeta]),d.useEffect(function(){if(e.editMode==="cell"||e.editMode==="row"){var be=ce(),F=Rs(Rs({},be),{},{editing:r,editingKey:A});e.onEditingMetaChange(F)}},[r]),qr(function(){E.current&&(no.off("overlay-click",E.current),E.current=null)});var _e=function(){var F=qe("getLoaderOptions")(e.rowIndex,{cellIndex:e.index,cellFirst:e.index===0,cellLast:e.index===qe("columns").length-1,cellEven:e.index%2===0,cellOdd:e.index%2!==0,column:e.column,field:C}),Oe=W.getJSXElement(qe("loadingTemplate"),F);return d.createElement("td",null,Oe)},We=function(){var F,Oe,Ye=e.allowCellSelection&&ue(),ft=e.editMode==="row",ut=Ee(Ye),vt=y("selectionMode"),_t=y("rowReorder"),an=y("rowEditor"),Zt=y("header"),Tt=y("body"),Wt=y("editor"),In=y("frozen"),qt=y("align"),en=ee(),Yt={column:e.column,field:C,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps},cr=W.getPropValue(y("expander"),e.rowData,Yt),st=W.getPropValue(e.cellClassName,en,Yt),se=W.getPropValue(y("bodyClassName"),e.rowData,Yt),Q=Ge(se,y("className"),st,ri({"p-selection-column":vt!==null,"p-editable-column":Wt,"p-cell-editing":Wt&&r,"p-frozen-column":In,"p-selectable-cell":e.allowCellSelection&&e.isSelectable({data:Ze(),index:e.rowIndex}),"p-highlight":Ye},"p-align-".concat(qt),!!qt)),j=Ve(),Ie=e.responsiveLayout==="stack"&&d.createElement("span",{className:"p-column-title"},W.getJSXElement(Zt,{props:e.tableProps}));if(vt){var G=e.showSelectionElement?e.showSelectionElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,x;if(G){var re=e.selectionAriaLabel||e.tableProps.dataKey,ve=W.resolveFieldData(e.rowData,re);x="".concat(e.selected?to("unselectLabel"):to("selectLabel")," ").concat(ve)}F=G&&d.createElement(d.Fragment,null,vt==="single"&&d.createElement(Lx,{checked:e.selected,onChange:$,tabIndex:e.tabIndex,tableSelector:e.tableSelector,ariaLabel:x}),vt==="multiple"&&d.createElement(Px,{checked:e.selected,onChange:De,tabIndex:e.tabIndex,ariaLabel:x}))}else if(_t){var Ae=e.showRowReorderElement?e.showRowReorderElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0;F=Ae&&d.createElement("i",{className:Ge("p-datatable-reorderablerow-handle",y("rowReorderIcon"))})}else if(cr){var Je=Ge("p-row-toggler-icon",e.expanded?e.expandedRowIcon:e.collapsedRowIcon),nt="".concat(e.tableSelector,"_content_").concat(e.rowIndex,"_expanded"),ge=e.selectionAriaLabel||e.tableProps.dataKey,M=W.resolveFieldData(e.rowData,ge),Ce="".concat(e.expanded?to("collapseLabel"):to("expandLabel")," ").concat(M),J={onClick:Ue,className:"p-row-toggler p-link",iconClassName:Je};F=d.createElement("button",{className:J.className,onClick:J.onClick,type:"button","aria-expanded":e.expanded,"aria-controls":nt,tabIndex:e.tabIndex,"aria-label":Ce},d.createElement("span",{className:J.iconClassName,"aria-hidden":"true"}),d.createElement($t,null)),Tt&&(J.element=F,F=W.getJSXElement(Tt,e.rowData,{column:e.column,field:C,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,expander:J}))}else if(ft&&an){var I={};r?(I={editing:!0,onSaveClick:me,saveClassName:"p-row-editor-save p-link",saveIconClassName:"p-row-editor-save-icon pi pi-fw pi-check",onCancelClick:V,cancelClassName:"p-row-editor-cancel p-link",cancelIconClassName:"p-row-editor-cancel-icon pi pi-fw pi-times"},F=d.createElement(d.Fragment,null,d.createElement("button",{type:"button",name:"row-save",onClick:I.onSaveClick,className:I.saveClassName,tabIndex:e.tabIndex},d.createElement("span",{className:I.saveIconClassName}),d.createElement($t,null)),d.createElement("button",{type:"button",name:"row-cancel",onClick:I.onCancelClick,className:I.cancelClassName,tabIndex:e.tabIndex},d.createElement("span",{className:I.cancelIconClassName}),d.createElement($t,null)))):(I={editing:!1,onInitClick:ze,initClassName:"p-row-editor-init p-link",initIconClassName:"p-row-editor-init-icon pi pi-fw pi-pencil"},F=d.createElement("button",{type:"button",name:"row-edit",onClick:I.onInitClick,className:I.initClassName,tabIndex:e.tabIndex},d.createElement("span",{className:I.initIconClassName}),d.createElement($t,null))),Tt&&(I.element=F,F=W.getJSXElement(Tt,e.rowData,{column:e.column,field:C,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,rowEditor:I}))}else Tt&&(!r||!Wt)?F=Tt?W.getJSXElement(Tt,e.rowData,{column:e.column,field:C,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps}):en:Wt&&r?F=W.getJSXElement(Wt,{rowData:s,value:ee(s),column:e.column,field:C,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,editorCallback:Ut}):F=en;return F=typeof F=="boolean"?F.toString():F,!ft&&Wt&&(Oe=d.createElement("a",{tabIndex:"0",ref:_,className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:Vt},d.createElement("span",null))),d.createElement("td",{ref:v,style:j,className:Q,rowSpan:e.rowSpan,tabIndex:ut,role:"cell",onClick:mt,onKeyDown:Ht,onBlur:Pt,onMouseDown:It,onMouseUp:kt},Oe,Ie,F)};return qe("loading")?_e():We()});$x.displayName="BodyCell";function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fx=d.memo(function(e){var t=d.useState(!1),n=Xt(t,2),r=n[0],i=n[1],o=e.onRowEditChange?e.editing:r,a=function(){return e.selectionMode&&e.selectionModeInColumn!=="single"&&e.selectionModeInColumn!=="multiple"},s=function(O){return e.groupRowsBy&&u(O,"field")?Array.isArray(e.groupRowsBy)?e.groupRowsBy.indexOf(O.props.field)>-1:e.groupRowsBy===O.props.field:!1},l=function(O,ne){return e.compareSelectionBy==="equals"?O===ne:W.equals(O,ne,e.dataKey)},u=function(O,ne){return O?O.props[ne]:null},c=function(){return a()&&!e.allowCellSelection?e.index===0?e.tabIndex:-1:null},f=function(O,ne){return(O||[]).findIndex(function(Fe){return l(ne,Fe)})},h=function(O,ne){O&&ne&&(O.tabIndex=-1,ne.tabIndex=e.tabIndex)},v=function q(O){var ne=O.nextElementSibling;return ne?N.hasClass(ne,"p-selectable-row")?ne:q(ne):null},_=function q(O){var ne=O.previousElementSibling;return ne?N.hasClass(ne,"p-selectable-row")?ne:q(ne):null},E=function(O,ne,Fe){if(u(ne,"hidden"))return!1;if(e.rowGroupMode&&e.rowGroupMode==="rowspan"&&s(ne)){var et=O[Fe-1];if(et){var dt=W.resolveFieldData(O[Fe],u(ne,"field")),Et=W.resolveFieldData(et,u(ne,"field"));return dt!==Et}}return!0},S=function(O,ne,Fe){if(s(ne)){for(var et=W.resolveFieldData(O[Fe],u(ne,"field")),dt=et,Et=0;et===dt;){Et++;var Ot=O[++Fe];if(Ot)dt=W.resolveFieldData(Ot,u(ne,"field"));else break}return Et===1?null:Et}else return null},w=function(O){e.onRowClick({originalEvent:O,data:e.rowData,index:e.index})},p=function(O){e.onRowDoubleClick({originalEvent:O,data:e.rowData,index:e.index})},y=function(O){e.onRowRightClick({originalEvent:O,data:e.rowData,index:e.index})},C=function(O){e.onRowMouseEnter({originalEvent:O,data:e.rowData,index:e.index})},A=function(O){e.onRowMouseLeave({originalEvent:O,data:e.rowData,index:e.index})},P=function(O){e.onRowTouchEnd(O)},L=function(O){if(a()&&!e.allowCellSelection){var ne=O.target,Fe=O.currentTarget;switch(O.which){case 40:var et=v(Fe);et&&(h(Fe,et),et.focus()),O.preventDefault();break;case 38:var dt=_(Fe);dt&&(h(Fe,dt),dt.focus()),O.preventDefault();break;case 13:N.isClickable(ne)||(w(O),O.preventDefault());break;case 32:!N.isClickable(ne)&&!ne.readOnly&&(w(O),O.preventDefault());break}}},K=function(O){e.onRowMouseDown({originalEvent:O,data:e.rowData,index:e.index})},ae=function(O){e.onRowMouseUp({originalEvent:O,data:e.rowData,index:e.index})},le=function(O){e.onRowDragStart({originalEvent:O,data:e.rowData,index:e.index})},ue=function(O){e.onRowDragOver({originalEvent:O,data:e.rowData,index:e.index})},we=function(O){e.onRowDragLeave({originalEvent:O,data:e.rowData,index:e.index})},he=function(O){e.onRowDragEnd({originalEvent:O,data:e.rowData,index:e.index})},Se=function(O){e.onRowDrop({originalEvent:O,data:e.rowData,index:e.index})},qe=function(O,ne){if(e.onRowEditChange){var Fe,et=e.dataKey,dt=O.originalEvent,Et=O.data,Ot=O.index,Ut=O.newData;if(et){var mt=String(W.resolveFieldData(Et,et));if(Fe=e.editingRows?m9({},e.editingRows):{},ne)Fe[mt]=!0;else{delete Fe[mt];var It=String(W.resolveFieldData(Ut,et));delete Fe[It]}}else{var kt=f(e.editingRows,Et);Fe=e.editingRows?jn(e.editingRows):[],kt!==-1?Fe=Fe.filter(function(Ht,Pt){return Pt!==kt}):Fe.push(Et)}e.onRowEditChange({originalEvent:dt,data:Fe,index:Ot})}else i(ne)},Ve=function(O){var ne=O.originalEvent;e.onRowEditInit&&e.onRowEditInit({originalEvent:ne,data:e.rowData,index:e.index}),qe(O,!0),ne.preventDefault()},Ze=function(O){var ne=O.originalEvent,Fe=O.newData,et=e.rowEditValidator?e.rowEditValidator(Fe,{props:e.tableProps}):!0;e.onRowEditSave&&e.onRowEditSave({originalEvent:ne,data:e.rowData,index:e.index,valid:et}),et&&(e.onRowEditComplete&&e.onRowEditComplete(O),qe(O,!1)),ne.preventDefault()},ce=function(O){var ne=O.originalEvent;e.onRowEditCancel&&e.onRowEditCancel({originalEvent:ne,data:e.rowData,index:e.index}),qe(O,!1),ne.preventDefault()},ee=function(){return e.columns.map(function(O,ne){if(E(e.value,O,e.index)){var Fe="".concat(u(O,"columnKey")||u(O,"field"),"_").concat(ne),et=e.rowGroupMode==="rowspan"?S(e.value,O,e.index):null;return d.createElement($x,{key:Fe,value:e.value,tableProps:e.tableProps,tableSelector:e.tableSelector,column:O,rowData:e.rowData,rowIndex:e.index,index:ne,rowSpan:et,dataKey:e.dataKey,editing:o,editingMeta:e.editingMeta,editMode:e.editMode,onRowEditInit:Ve,onRowEditSave:Ze,onRowEditCancel:ce,onEditingMetaChange:e.onEditingMetaChange,onRowToggle:e.onRowToggle,selection:e.selection,selectionAriaLabel:e.tableProps.selectionAriaLabel,allowCellSelection:e.allowCellSelection,compareSelectionBy:e.compareSelectionBy,selectOnEdit:e.selectOnEdit,selected:e.selected,onClick:e.onCellClick,onMouseDown:e.onCellMouseDown,onMouseUp:e.onCellMouseUp,tabIndex:e.tabIndex,cellClassName:e.cellClassName,responsiveLayout:e.responsiveLayout,frozenRow:e.frozenRow,isSelectable:e.isSelectable,showSelectionElement:e.showSelectionElement,showRowReorderElement:e.showRowReorderElement,onRadioChange:e.onRadioChange,onCheckboxChange:e.onCheckboxChange,expanded:e.expanded,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,virtualScrollerOptions:e.virtualScrollerOptions})}return null})},U=W.getPropValue(e.rowClassName,e.rowData,{props:e.tableProps}),Ee=Ge(U,{"p-highlight":!e.allowCellSelection&&e.selected||e.contextMenuSelected,"p-highlight-contextmenu":e.contextMenuSelected,"p-selectable-row":e.allowRowSelection&&e.isSelectable({data:e.rowData,index:e.index}),"p-row-odd":e.index%2!==0}),de={height:e.virtualScrollerOptions?e.virtualScrollerOptions.itemSize:void 0},te=ee(),ie=c();return d.createElement("tr",{role:"row",tabIndex:ie,className:Ee,style:de,onMouseDown:K,onMouseUp:ae,onMouseEnter:C,onMouseLeave:A,onClick:w,onDoubleClick:p,onContextMenu:y,onTouchEnd:P,onKeyDown:L,onDragStart:le,onDragOver:ue,onDragLeave:we,onDragEnd:he,onDrop:Se},te)});Fx.displayName="BodyRow";var jx=d.memo(function(e){var t=function(o){e.onClick({originalEvent:o,data:e.rowData})},n=Ge("p-row-toggler-icon",e.expanded?e.expandedRowIcon:e.collapsedRowIcon),r=e.expanded?to("collapseLabel"):to("expandLabel");return d.createElement("button",{type:"button",onClick:t,className:"p-row-toggler p-link",tabIndex:e.tabIndex,"aria-label":r},d.createElement("span",{className:n,"aria-hidden":"true"}),d.createElement($t,null))});jx.displayName="RowTogglerButton";var g9=["originalEvent"];function JI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var D_=d.memo(d.forwardRef(function(e,t){var n=d.useState({}),r=Xt(n,2),i=r[0],o=r[1],a=d.useRef(null),s=d.useCallback(function(J){a.current=J,e.virtualScrollerContentRef&&e.virtualScrollerContentRef(J)},[e]),l=d.useRef(null),u=d.useRef(null),c=d.useRef(null),f=d.useRef(null),h=d.useRef(null),v=d.useRef(null),_=d.useRef(!1),E=d.useRef(!1),S=d.useRef(null),w=d.useRef(null),p=ll(e.virtualScrollerOptions),y=e.rowGroupMode&&e.rowGroupMode==="subheader",C=e.selectionMode==="radiobutton",A=e.selectionMode==="checkbox",P=e.selectionModeInColumn==="single",L=e.selectionModeInColumn==="multiple",K=function(I,X){return ne()?(I.rowIndex===X.rowIndex||I.rowData===X.rowData)&&(I.field===X.field||I.cellIndex===X.cellIndex):e.compareSelectionBy==="equals"?I===X:W.equals(I,X,e.dataKey)},ae=function(){return e.selectionMode||e.selectionModeInColumn!==null||e.columns&&e.columns.some(function(I){return I&&!!I.props.selectionMode})},le=function(){return e.selectionMode==="single"&&!L||!C&&P},ue=function(){return e.selectionMode==="multiple"&&!P||L},we=function(){return C&&P},he=function(){return A&&L},Se=function(I){return I&&e.selection?e.selection instanceof Array?dt(e.selection,I)>-1:K(I,e.selection):!1},qe=function(I){return I&&e.contextMenuSelection?K(I,e.contextMenuSelection):!1},Ve=function(I){return e.isDataSelectable?e.isDataSelectable(I):!0},Ze=function(I){return I&&e.expandedRows?y&&e.expandableRowGroups?ce(I):e.dataKey?e.expandedRows?e.expandedRows[W.resolveFieldData(I,e.dataKey)]!==void 0:!1:dt(e.expandedRows,I)!==-1:!1},ce=function(I){return e.dataKey===e.groupRowsBy?Object.keys(e.expandedRows).some(function(X){return W.equals(X,W.resolveFieldData(I,e.dataKey))}):e.expandedRows.some(function(X){return W.equals(X,I,e.groupRowsBy)})},ee=function(I){return e.editMode==="row"&&I&&e.editingRows?e.dataKey?e.editingRows?e.editingRows[W.resolveFieldData(I,e.dataKey)]!==void 0:!1:dt(e.editingRows,I)!==-1:!1},U=function(I){return e.dragSelection&&ue()&&!I.originalEvent.shiftKey},Ee=function(I){return!ne()&&U(I)||e.reorderableRows},de=function(I){return ne()&&U(I)},te=function(I){return!N.isClickable(I.originalEvent.target)},ie=function(I){return!_.current&&(!e.metaKeySelection||e.metaKeySelection&&(I.originalEvent.metaKey||I.originalEvent.ctrlKey))},q=function(I){return ue()&&I.originalEvent.shiftKey&&c.current!==null},O=function(){return(e.selectionMode||e.selectionModeInColumn)&&!we()&&!he()},ne=function(){return e.cellSelection&&!P&&!L},Fe=function(){return e.columns?e.columns.length:0},et=function(I,X){return X=X||e.virtualScrollerOptions,X?X[I]:null},dt=function(I,X){return(I||[]).findIndex(function(B){return K(X,B)})},Et=function(){return e.scrollable?{top:i.top}:null},Ot=function(I,X){return e.dataKey?W.resolveFieldData(I,e.dataKey)+"_"+X:X},Ut=function(I,X,B){var R=W.resolveFieldData(X,e.groupRowsBy),k=I[B-1];if(k){var Z=W.resolveFieldData(k,e.groupRowsBy);return R!==Z}else return!0},mt=function(I,X,B,R){if(e.expandableRowGroups&&!R)return!1;var k=W.resolveFieldData(X,e.groupRowsBy),Z=I[B+1];if(Z){var ye=W.resolveFieldData(Z,e.groupRowsBy);return k!==ye}else return!0},It=function(){a.current.style.top=N.getOuterHeight(a.current.previousElementSibling)+"px"},kt=function(){var I=N.getOuterHeight(a.current.previousElementSibling),X=I+"px";i.top!==X&&o({top:X})},Ht=function(){var I=N.getOuterHeight(a.current.previousElementSibling);a.current.style.top=(a.current.style.top||0)+I+"px"},Pt=function(I){var X=I.originalEvent,B=I.data,R=I.index,k=I.toggleable,Z=I.type;if(Ve({data:B,index:R})){var ye=Se(B),fe=e.selection;ye?k&&(fe=null,V({originalEvent:X,data:B,type:Z})):(fe=B,me({originalEvent:X,data:B,type:Z})),We(X,!0),e.onSelectionChange&&fe!==e.selection&&e.onSelectionChange({originalEvent:X,value:fe,type:Z})}},Vt=function(I){var X=I.originalEvent,B=I.data,R=I.index,k=I.toggleable,Z=I.type;if(Ve({data:B,index:R})){var ye=Se(B),fe=e.selection||[];if(ye)if(k){var Xe=dt(fe,B);fe=e.selection.filter(function(rt,un){return un!==Xe}),V({originalEvent:X,data:B,type:Z})}else fe.length&&(e.selection.forEach(function(rt){return V({originalEvent:X,data:rt,type:Z})}),fe=[B],me({originalEvent:X,data:B,type:Z}));else fe=k&&ue()?[].concat(jn(fe),[B]):[B],me({originalEvent:X,data:B,type:Z});We(X,!0),e.onSelectionChange&&fe!==e.selection&&e.onSelectionChange({originalEvent:X,value:fe,type:Z})}},$=function(I,X){N.clearSelection(),h.current=ne()?I.rowIndex:I.index;var B=De(I);e.onSelectionChange&&B!==e.selection&&e.onSelectionChange({originalEvent:I.originalEvent,value:B,type:X}),c.current=h.current,f.current=I.cellIndex,We(I.originalEvent,!1)},De=function(I){var X,B;return h.current>c.current?(X=c.current,B=h.current):h.current<c.current?(X=h.current,B=c.current):X=B=h.current,e.paginator&&(X=Math.max(X-e.first,0),B-=e.first),ne()?ze(I,X,B):Ue(I,X,B)},Ue=function(I,X,B){for(var R=e.value,k=[],Z=X;Z<=B;Z++){var ye=R[Z];Ve({data:ye,index:Z})&&(k.push(ye),me({originalEvent:I.originalEvent,data:ye,type:"row"}))}return k},ze=function(I,X,B){var R,k,Z=I.cellIndex;Z>f.current?(R=f.current,k=Z):Z<f.current?(R=Z,k=f.current):R=k=Z;for(var ye=e.value,fe=[],Xe=X;Xe<=B;Xe++)for(var rt=ye[Xe],un=e.columns,Sn=e.paginator?Xe+e.first:Xe,dn=R;dn<=k;dn++){var Pn=un[dn].props.field,Rt=W.resolveFieldData(rt,Pn),cn={value:Rt,field:Pn,rowData:rt,rowIndex:Sn,cellIndex:dn,selected:!0};Ve({data:cn,index:Xe})&&(fe.push(cn),me({originalEvent:I.originalEvent,data:cn,type:"cell"}))}return fe},me=function(I){ne()?e.onCellSelect&&e.onCellSelect(li(li({originalEvent:I.originalEvent},I.data),{},{type:I.type})):e.onRowSelect&&e.onRowSelect(I)},V=function(I){ne()?e.onCellUnselect&&e.onCellUnselect(li(li({originalEvent:I.originalEvent},I.data),{},{type:I.type})):e.onRowUnselect&&e.onRowUnselect(I)},_e=function(I){e.dragSelection&&!l.current&&(l.current=document.createElement("div"),N.addClass(l.current,"p-datatable-drag-selection-helper"),u.current={x:I.clientX,y:I.clientY},l.current.style.top="".concat(I.pageY,"px"),l.current.style.left="".concat(I.pageX,"px"),G())},We=function(I,X){var B=I.currentTarget;if(!ne()&&e.selectionAutoFocus){if(L){var R=N.findSingle(B,"td.p-selection-column .p-checkbox-box");R&&R.focus()}else if(P){var k=N.findSingle(B,'td.p-selection-column input[type="radio"]');k&&k.focus()}}!X&&B&&B.focus()},be=function(I,X){var B=I.currentTarget,R=N.hasClass(B,X==="cell"?"p-selectable-cell":"p-selectable-row");if(R){var k=X==="cell"?"tr > td":"tr",Z=N.findSingle(a.current,"".concat(k,'[tabindex="').concat(e.tabIndex,'"]'));Z&&B&&(Z.tabIndex=-1,B.tabIndex=e.tabIndex)}},F=function(I){if(!(ne()||!te(I))){if(e.onRowClick&&e.onRowClick(I),O()){if(q(I))$(I,"row");else{var X=P||L||ie(I);c.current=I.index,h.current=I.index,v.current=e.first,le()?Pt(li(li({},I),{},{toggleable:X,type:"row"})):Vt(li(li({},I),{},{toggleable:X,type:"row"}))}be(I.originalEvent,"row")}else We(I.originalEvent);_.current=!1}},Oe=function(I){var X=I.originalEvent;N.isClickable(X.target)||e.onRowDoubleClick&&e.onRowDoubleClick(I)},Ye=function(I){(e.onContextMenu||e.onContextMenuSelectionChange)&&(N.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:I.originalEvent,value:I.data}),e.onContextMenu&&e.onContextMenu({originalEvent:I.originalEvent,data:I.data}),I.originalEvent.preventDefault())},ft=function(I){e.onRowMouseEnter&&e.onRowMouseEnter(I)},ut=function(I){e.onRowMouseLeave&&e.onRowMouseLeave(I)},vt=function(){_.current=!0},_t=function(I){var X=I.originalEvent;N.hasClass(X.target,"p-datatable-reorderablerow-handle")?X.currentTarget.draggable=!0:X.currentTarget.draggable=!1,Ee(I)&&(_e(X),c.current=I.index,h.current=I.index,v.current=e.first)},an=function(I){var X=I.index===c.current;Ee(I)&&!X&&$(I,"row")},Zt=function(I){var X,B=e.dataKey,R=e.groupRowsBy?B===e.groupRowsBy:!!B;if(R){var k=String(W.resolveFieldData(I.data,B));X=e.expandedRows?li({},e.expandedRows):{},X[k]!=null?(delete X[k],e.onRowCollapse&&e.onRowCollapse({originalEvent:I,data:I.data})):(X[k]=!0,e.onRowExpand&&e.onRowExpand({originalEvent:I,data:I.data}))}else{var Z=dt(e.expandedRows,I.data);X=e.expandedRows?jn(e.expandedRows):[],Z!==-1?(X=X.filter(function(ye,fe){return fe!==Z}),e.onRowCollapse&&e.onRowCollapse({originalEvent:I,data:I.data})):(X.push(I.data),e.onRowExpand&&e.onRowExpand({originalEvent:I,data:I.data}))}e.onRowToggle&&e.onRowToggle({data:X})},Tt=function(I){var X=I.originalEvent,B=I.index;Ee(X)&&(E.current=!0,S.current=B,X.dataTransfer.setData("text","b"))},Wt=function(I){var X=I.originalEvent,B=I.index;if(E.current&&S.current!==B){var R=X.currentTarget,k=N.getOffset(R).top+N.getWindowScrollTop(),Z=X.pageY+window.scrollY,ye=k+N.getOuterHeight(R)/2,fe=R.previousElementSibling;Z<ye?(N.removeClass(R,"p-datatable-dragpoint-bottom"),w.current=B,fe?N.addClass(fe,"p-datatable-dragpoint-bottom"):N.addClass(R,"p-datatable-dragpoint-top")):(fe?N.removeClass(fe,"p-datatable-dragpoint-bottom"):N.addClass(R,"p-datatable-dragpoint-top"),w.current=B+1,N.addClass(R,"p-datatable-dragpoint-bottom"))}X.preventDefault()},In=function(I){var X=I.originalEvent,B=X.currentTarget,R=B.previousElementSibling;R&&N.removeClass(R,"p-datatable-dragpoint-bottom"),N.removeClass(B,"p-datatable-dragpoint-bottom"),N.removeClass(B,"p-datatable-dragpoint-top")},qt=function(I){var X=I.originalEvent;E.current=!1,S.current=null,w.current=null,X.currentTarget.draggable=!1},en=function(I){var X=I.originalEvent;if(w.current!=null){var B=S.current>w.current?w.current:w.current===0?0:w.current-1,R=jn(e.value);W.reorderArray(R,S.current,B),e.onRowReorder&&e.onRowReorder({originalEvent:X,value:R,dragIndex:S.current,dropIndex:w.current})}In(I),qt(I),X.preventDefault()},Yt=function(I){Pt(li(li({},I),{},{toggleable:!0,type:"radio"}))},cr=function(I){Vt(li(li({},I),{},{toggleable:!0,type:"checkbox"}))},st=function(I){var X=u.current,B=X.x,R=X.y,k=I.clientX-B,Z=I.clientY-R;Z<0&&(l.current.style.top="".concat(I.pageY+5,"px")),k<0&&(l.current.style.left="".concat(I.pageX+5,"px")),l.current.style.height="".concat(Math.abs(Z),"px"),l.current.style.width="".concat(Math.abs(k),"px"),I.preventDefault()},se=function J(){l.current&&(l.current.remove(),l.current=null),document.removeEventListener("mousemove",st),document.removeEventListener("mouseup",J)},Q=function(I){if(te(I)){if(e.onCellClick&&e.onCellClick(I),ne()){if(q(I))$(I,"cell");else{var X=ie(I),B=I.originalEvent,R=h9(I,g9);c.current=I.rowIndex,h.current=I.rowIndex,v.current=e.first,f.current=I.cellIndex,le()?Pt({originalEvent:B,data:R,index:I.rowIndex,toggleable:X,type:"cell"}):Vt({originalEvent:B,data:R,index:I.rowIndex,toggleable:X,type:"cell"})}be(I.originalEvent,"cell")}_.current=!1}},j=function(I){de(I)&&(_e(I.originalEvent),c.current=I.rowIndex,h.current=I.rowIndex,v.current=e.first,f.current=I.cellIndex)},Ie=function(I){var X=I.rowIndex===c.current&&I.cellIndex===f.current;de(I)&&!X&&$(I,"cell")},G=function(){document.addEventListener("mousemove",st),document.addEventListener("mouseup",se),document.body.appendChild(l.current)},x=function(){se()};d.useEffect(function(){e.frozenRow&&It(),e.scrollable&&e.rowGroupMode==="subheader"&&kt()}),ho(function(){!e.isVirtualScrollerDisabled&&et("vertical")&&Ht()}),Mt(function(){!e.isVirtualScrollerDisabled&&et("vertical")&&et("itemSize",p)!==et("itemSize")&&Ht()},[e.virtualScrollerOptions]),Mt(function(){e.paginator&&ue()&&(c.current=null)},[e.first]),qr(function(){e.dragSelection&&x()});var re=function(){if(!e.loading){var I=Fe(),X=W.getJSXElement(e.emptyMessage,{props:e.tableProps,frozen:e.frozenRow})||Kn("emptyMessage");return d.createElement("tr",{className:"p-datatable-emptymessage",role:"row"},d.createElement("td",{colSpan:I,role:"cell"},X))}return null},ve=function(I,X,B,R){if(y&&Ut(e.value,I,X-e.first)){var k,Z=Et(),ye=e.expandableRowGroups&&d.createElement(jx,{onClick:Zt,rowData:I,expanded:B,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon}),fe=(k={index:X},ri(k,"index",X),ri(k,"props",e.tableProps),ri(k,"customRendering",!1),k),Xe=W.getJSXElement(e.rowGroupHeaderTemplate,I,fe);return fe.customRendering||(Xe=d.createElement("td",{colSpan:R},ye,d.createElement("span",{className:"p-rowgroup-header-name"},Xe))),d.createElement("tr",{className:"p-rowgroup-header",style:Z,role:"row"},Xe)}return null},Ae=function(I,X,B){if(!e.expandableRowGroups||B){var R=ae()?Se(I):!1,k=qe(I),Z=O(),ye=ne(),fe=ee(I);return d.createElement(Fx,{tableProps:e.tableProps,tableSelector:e.tableSelector,value:e.value,columns:e.columns,rowData:I,index:X,selected:R,contextMenuSelected:k,onRowClick:F,onRowDoubleClick:Oe,onRowRightClick:Ye,onRowMouseEnter:ft,onRowMouseLeave:ut,tabIndex:e.tabIndex,isSelectable:Ve,onRowTouchEnd:vt,onRowMouseDown:_t,onRowMouseUp:an,onRowToggle:Zt,onRowDragStart:Tt,onRowDragOver:Wt,onRowDragLeave:In,onRowDragEnd:qt,onRowDrop:en,onRadioChange:Yt,onCheckboxChange:cr,onCellClick:Q,onCellMouseDown:j,onCellMouseUp:Ie,editing:fe,editingRows:e.editingRows,editingMeta:e.editingMeta,editMode:e.editMode,onRowEditChange:e.onRowEditChange,onEditingMetaChange:e.onEditingMetaChange,groupRowsBy:e.groupRowsBy,compareSelectionBy:e.compareSelectionBy,dataKey:e.dataKey,rowGroupMode:e.rowGroupMode,onRowEditInit:e.onRowEditInit,rowEditValidator:e.rowEditValidator,onRowEditSave:e.onRowEditSave,onRowEditComplete:e.onRowEditComplete,onRowEditCancel:e.onRowEditCancel,selection:e.selection,allowRowSelection:Z,allowCellSelection:ye,selectOnEdit:e.selectOnEdit,selectionMode:e.selectionMode,selectionModeInColumn:e.selectionModeInColumn,cellClassName:e.cellClassName,responsiveLayout:e.responsiveLayout,frozenRow:e.frozenRow,showSelectionElement:e.showSelectionElement,showRowReorderElement:e.showRowReorderElement,expanded:B,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,rowClassName:e.rowClassName,virtualScrollerOptions:e.virtualScrollerOptions})}},Je=function(I,X,B,R){if(B&&!(y&&e.expandableRowGroups)){var k="".concat(e.tableSelector,"_content_").concat(X,"_expanded"),Z={index:X,customRendering:!1},ye=W.getJSXElement(e.rowExpansionTemplate,I,Z);return Z.customRendering||(ye=d.createElement("td",{role:"cell",colSpan:R},ye)),d.createElement("tr",{id:k,className:"p-datatable-row-expansion",role:"row"},ye)}return null},nt=function(I,X,B,R){if(y&&mt(e.value,I,X-e.first,B)){var k=W.getJSXElement(e.rowGroupFooterTemplate,I,{index:X,colSpan:R,props:e.tableProps});return d.createElement("tr",{className:"p-rowgroup-footer",role:"row"},k)}return null},ge=function(){return e.value.map(function(I,X){var B=et("getItemOptions")?et("getItemOptions")(X).index:e.first+X,R=Ot(I,B),k=Ze(I),Z=Fe(),ye=ve(I,B,k,Z),fe=Ae(I,B,k),Xe=Je(I,B,k,Z),rt=nt(I,B,k,Z);return d.createElement(d.Fragment,{key:R},ye,fe,Xe,rt)})},M=Ge("p-datatable-tbody",e.className),Ce=e.empty?re():ge();return d.createElement("tbody",{ref:s,className:M},Ce)}));D_.displayName="TableBody";function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ux=d.memo(function(e){var t=d.useState({}),n=Xt(t,2),r=n[0],i=n[1],o=d.useRef(null),a=function(S){return e.column.props[S]},s=function(){var S=a("footerStyle"),w=a("style");return a("frozen")?Object.assign({},w,S,r):Object.assign({},w,S)},l=function(){if(a("frozen")){var S=v9({},r),w=a("alignFrozen");if(w==="right"){var p=0,y=o.current.nextElementSibling;y&&(p=N.getOuterWidth(y)+parseFloat(y.style.right||0)),S.right=p+"px"}else{var C=0,A=o.current.previousElementSibling;A&&(C=N.getOuterWidth(A)+parseFloat(A.style.left||0)),S.left=C+"px"}var P=r.left===S.left&&r.right===S.right;!P&&i(S)}};d.useEffect(function(){a("frozen")&&l()});var u=s(),c=a("align"),f=a("colSpan"),h=a("rowSpan"),v=Ge(a("footerClassName"),a("className"),ri({"p-frozen-column":a("frozen")},"p-align-".concat(c),!!c)),_=W.getJSXElement(a("footer"),{props:e.tableProps});return d.createElement("td",{ref:o,style:u,className:v,role:"cell",colSpan:f,rowSpan:h},_)});Ux.displayName="FooterCell";var Vx=d.memo(function(e){var t=function(){return e.footerColumnGroup?!0:e.columns?e.columns.some(function(s){return s&&s.props.footer}):!1},n=function(s){var l=d.Children.toArray(s.props.children);return r(l)},r=function(s){return d.Children.map(s,function(l,u){var c=l?!l.props.hidden:!0,f=l&&(l.props.columnKey||l.props.field)||u;return c&&d.createElement(Ux,{key:f,tableProps:e.tableProps,column:l})})},i=function(){if(e.footerColumnGroup){var s=d.Children.toArray(e.footerColumnGroup.props.children);return s.map(function(l,u){return d.createElement("tr",{key:u,role:"row"},n(l))})}return d.createElement("tr",{role:"row"},r(e.columns))};if(t()){var o=i();return d.createElement("tfoot",{className:"p-datatable-tfoot"},o)}return null});Vx.displayName="TableFooter";function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _0=d.memo(function(e){var t=d.useState(!1),n=Xt(t,2),r=n[0],i=n[1],o=d.useRef(null),a=d.useRef(null),s=d.useRef(!1),l=d.useRef(null),u=function(x){return e.column.props[x]},c=u("filterField")||u("field"),f=e.filters[c],h=e.filtersStore&&e.filtersStore[c],v=s0({target:a,overlay:o,listener:function(x,re){var ve=re.type,Ae=re.valid;Ae&&(ve==="outside"?!s.current&&!we(x.target)&&dt():dt()),s.current=!1},when:r}),_=Xt(v,2),E=_[0],S=_[1],w=function(){return!h||!f?!1:h.operator?!y(f.constraints[0].value):!y(f.value)},p=function(){return f&&!y(f.value)},y=function(x){return W.isEmpty(x)},C=function(x){return f&&f.matchMode===x},A=function(){return u("showFilterMenu")&&(e.display==="row"?u("dataType")!=="boolean":!0)},P=function(){return u("filterMatchModeOptions")||ht.filterMatchModeOptions[Se()].map(function(x){return{label:Kn(x),value:x}})},L=function(){return u("dataType")!=="boolean"&&u("showFilterMatchModes")&&P()&&u("showFilterMenuOptions")},K=function(){return u("showFilterOperator")&&f&&f.operator&&u("showFilterMenuOptions")},ae=function(){return Pt().length>1},le=function(){return u("showAddButton")&&f&&f.operator&&Pt()&&Pt().length<u("maxConstraints")&&u("showFilterMenuOptions")},ue=function(x){return!we(x)&&o.current&&!(o.current.isSameNode(x)||o.current.contains(x))},we=function(x){return a.current&&(a.current.isSameNode(x)||a.current.contains(x))},he=function(){if(h)return h.operator?{matchMode:h.constraints[0].matchMode,operator:h.operator}:{matchMode:h.matchMode}},Se=function(){var x=u("dataType"),re=u("filterMatchMode"),ve=function(Je){return ht.filterMatchModeOptions[Je].some(function(nt){return nt===re})};return re==="custom"&&!ve(x)?(ht.filterMatchModeOptions[x].push(Fn.CUSTOM),x):re&&Object.keys(ht.filterMatchModeOptions).find(function(Ae){return ve(Ae)})||x},qe=function(){var x=u("onFilterClear"),re=he(),ve=ba({},e.filters);ve[c].operator?(ve[c].constraints.splice(1),ve[c].operator=re.operator,ve[c].constraints[0]={value:null,matchMode:re.matchMode}):(ve[c].value=null,ve[c].matchMode=re.matchMode),x&&x(),e.onFilterChange(ve),e.onFilterApply(),dt()},Ve=function(){var x=u("onFilterApplyClick");x&&x({field:c,constraints:f}),e.onFilterApply(),dt()},Ze=function(){i(function(x){return!x})},ce=function(x){switch(x.key){case"Escape":case"Tab":dt();break;case"ArrowDown":if(r){var re=N.getFirstFocusableElement(o.current);re&&re.focus(),x.preventDefault()}else x.altKey&&(i(!0),x.preventDefault());break}},ee=function(x){x.key==="Escape"&&(dt(),a.current&&a.current.focus())},U=function(x,re){var ve=ba({},e.filters),Ae=x.target.value;e.display==="menu"?ve[c].constraints[re].value=Ae:ve[c].value=Ae,e.onFilterChange(ve),(!u("showApplyButton")||e.display==="row")&&e.onFilterApply()},Ee=function(x,re){x.key==="Enter"&&(!u("showApplyButton")||e.display==="menu")&&Ve()},de=function(x){var re=u("onFilterMatchModeChange"),ve=ba({},e.filters);ve[c].matchMode=x,re&&re({field:c,matchMode:x}),e.onFilterChange(ve),e.onFilterApply(),dt()},te=function(x,re,ve){var Ae=x.target;switch(x.key){case"ArrowDown":var Je=Fe(Ae);Je&&(Ae.removeAttribute("tabindex"),Je.tabIndex=0,Je.focus()),x.preventDefault();break;case"ArrowUp":var nt=et(Ae);nt&&(Ae.removeAttribute("tabindex"),nt.tabIndex=0,nt.focus()),x.preventDefault();break;case"Enter":ve?qe():de(re.value),x.preventDefault();break}},ie=function(x){var re=u("onFilterOperatorChange"),ve=x.value,Ae=ba({},e.filters);Ae[c].operator=ve,e.onFilterChange(Ae),re&&re({field:c,operator:ve}),u("showApplyButton")||e.onFilterApply()},q=function(x,re){var ve=u("onFilterMatchModeChange"),Ae=ba({},e.filters);Ae[c].constraints[re].matchMode=x,e.onFilterChange(Ae),ve&&ve({field:c,matchMode:x,index:re}),u("showApplyButton")||e.onFilterApply()},O=function(){var x=u("onFilterConstraintAdd"),re=he(),ve=ba({},e.filters),Ae={value:null,matchMode:re.matchMode};ve[c].constraints.push(Ae),x&&x({field:c,constraint:Ae}),e.onFilterChange(ve),u("showApplyButton")||e.onFilterApply()},ne=function(x){var re=u("onFilterConstraintRemove"),ve=ba({},e.filters),Ae=ve[c].constraints.splice(x,1);re&&re({field:c,constraint:Ae}),e.onFilterChange(ve),u("showApplyButton")||e.onFilterApply()},Fe=function G(x){var re=x.nextElementSibling;return re?N.hasClass(re,"p-column-filter-separator")?G(re):re:x.parentElement.firstElementChild},et=function G(x){var re=x.previousElementSibling;return re?N.hasClass(re,"p-column-filter-separator")?G(re):re:x.parentElement.lastElementChild},dt=function(){i(!1)},Et=function(x){s.current=!0,no.emit("overlay-click",{originalEvent:x,target:o.current})},Ot=function(){s.current=!0},Ut=function(){On.set("overlay",o.current,ht.autoZIndex,ht.zIndex.overlay),N.alignOverlay(o.current,a.current,ht.appendTo,!1),l.current=function(x){ue(x.target)||(s.current=!0)},no.on("overlay-click",l.current)},mt=function(){E()},It=function(){Ht()},kt=function(){On.clear(o.current)},Ht=function(){S(),no.off("overlay-click",l.current),l.current=null,s.current=!1},Pt=function(){return f?f.constraints||[f]:[]},Vt=function(){return f.operator},$=function(){return[{label:Kn("matchAll"),value:Bd.AND},{label:Kn("matchAny"),value:Bd.OR}]},De=function(){return Kn("filter")},Ue=function(){return Kn("noFilter")},ze=function(){return Kn("removeRule")},me=function(){return Kn("addRule")},V=function(){return Kn("clear")},_e=function(){return Kn("apply")},We=function(x){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ve=ba({},e.filters),Ae=ve[c];e.display==="menu"&&Ae&&Ae.operator?ve[c].constraints[re].value=x:ve[c].value=x,e.onFilterChange(ve)},be=function(){for(var x=arguments.length,re=new Array(x),ve=0;ve<x;ve++)re[ve]=arguments[ve];re&&We(re[0],re[1]),e.onFilterApply()};Mt(function(){e.display==="menu"&&r&&N.alignOverlay(o.current,a.current,ht.appendTo,!1)}),qr(function(){l.current&&(no.off("overlay-click",l.current),l.current=null),o.current&&(On.clear(o.current),Ht())});var F=function(x,re){var ve=x?x.value:null;return u("filterElement")?W.getJSXElement(u("filterElement"),{field:c,index:re,filterModel:x,value:ve,filterApplyCallback:be,filterCallback:We}):d.createElement(Es,{type:u("filterType"),value:ve||"",onChange:function(Je){return U(Je,re)},onKeyDown:function(Je){return Ee(Je)},className:"p-column-filter",placeholder:u("filterPlaceholder"),maxLength:u("filterMaxLength")})},Oe=function(){if(e.display==="row"){var x=F(f,0);return d.createElement("div",{className:"p-fluid p-column-filter-element"},x)}return null},Ye=function(x,re){return e.display==="menu"?F(x,re):null},ft=function(){if(A()){var x=Ge("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r,"p-column-filter-menu-button-active":w()}),re=De();return d.createElement("button",{ref:a,type:"button",className:x,"aria-haspopup":!0,"aria-expanded":r,onClick:Ze,onKeyDown:ce,"aria-label":re},d.createElement("span",{className:"pi pi-filter-icon pi-filter","aria-hidden":"true"}),d.createElement($t,null))}return null},ut=function(){if(u("showClearButton")&&e.display==="row"){var x=Ge("p-column-filter-clear-button p-link",{"p-hidden-space":!p()}),re=V();return d.createElement("button",{className:x,type:"button",onClick:qe,"aria-label":re},d.createElement("span",{className:"pi pi-filter-slash","aria-hidden":"true"}),d.createElement($t,null))}return null},vt=function(){if(L()){var x=P(),re=Ue();return d.createElement("ul",{className:"p-column-filter-row-items"},x.map(function(ve,Ae){var Je=ve.value,nt=ve.label,ge=Ge("p-column-filter-row-item",{"p-highlight":C(Je)}),M=Ae===0?0:null;return d.createElement("li",{className:ge,key:nt,onClick:function(){return de(Je)},onKeyDown:function(J){return te(J,ve)},tabIndex:M},nt)}),d.createElement("li",{className:"p-column-filter-separator"}),d.createElement("li",{className:"p-column-filter-row-item",onClick:qe,onKeyDown:function(Ae){return te(Ae,null,!0)}},re))}return null},_t=function(){if(K()){var x=$(),re=Vt();return d.createElement("div",{className:"p-column-filter-operator"},d.createElement(as,{options:x,value:re,onChange:ie,className:"p-column-filter-operator-dropdown"}))}return null},an=function(x,re){if(L()){var ve=P();return d.createElement(as,{options:ve,value:x.matchMode,onChange:function(Je){return q(Je.value,re)},className:"p-column-filter-matchmode-dropdown"})}return null},Zt=function(x){if(ae()){var re=ze();return d.createElement(xn,{type:"button",icon:"pi pi-trash",className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return ne(x)},label:re})}return null},Tt=function(){var x=Pt();return d.createElement("div",{className:"p-column-filter-constraints"},x.map(function(re,ve){var Ae=an(re,ve),Je=Ye(re,ve),nt=Zt(ve);return d.createElement("div",{key:ve,className:"p-column-filter-constraint"},Ae,Je,d.createElement("div",null,nt))}))},Wt=function(){if(le()){var x=me();return d.createElement("div",{className:"p-column-filter-add-rule"},d.createElement(xn,{type:"button",label:x,icon:"pi pi-plus",className:"p-column-filter-add-button p-button-text p-button-sm",onClick:O}))}return null},In=function(){if(u("showClearButton")){if(!u("filterClear")){var x=V();return d.createElement(xn,{type:"button",className:"p-button-outlined p-button-sm",onClick:qe,label:x})}return W.getJSXElement(u("filterClear"),{field:c,filterModel:f,filterClearCallback:qe})}return null},qt=function(){if(u("showApplyButton")){if(!u("filterApply")){var x=_e();return d.createElement(xn,{type:"button",className:"p-button-sm",onClick:Ve,label:x})}return W.getJSXElement(u("filterApply"),{field:c,filterModel:f,filterApplyCallback:Ve})}return null},en=function(){var x=In(),re=qt();return d.createElement("div",{className:"p-column-filter-buttonbar"},x,re)},Yt=function(){var x=_t(),re=Tt(),ve=Wt(),Ae=en();return d.createElement(d.Fragment,null,x,re,ve,Ae)},cr=function(){var x=u("filterMenuStyle"),re=Ge("p-column-filter-overlay p-component p-fluid",u("filterMenuClassName"),{"p-column-filter-overlay-menu":e.display==="menu","p-input-filled":ht.inputStyle==="filled","p-ripple-disabled":ht.ripple===!1}),ve=W.getJSXElement(u("filterHeader"),{field:c,filterModel:f,filterApplyCallback:be}),Ae=W.getJSXElement(u("filterFooter"),{field:c,filterModel:f,filterApplyCallback:be}),Je=e.display==="row"?vt():Yt();return d.createElement(ys,null,d.createElement(Rl,{nodeRef:o,classNames:"p-connected-overlay",in:r,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:Ut,onEntered:mt,onExit:It,onExited:kt},d.createElement("div",{ref:o,style:x,className:re,onKeyDown:ee,onClick:Et,onMouseDown:Ot},ve,Je,Ae)))},st=Ge("p-column-filter p-fluid",{"p-column-filter-row":e.display==="row","p-column-filter-menu":e.display==="menu"}),se=Oe(),Q=ft(),j=ut(),Ie=cr();return d.createElement("div",{className:st},se,Q,j,Ie)});_0.displayName="ColumnFilter";var S0=d.memo(function(e){var t=d.useState(!1),n=Xt(t,2),r=n[0],i=n[1],o=function(){i(!0)},a=function(){i(!1)},s=function(v){e.disabled||(i(!0),e.onChange({originalEvent:v,checked:!e.checked}))},l=function(v){v.code==="Space"&&(s(v),v.preventDefault())},u=Ge("p-checkbox-box p-component",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":r}),c=Ge("p-checkbox-icon",{"pi pi-check":e.checked}),f=e.disabled?null:0;return d.createElement("div",{className:"p-checkbox p-component",onClick:s},d.createElement("div",{className:u,role:"checkbox","aria-checked":e.checked,tabIndex:f,onFocus:o,onBlur:a,onKeyDown:l},d.createElement("span",{className:c})))});S0.displayName="HeaderCheckbox";function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Bx=d.memo(function(e){var t=d.useState({}),n=Xt(t,2),r=n[0],i=n[1],o=d.useRef(null),a=ll(e.column),s=function(){return e.multiSortMeta&&e.multiSortMeta.length>1},l=function(){return!u("sortable")||u("sortable")&&(e.allSortableDisabled||u("sortableDisabled"))},u=function(){for(var U=arguments.length,Ee=new Array(U),de=0;de<U;de++)Ee[de]=arguments[de];return e.column?typeof Ee[0]=="string"?e.column.props[Ee[0]]:(Ee[0]||e.column).props[Ee[1]]:null},c=function(){var U=u("headerStyle"),Ee=u("style");return u("frozen")?Object.assign({},Ee,U,r):Object.assign({},Ee,U)},f=function(){return e.multiSortMeta.findIndex(function(U){return U.field===u("field")||U.field===u("sortField")})},h=function(){var U=!1,Ee=0,de=-1;return e.sortMode==="single"?(U=e.sortField&&(e.sortField===u("field")||e.sortField===u("sortField")),Ee=U?e.sortOrder:0):e.sortMode==="multiple"&&(de=f(),de>-1&&(U=!0,Ee=e.multiSortMeta[de].order)),{sorted:U,sortOrder:Ee,metaIndex:de}},v=function(U){var Ee=U.sorted,de=U.sortOrder;if(u("sortable")){var te=Ee?de<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt";return te==="pi-sort-amount-down"?"descending":te==="pi-sort-amount-up-alt"?"ascending":"none"}return null},_=function(){if(u("frozen")){var U=p9({},r),Ee=u("alignFrozen");if(Ee==="right"){var de=0,te=o.current.nextElementSibling;te&&(de=N.getOuterWidth(te)+parseFloat(te.style.right||0)),U.right=de+"px"}else{var ie=0,q=o.current.previousElementSibling;q&&(ie=N.getOuterWidth(q)+parseFloat(q.style.left||0)),U.left=ie+"px"}var O=o.current.parentElement.nextElementSibling;if(O){var ne=N.index(o.current);O.children[ne].style.left=U.left,O.children[ne].style.right=U.right}var Fe=r.left===U.left&&r.right===U.right;!Fe&&i(U)}},E=function(U){(u(U,"sortableDisabled")!==u("sortableDisabled")||u(U,"sortable")!==u("sortable"))&&e.onSortableChange()},S=function(U){if(!l()){var Ee=U.target;(N.hasClass(Ee,"p-sortable-column")||N.hasClass(Ee,"p-column-title")||N.hasClass(Ee,"p-column-header-content")||N.hasClass(Ee,"p-sortable-column-icon")||N.hasClass(Ee.parentElement,"p-sortable-column-icon"))&&(N.clearSelection(),e.onSortChange({originalEvent:U,column:e.column,sortableDisabledFields:e.sortableDisabledFields}))}},w=function(U){e.onColumnMouseDown({originalEvent:U,column:e.column})},p=function(U){U.key==="Enter"&&U.currentTarget===o.current&&N.hasClass(U.currentTarget,"p-sortable-column")&&(S(U),U.preventDefault())},y=function(U){e.onColumnDragStart({originalEvent:U,column:e.column})},C=function(U){e.onColumnDragOver({originalEvent:U,column:e.column})},A=function(U){e.onColumnDragLeave({originalEvent:U,column:e.column})},P=function(U){e.onColumnDrop({originalEvent:U,column:e.column})},L=function(U){e.onColumnResizeStart({originalEvent:U,column:e.column})},K=function(U){e.onColumnResizerClick&&(e.onColumnResizerClick({originalEvent:U,element:U.currentTarget.parentElement,column:e.column}),U.preventDefault())},ae=function(U){e.onColumnResizerDoubleClick&&(e.onColumnResizerDoubleClick({originalEvent:U,element:U.currentTarget.parentElement,column:e.column}),U.preventDefault())};d.useEffect(function(){u("frozen")&&_(),E(a)});var le=function(){return e.resizableColumns&&!u("frozen")?d.createElement("span",{className:"p-column-resizer",onMouseDown:L,onClick:K,onDoubleClick:ae}):null},ue=function(){var U=W.getJSXElement(u("header"),{props:e.tableProps});return d.createElement("span",{className:"p-column-title"},U)},we=function(U){var Ee=U.sorted,de=U.sortOrder;if(u("sortable")){var te=Ee?de<0?"pi-sort-amount-down":"pi-sort-amount-up-alt":"pi-sort-alt",ie=Ge("p-sortable-column-icon pi pi-fw",te);return d.createElement("span",{className:ie})}return null},he=function(U){var Ee=U.metaIndex;if(Ee!==-1&&s()){var de=e.groupRowsBy&&e.groupRowsBy===e.groupRowSortField?Ee:Ee+1;return d.createElement("span",{className:"p-sortable-column-badge"},de)}return null},Se=function(){if(e.showSelectAll&&u("selectionMode")==="multiple"&&e.filterDisplay!=="row"){var U=e.allRowsSelected(e.value);return d.createElement(S0,{checked:U,onChange:e.onColumnCheckboxChange,disabled:e.empty})}return null},qe=function(){return e.filterDisplay==="menu"&&u("filter")?d.createElement(_0,{display:"menu",column:e.column,filters:e.filters,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,filtersStore:e.filtersStore}):null},Ve=function(U){var Ee=ue(),de=we(U),te=he(U),ie=Se(),q=qe();return d.createElement("div",{className:"p-column-header-content"},Ee,de,te,ie,q)},Ze=function(){var U=l(),Ee=h(),de=c(),te=u("alignHeader")||u("align"),ie=u("frozen"),q=Ge(u("headerClassName"),u("className"),ri({"p-sortable-column":u("sortable"),"p-resizable-column":e.resizableColumns&&u("resizeable"),"p-highlight":Ee.sorted,"p-frozen-column":ie,"p-selection-column":u("selectionMode"),"p-sortable-disabled":u("sortable")&&U,"p-reorderable-column":e.reorderableColumns&&u("reorderable")&&!ie},"p-align-".concat(te),!!te)),O=u("sortable")&&!U?e.tabIndex:null,ne=u("colSpan"),Fe=u("rowSpan"),et=v(Ee),dt=u("headerTooltip"),Et=W.isNotEmpty(dt),Ot=u("headerTooltipOptions"),Ut=le(),mt=Ve(Ee);return d.createElement(d.Fragment,null,d.createElement("th",{ref:o,style:de,className:q,tabIndex:O,role:"columnheader",onClick:S,onKeyDown:p,onMouseDown:w,onDragStart:y,onDragOver:C,onDragLeave:A,onDrop:P,colSpan:ne,rowSpan:Fe,"aria-sort":et},Ut,mt),Et&&d.createElement(ws,Nf({target:o,content:dt},Ot)))},ce=Ze();return ce});Bx.displayName="HeaderCell";function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zx=d.memo(function(e){var t=d.useState([]),n=Xt(t,2),r=n[0],i=n[1],o=d.useState(!1),a=Xt(o,2),s=a[0],l=a[1],u=e.sortMode==="single",c=e.sortMode==="multiple",f=u&&s,h=function(K){return e.sortField!==null?K.props.field===e.sortField||K.props.sortField===e.sortField:!1},v=function(){if(u||c&&e.onSortChange){var K=[],ae=!1;e.columns.forEach(function(le){le.props.sortableDisabled&&(K.push(le.props.sortField||le.props.field),!ae&&h(le)&&(ae=!0))}),i(K),l(ae)}},_=function(){v()},E=function(K){e.onColumnCheckboxChange(K,e.value)};ho(function(){v()});var S=function(K){var ae=d.Children.toArray(K.props.children);return w(ae)},w=function(K){return d.Children.map(K,function(ae,le){var ue=ae?!ae.props.hidden:!0,we=ae&&(ae.props.columnKey||ae.props.field)||le;return ue&&d.createElement(Bx,{key:we,value:e.value,tableProps:e.tableProps,column:ae,tabIndex:e.tabIndex,empty:e.empty,resizableColumns:e.resizableColumns,groupRowsBy:e.groupRowsBy,groupRowSortField:e.groupRowSortField,sortMode:e.sortMode,sortField:e.sortField,sortOrder:e.sortOrder,multiSortMeta:e.multiSortMeta,allSortableDisabled:f,onSortableChange:_,sortableDisabledFields:r,filterDisplay:e.filterDisplay,filters:e.filters,filtersStore:e.filtersStore,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,onColumnMouseDown:e.onColumnMouseDown,onColumnDragStart:e.onColumnDragStart,onColumnDragOver:e.onColumnDragOver,onColumnDragLeave:e.onColumnDragLeave,onColumnDrop:e.onColumnDrop,onColumnResizeStart:e.onColumnResizeStart,onColumnResizerClick:e.onColumnResizerClick,onColumnResizerDoubleClick:e.onColumnResizerDoubleClick,showSelectAll:e.showSelectAll,allRowsSelected:e.allRowsSelected,onColumnCheckboxChange:E,reorderableColumns:e.reorderableColumns,onSortChange:e.onSortChange})})},p=function(K){if(e.showSelectAll&&K==="multiple"){var ae=e.allRowsSelected(e.value);return d.createElement(S0,{checked:ae,onChange:E,disabled:e.empty})}return null},y=function(K,ae){return ae?d.createElement(_0,{display:"row",column:K,filters:e.filters,filtersStore:e.filtersStore,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply}):null},C=function(){return d.Children.map(e.columns,function(K,ae){var le=!K.props.hidden;if(le){var ue=K.props,we=ue.filterHeaderStyle,he=ue.style,Se=ue.filterHeaderClassName,qe=ue.className,Ve=ue.frozen,Ze=ue.columnKey,ce=ue.field,ee=ue.selectionMode,U=ue.filter,Ee=rR(rR({},we||{}),he||{}),de=Ge("p-filter-column",Se,qe,{"p-frozen-column":Ve}),te=Ze||ce||ae,ie=p(ee),q=y(K,U);return d.createElement("th",{key:te,style:Ee,className:de},ie,q)}return null})},A=function(){if(e.headerColumnGroup){var K=d.Children.toArray(e.headerColumnGroup.props.children);return K.map(function(ue,we){return d.createElement("tr",{key:we,role:"row"},S(ue))})}else{var ae=d.createElement("tr",{role:"row"},w(e.columns)),le=e.filterDisplay==="row"&&d.createElement("tr",{role:"row"},C());return d.createElement(d.Fragment,null,ae,le)}},P=A();return d.createElement("thead",{className:"p-datatable-thead"},P)});zx.displayName="TableHeader";function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tc=d.forwardRef(function(e,t){var n=d.useState(e.first),r=Xt(n,2),i=r[0],o=r[1],a=d.useState(e.rows),s=Xt(a,2),l=s[0],u=s[1],c=d.useState(e.sortField),f=Xt(c,2),h=f[0],v=f[1],_=d.useState(e.sortOrder),E=Xt(_,2),S=E[0],w=E[1],p=d.useState(e.multiSortMeta),y=Xt(p,2),C=y[0],A=y[1],P=d.useState(e.filters),L=Xt(P,2),K=L[0],ae=L[1],le=d.useState([]),ue=Xt(le,2),we=ue[0],he=ue[1],Se=d.useState(null),qe=Xt(Se,2),Ve=qe[0],Ze=qe[1],ce=d.useState({}),ee=Xt(ce,2),U=ee[0],Ee=ee[1],de=d.useState(null),te=Xt(de,2),ie=te[0],q=te[1],O=d.useState(e.rows),ne=Xt(O,2),Fe=ne[0],et=ne[1],dt=d.useState({}),Et=Xt(dt,2),Ot=Et[0],Ut=Et[1],mt=d.useRef(null),It=d.useRef(null),kt=d.useRef(null),Ht=d.useRef(null),Pt=d.useRef(null),Vt=d.useRef(null),$=d.useRef(null),De=d.useRef(null),Ue=d.useRef(null),ze=d.useRef(null),me=d.useRef(null),V=d.useRef(null),_e=d.useRef(null),We=d.useRef(null),be=d.useRef(null),F=d.useRef(null),Oe=d.useRef(null),Ye=d.useRef(null),ft=d.useRef(null),ut=d.useRef(null),vt=d.useRef(!1),_t=d.useRef(null),an=d.useRef(!1),Zt=d.useRef(null),Tt=d.useRef(null),Wt=d.useRef(null);e.rows!==Fe&&!e.onPage&&(u(e.rows),et(e.rows));var In=Zi({type:"mousemove",listener:function(D){vt.current&&Hn(D)}}),qt=Xt(In,2),en=qt[0],Yt=qt[1],cr=Zi({type:"mouseup",listener:function(){vt.current&&(vt.current=!1,Wi())}}),st=Xt(cr,2),se=st[0],Q=st[1],j=function(){return e.stateStorage==="custom"},Ie=function(){return e.stateKey!=null||j()},G=function(){return W.isEmpty(e.virtualScrollerOptions)||!e.scrollable},x=function(D,z){return e.compareSelectionBy==="equals"?D===z:W.equals(D,z,e.dataKey)},re=function(){return W.isNotEmpty(M())||e.globalFilter},ve=function(){return e.onPage?e.first:i},Ae=function(){return e.onPage?e.rows:l},Je=function(){return e.onSort?e.sortField:h},nt=function(){return e.onSort?e.sortOrder:S},ge=function(){return(e.onSort?e.multiSortMeta:C)||[]},M=function(){return e.onFilter?e.filters:K},Ce=function(D,z){return D.props[z]},J=function(D){var z=d.Children.toArray(e.children);if(!z)return null;if(!D&&e.reorderableColumns&&we){var pe=we.reduce(function(Te,$e){var Pe=Pn(z,$e);return Pe&&Te.push(Pe),Te},[]);return[].concat(jn(pe),jn(z.filter(function(Te){return pe.indexOf(Te)<0})))}return z},I=function(){switch(e.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(e.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},X=function(){var D={};e.paginator&&(D.first=ve(),D.rows=Ae());var z=Je();z&&(D.sortField=z,D.sortOrder=nt());var pe=ge();if(pe&&(D.multiSortMeta=pe),re()&&(D.filters=M()),e.resizableColumns&&ye(D),e.reorderableColumns&&(D.columnOrder=we),e.expandedRows&&(D.expandedRows=e.expandedRows),e.selection&&e.onSelectionChange&&(D.selection=e.selection),j())e.customSaveState&&e.customSaveState(D);else{var Te=I();W.isNotEmpty(D)&&Te.setItem(e.stateKey,JSON.stringify(D))}e.onStateSave&&e.onStateSave(D)},B=function(){var D=I();D&&e.stateKey&&D.removeItem(e.stateKey)},R=function(){var D={};if(j())e.customRestoreState&&(D=e.customRestoreState());else{var z=I(),pe=z.getItem(e.stateKey),Te=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,$e=function(Be,He){return typeof He=="string"&&Te.test(He)?new Date(He):He};pe&&(D=JSON.parse(pe,$e))}Z(D)},k=function(D){Z(D)},Z=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(W.isNotEmpty(D)){if(e.paginator)if(e.onPage){var z=function(Te,$e){var Pe=Rt(Jn()),Be=Math.ceil(Pe/$e)||1,He=Math.floor(Te/$e);return{first:Te,rows:$e,page:He,pageCount:Be}};e.onPage(Xn(z(D.first,D.rows)))}else o(D.first),u(D.rows);D.sortField&&(e.onSort?e.onSort(Xn({sortField:D.sortField,sortOrder:D.sortOrder})):(v(D.sortField),w(D.sortOrder))),D.multiSortMeta&&(e.onSort?e.onSort(Xn({multiSortMeta:D.multiSortMeta})):A(D.multiSortMeta)),D.filters&&(Ut(Ti(D.filters)),e.onFilter?e.onFilter(Xn({filters:D.filters})):ae(Ti(D.filters))),e.resizableColumns&&(Oe.current=D.columnWidths,Ye.current=D.tableWidth,fe()),e.reorderableColumns&&he(D.columnOrder),D.expandedRows&&e.onRowToggle&&e.onRowToggle({data:D.expandedRows}),D.selection&&e.onSelectionChange&&e.onSelectionChange({value:D.selection}),e.onStateRestore&&e.onStateRestore(D)}},ye=function(D){var z=[],pe=N.find(mt.current,".p-datatable-thead > tr > th");pe.forEach(function(Te){return z.push(N.getOuterWidth(Te))}),D.columnWidths=z.join(","),e.columnResizeMode==="expand"&&(D.tableWidth=N.getOuterWidth(It.current)+"px")},fe=function(){if(Oe.current){var D=Oe.current.split(",");if(e.columnResizeMode==="expand"&&Ye.current&&(It.current.style.width=Ye.current,It.current.style.minWidth=Ye.current,mt.current.style.width=Ye.current),W.isNotEmpty(D)){Vh();var z="";D.forEach(function(pe,Te){var $e=e.scrollable?"flex: 1 1 ".concat(pe,"px !important"):"width: ".concat(pe,"px !important");z+=`
                        .p-datatable[`.concat(ie,"] .p-datatable-thead > tr > th:nth-child(").concat(Te+1,`),
                        .p-datatable[`).concat(ie,"] .p-datatable-tbody > tr > td:nth-child(").concat(Te+1,`),
                        .p-datatable[`).concat(ie,"] .p-datatable-tfoot > tr > td:nth-child(").concat(Te+1,`) {
                            `).concat($e,`
                        }
                    `)}),be.current.innerHTML=z}}},Xe=function(D){if(D.nodeName==="TH")return D;for(var z=D.parentElement;z.nodeName!=="TH"&&(z=z.parentElement,!!z););return z},rt=function(){return e.sortMode==="single"?e.sortField:Ve?Ve.field:null},un=function(D){return e.showSelectionElement||e.isDataSelectable?D.filter(function(z,pe){var Te=!0;return e.showSelectionElement&&(Te=e.showSelectionElement({rowIndex:pe,props:e})),e.isDataSelectable&&Te&&(Te=e.isDataSelectable({data:z,index:pe})),Te}):D},Sn=function(D){if(e.onSelectAllChange)return e.selectAll;var z=e.selectionPageOnly?wa(D):D,pe=e.frozenValue?[].concat(jn(e.frozenValue),jn(z)):z,Te=un(pe);return Te&&e.selection&&Te.every(function($e){return e.selection.some(function(Pe){return x(Pe,$e)})})},dn=function(D){if(D){var z=D.find(function(pe){return!!pe.props.selectionMode});return z?z.props.selectionMode:null}return null},Pn=function(D,z){return W.isNotEmpty(D)?D.find(function(pe){return pe.props.columnKey===z||pe.props.field===z}):null},Rt=function(D){return e.lazy?e.totalRecords:D?D.length:0},cn=function(D){var z=D.rowData,pe=D.field,Te=D.editingKey;D.rowIndex;var $e=D.editing,Pe=Ca({},U),Be=Pe[Te];if($e)!Be&&(Be=Pe[Te]={data:Ca({},z),fields:[]}),Be.fields.push(pe);else if(Be){var He=Be.fields.filter(function(St){return St!==pe});He.length?Be.fields=He:delete Pe[Te]}Ee(Pe)},ai=function(){e.editMode&&W.isNotEmpty(U)&&Ee({})},vo=function(D){var z=D.originalEvent,pe=D.column,Te=N.getOffset(mt.current).left;ft.current=pe,ut.current=z.currentTarget.parentElement,vt.current=!0,_t.current=z.pageX-Te+mt.current.scrollLeft,jl()},Hn=function(D){var z=N.getOffset(mt.current).left;N.addClass(mt.current,"p-unselectable-text"),me.current.style.height=mt.current.offsetHeight+"px",me.current.style.top="0px",me.current.style.left=D.pageX-z+mt.current.scrollLeft+"px",me.current.style.display="block"},Wi=function(){var D=me.current.offsetLeft-_t.current,z=ut.current.offsetWidth,pe=z+D,Te=ut.current.style.minWidth||15;if(z+D>parseInt(Te,10)){if(e.columnResizeMode==="fit"){var $e=ut.current.nextElementSibling,Pe=$e.offsetWidth-D;pe>15&&Pe>15&&jr(pe,Pe)}else if(e.columnResizeMode==="expand"){var Be=It.current.offsetWidth+D+"px",He=function(Dt){Dt&&(Dt.style.width=Dt.style.minWidth=Be)};He(It.current),G()||(He(Ht.current),He(Pt.current),kt.current&&He(N.findSingle(kt.current,".p-virtualscroller-content"))),jr(pe)}e.onColumnResizeEnd&&e.onColumnResizeEnd({element:ut.current,column:ft.current,delta:D}),Ie()&&X()}me.current.style.display="none",ft.current=null,ut.current=null,N.removeClass(mt.current,"p-unselectable-text"),Ul()},jr=function(D,z){var pe=[],Te=N.index(ut.current),$e=N.find(It.current,".p-datatable-thead > tr > th");$e.forEach(function(Be){return pe.push(N.getOuterWidth(Be))}),zh(),Vh();var Pe="";pe.forEach(function(Be,He){var St=He===Te?D:z&&He===Te+1?z:Be,Dt=e.scrollable?"flex: 1 1 ".concat(St,"px !important"):"width: ".concat(St,"px !important");Pe+=`
                .p-datatable[`.concat(ie,"] .p-datatable-thead > tr > th:nth-child(").concat(He+1,`),
                .p-datatable[`).concat(ie,"] .p-datatable-tbody > tr > td:nth-child(").concat(He+1,`),
                .p-datatable[`).concat(ie,"] .p-datatable-tfoot > tr > td:nth-child(").concat(He+1,`) {
                    `).concat(Dt,`
                }
            `)}),be.current.innerHTML=Pe},jl=function(){en(),se()},Ul=function(){Yt(),Q()},Uc=function(D){N.clearSelection();var z=D.originalEvent,pe=D.column;e.reorderableColumns&&Ce(pe,"reorderable")!==!1&&!Ce(pe,"frozen")&&(z.target.nodeName==="INPUT"||z.target.nodeName==="TEXTAREA"||N.hasClass(z.target,"p-column-resizer")?z.currentTarget.draggable=!1:z.currentTarget.draggable=!0)},Vl=function(D,z){if(e.onSelectAllChange)e.onSelectAllChange(D);else{var pe=D.originalEvent,Te=D.checked,$e=e.selectionPageOnly?wa(z):z,Pe=e.selectionPageOnly&&e.selection?e.selection.filter(function(Be){return!$e.some(function(He){return x(Be,He)})}):[];Te?(Pe=e.frozenValue?[].concat(jn(Pe),jn(e.frozenValue),jn($e)):[].concat(jn(Pe),jn($e)),Pe=un(Pe),e.onAllRowsSelect&&e.onAllRowsSelect({originalEvent:pe,data:Pe,type:"all"})):e.onAllRowsUnselect&&e.onAllRowsUnselect({originalEvent:pe,data:Pe,type:"all"}),e.onSelectionChange&&e.onSelectionChange({originalEvent:pe,value:Pe,type:"all"})}},Bl=function(D){var z=D.originalEvent,pe=D.column;if(vt.current){z.preventDefault();return}e.reorderableColumns&&(Ue.current=N.getHiddenElementOuterWidth($.current),ze.current=N.getHiddenElementOuterHeight($.current),_e.current=pe,V.current=Xe(z.currentTarget),z.dataTransfer.setData("text","b"))},Vc=function(D){var z=D.originalEvent,pe=D.column,Te=Xe(z.currentTarget);if(e.reorderableColumns&&V.current&&Te&&!Ce(pe,"frozen")&&(z.preventDefault(),V.current!==Te)){var $e=N.getOffset(mt.current),Pe=N.getOffset(Te),Be=Pe.left-$e.left,He=Pe.left+Te.offsetWidth/2;$.current.style.top=Pe.top-$e.top-(ze.current-1)+"px",De.current.style.top=Pe.top-$e.top+Te.offsetHeight+"px",z.pageX>He?($.current.style.left=Be+Te.offsetWidth-Math.ceil(Ue.current/2)+"px",De.current.style.left=Be+Te.offsetWidth-Math.ceil(Ue.current/2)+"px",We.current=1):($.current.style.left=Be-Math.ceil(Ue.current/2)+"px",De.current.style.left=Be-Math.ceil(Ue.current/2)+"px",We.current=-1),$.current.style.display="block",De.current.style.display="block"}},zl=function(D){var z=D.originalEvent;e.reorderableColumns&&V.current&&(z.preventDefault(),$.current.style.display="none",De.current.style.display="none")},Ts=function(D){var z=D.originalEvent,pe=D.column;if(z.preventDefault(),V.current){var Te=N.index(V.current),$e=N.index(Xe(z.currentTarget)),Pe=Te!==$e;if(Pe&&($e-Te===1&&We.current===-1||Te-$e===1&&We.current===1)&&(Pe=!1),Pe){var Be=J(),He=function(Kt,Gi){return Kt.props.columnKey||Gi.props.columnKey?W.equals(Kt.props,Gi.props,"columnKey"):W.equals(Kt.props,Gi.props,"field")},St=Be.findIndex(function(fn){return He(fn,_e.current)}),Dt=Be.findIndex(function(fn){return He(fn,pe)});Dt<St&&We.current===1&&Dt++,Dt>St&&We.current===-1&&Dt--,W.reorderArray(Be,St,Dt);var Wn=Be.reduce(function(fn,Kt){return fn.push(Kt.props.columnKey||Kt.props.field),fn},[]);he(Wn),e.onColReorder&&e.onColReorder({originalEvent:z,dragIndex:St,dropIndex:Dt,columns:Be})}$.current.style.display="none",De.current.style.display="none",V.current.draggable=!1,V.current=null,_e.current=null,We.current=null}},Vh=function(){be.current=N.createInlineStyle(ht.nonce)},Bh=function(){if(!F.current){F.current=N.createInlineStyle(ht.nonce);var D=`
@media screen and (max-width: `.concat(e.breakpoint,`) {
    .p-datatable[`).concat(ie,`] .p-datatable-thead > tr > th,
    .p-datatable[`).concat(ie,`] .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    .p-datatable[`).concat(ie,`] .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    .p-datatable[`).concat(ie,`] .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    .p-datatable[`).concat(ie,`].p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    .p-datatable[`).concat(ie,`] .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`);F.current.innerHTML=D}},Bc=function(){F.current=N.removeInlineStyle(F.current)},zh=function(){be.current=N.removeInlineStyle(be.current)},zc=function(D){ai(),e.onPage?e.onPage(Xn(D)):(o(D.first),u(D.rows)),e.onValueChange&&e.onValueChange(Jn())},dy=function(D){ai();var z=D.originalEvent,pe=D.column,Te=D.sortableDisabledFields,$e=pe.props.sortField||pe.props.field,Pe=e.defaultSortOrder,Be,He;if(an.current=pe.props.sortable,Zt.current=pe.props.sortFunction,Tt.current=$e,e.sortMode==="multiple"){var St=z.metaKey||z.ctrlKey;Be=jn(ge());var Dt=Be.find(function(fn){return fn.field===$e});Pe=Dt?Hc(Dt.order):Pe;var Wn={field:$e,order:Pe};Pe?(Be=St?Be:Be.filter(function(fn){return Te.some(function(Kt){return Kt===fn.field})}),fy(Wn,Be)):e.removableSort&&hy(Wn,Be),He={multiSortMeta:Be}}else Pe=Je()===$e?Hc(nt()):Pe,e.removableSort&&($e=Pe?$e:null),He={sortField:$e,sortOrder:Pe};e.onSort?e.onSort(Xn(He)):(o(0),v(He.sortField),w(He.sortOrder),A(He.multiSortMeta)),e.onValueChange&&e.onValueChange(Jn({sortField:$e,sortOrder:Pe,multiSortMeta:Be}))},Hc=function(D){return e.removableSort?e.defaultSortOrder===D?D*-1:0:D*-1},Wc=function(D,z,pe){return W.sort(D,z,pe,ht.locale,ht.nullSortOrder)},fy=function(D,z){var pe=z.findIndex(function(Te){return Te.field===D.field});pe>=0?z[pe]=D:z.push(D)},hy=function(D,z){var pe=z.findIndex(function(Te){return Te.field===D.field});pe>=0&&z.splice(pe,1),z=z.length>0?z:null},my=function(D,z,pe){if(e.groupRowsBy&&e.groupRowsBy===e.sortField){var Te=[{field:e.sortField,order:e.sortOrder||e.defaultSortOrder}];return e.sortField!==z&&Te.push({field:z,order:pe}),Kc(D,Te)}var $e=jn(D);return an.current&&Zt.current?$e=Zt.current({data:D,field:z,order:pe}):$e.sort(function(Pe,Be){var He=W.resolveFieldData(Pe,z),St=W.resolveFieldData(Be,z);return Wc(He,St,pe)}),$e},Kc=function(D){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(e.groupRowsBy&&(Ve||z.length&&e.groupRowsBy===z[0].field)){var pe=Ve,Te=z[0];pe||(pe=Te,Ze(pe)),Te.field!==pe.field&&(z=[pe].concat(jn(z)))}var $e=jn(D);if(an.current&&Zt.current){var Pe=z.find(function(St){return St.field===Tt.current}),Be=Tt.current,He=Pe?Pe.order:e.defaultSortOrder;$e=Zt.current({data:D,field:Be,order:He,multiSortMeta:z})}else $e.sort(function(St,Dt){return gy(St,Dt,z,0)});return $e},gy=function Me(D,z,pe,Te){var $e=W.resolveFieldData(D,pe[Te].field),Pe=W.resolveFieldData(z,pe[Te].field);return W.compare($e,Pe,ht.locale)===0?pe.length-1>Te?Me(D,z,pe,Te+1):0:Wc($e,Pe,pe[Te].order)},vy=function(D){ai(),Ut(D)},Ki=function(D){clearTimeout(Wt.current),Wt.current=setTimeout(function(){var z=Ti(D||Ot);e.onFilter?e.onFilter(Xn({filters:z})):(o(0),ae(z)),e.onValueChange&&e.onValueChange(Jn({filters:z}))},e.filterDelay)},Hh=function(D,z){if(D){z=z||{};var pe=J(),Te=[],$e=z.global||e.globalFilter,Pe;$e&&(Pe=e.globalFilterFields||pe.filter(function(ql){return!ql.props.excludeGlobalFilter}).map(function(ql){return ql.props.filterField||ql.props.field}));for(var Be=0;Be<D.length;Be++){var He=!0,St=!1,Dt=!1;for(var Wn in z)if(Object.prototype.hasOwnProperty.call(z,Wn)&&Wn!=="global"){Dt=!0;var fn=Wn,Kt=z[fn];if(Kt.operator)for(var Gi=0;Gi<Kt.constraints.length;Gi++){var Gl=Kt.constraints[Gi];if(He=Gc(fn,D[Be],Gl,Gi),Kt.operator===Bd.OR&&He||Kt.operator===Bd.AND&&!He)break}else He=Gc(fn,D[Be],Kt,0);if(!He)break}if($e&&!St&&Pe)for(var Xc=0;Xc<Pe.length;Xc++){var xy=Pe[Xc],My=z.global?z.global.matchMode:e.globalFilterMatchMode,Py=z.global?z.global.value:e.globalFilter;if(St=zd.filters[My](W.resolveFieldData(D[Be],xy),Py,e.filterLocale),St)break}var Jc=void 0;$e?Jc=Dt?Dt&&He&&St:St:Jc=Dt&&He,Jc&&Te.push(D[Be])}return Te.length===e.value.length&&(Te=D),Te}},Gc=function(D,z,pe,Te){var $e=pe.value,Pe=pe.matchMode==="custom"?"custom_".concat(D):pe.matchMode||Fn.STARTS_WITH,Be=W.resolveFieldData(z,D),He=zd.filters[Pe];return W.isFunction(He)&&He(Be,$e,e.filterLocale,Te)},Ti=function(D){D=D||e.filters;var z={};if(D)Object.entries(D).forEach(function(Te){var $e=Xt(Te,2),Pe=$e[0],Be=$e[1];z[Pe]=Be.operator?{operator:Be.operator,constraints:Be.constraints.map(function(He){return Ca({},He)})}:Ca({},Be)});else{var pe=J();z=pe.reduce(function(Te,$e){var Pe=$e.props.filterField||$e.props.field,Be=$e.props.filterFunction,He=$e.props.dataType,St=$e.props.filterMatchMode||(ht.filterMatchModeOptions[He]?ht.filterMatchModeOptions[He][0]:Fn.STARTS_WITH),Dt={value:null,matchMode:St};return Be&&zd.register("custom_".concat(Pe),function(){for(var Wn=arguments.length,fn=new Array(Wn),Kt=0;Kt<Wn;Kt++)fn[Kt]=arguments[Kt];return Be.apply(void 0,fn.concat([{column:$e}]))}),Te[Pe]=e.filterDisplay==="menu"?{operator:Bd.AND,constraints:[Dt]}:Dt,Te},{})}return z},Wh=function(D,z,pe){var Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,$e=Ca({},Ot),Pe=$e[z],Be=Pe&&Pe.operator?Pe.constraints[Te]:Pe;Be=Pe?{value:D,matchMode:pe||Be.matchMode}:{value:D,matchMode:pe},e.filterDisplay==="menu"&&Pe&&Pe.operator?$e[z].constraints[Te]=Be:$e[z]=Be,Ut($e),Ki($e)},py=function(){et(e.rows),Ut(Ti(e.filters)),Ze(null),Ee({}),e.onPage||(o(e.first),u(e.rows)),e.onSort||(v(e.sortField),w(e.sortOrder),A(e.multiSortMeta)),e.onFilter||ae(e.filters),Fo()},Kh=function(){if(kt.current){var D=G()?kt.current:N.findSingle(kt.current,".p-virtualscroller");D.scrollTo(0,0)}},Fo=function(){var D=J(!0),z=[];D&&(z=D.reduce(function(pe,Te){return pe.push(Te.props.columnKey||Te.props.field),pe},[])),he(z)},yy=function(D){var z,pe="\uFEFF",Te=J();D&&D.selectionOnly?z=e.selection||[]:z=[].concat(jn(e.frozenValue||[]),jn(Jn()||[])),Te.forEach(function($e,Pe){var Be=$e.props,He=Be.field,St=Be.header,Dt=Be.exportable;Dt&&He&&(pe+='"'+(St||He)+'"',Pe<Te.length-1&&(pe+=e.csvSeparator))}),z.forEach(function($e){pe+=`
`,Te.forEach(function(Pe,Be){var He=Pe.props,St=He.field,Dt=He.exportField,Wn=He.exportable,fn=Dt||St;if(Wn&&fn){var Kt=W.resolveFieldData($e,fn);Kt!=null?Kt=e.exportFunction?e.exportFunction({data:Kt,field:fn,rowData:$e,column:Pe}):String(Kt).replace(/"/g,'""'):Kt="",pe+='"'+Kt+'"',Be<Te.length-1&&(pe+=e.csvSeparator)}})}),N.exportCSV(pe,e.exportFilename)},jo=function(){e.editMode!=="row"&&document.body.click()},Xn=function(D){return Ca({first:ve(),rows:Ae(),sortField:Je(),sortOrder:nt(),multiSortMeta:ge(),filters:M()},D)},Jn=function(D){var z=e.value||[];if(!e.lazy&&z&&z.length){var pe=D&&D.filters||M(),Te=D&&D.sortField||Je(),$e=D&&D.sortOrder||nt(),Pe=D&&D.multiSortMeta||ge(),Be=J(),He=Be.find(function(St){return St.props.field===Te});He&&(an.current=He.props.sortable,Zt.current=He.props.sortFunction),(W.isNotEmpty(pe)||e.globalFilter)&&(z=Hh(z,pe)),(Te||W.isNotEmpty(Pe))&&(e.sortMode==="single"?z=my(z,Te,$e):e.sortMode==="multiple"&&(z=Kc(z,Pe)))}return z},wa=function(D){if(D&&e.paginator){var z=e.lazy?0:ve();return D.slice(z,z+Ae())}return D};ho(function(){q(o0()),ae(Ti(e.filters)),Ut(Ti(e.filters)),Ie()&&(R(),e.resizableColumns&&fe())}),Mt(function(){mt.current.setAttribute(ie,""),e.responsiveLayout==="stack"&&!e.scrollable&&Bh()},[ie]),Mt(function(){var Me=Ti(e.filters);ae(Me),Ut(Ti(e.filters)),e.onValueChange&&e.onValueChange(Jn({filters:Me}))},[e.filters]),Mt(function(){Ie()&&X()}),Mt(function(){Bc(),e.responsiveLayout==="stack"&&!e.scrollable&&Bh()},[e.responsiveLayout,e.scrollable]),Mt(function(){e.globalFilter&&Wh(e.globalFilter,"global",e.globalFilterMatchMode)},[e.globalFilter]),qr(function(){Ul(),zh(),Bc()}),d.useImperativeHandle(t,function(){return{props:e,clearState:B,closeEditingCell:jo,exportCSV:yy,filter:Wh,reset:py,resetColumnOrder:Fo,resetScroll:Kh,restoreColumnWidths:fe,restoreState:R,restoreTableState:k,saveState:X,getElement:function(){return mt.current},getTable:function(){return It.current},getVirtualScroller:function(){return Vt.current}}});var wy=function(){if(e.loading){var D=Ge("p-datatable-loading-icon pi-spin",e.loadingIcon);return d.createElement("div",{className:"p-datatable-loading-overlay p-component-overlay"},d.createElement("i",{className:D}))}return null},Ey=function(){if(e.header){var D=W.getJSXElement(e.header,{props:e});return d.createElement("div",{className:"p-datatable-header"},D)}return null},po=function(D,z){var pe=Je(),Te=nt(),$e=jn(ge()),Pe=rt(),Be=Ot,He=!e.onFilter&&e.filters||M(),St=D.items,Dt=D.columns;return d.createElement(zx,{value:St,tableProps:e,columns:Dt,tabIndex:e.tabIndex,empty:z,headerColumnGroup:e.headerColumnGroup,resizableColumns:e.resizableColumns,onColumnResizeStart:vo,onColumnResizerClick:e.onColumnResizerClick,onColumnResizerDoubleClick:e.onColumnResizerDoubleClick,sortMode:e.sortMode,sortField:pe,sortOrder:Te,multiSortMeta:$e,groupRowsBy:e.groupRowsBy,groupRowSortField:Pe,onSortChange:dy,filterDisplay:e.filterDisplay,filters:Be,filtersStore:He,onFilterChange:vy,onFilterApply:Ki,showSelectAll:e.showSelectAll,allRowsSelected:Sn,onColumnCheckboxChange:Vl,onColumnMouseDown:Uc,onColumnDragStart:Bl,onColumnDragOver:Vc,onColumnDragLeave:zl,onColumnDrop:Ts,rowGroupMode:e.rowGroupMode,reorderableColumns:e.reorderableColumns})},Hl=function(D,z,pe,Te){var $e=ve(),Pe=D.rows,Be=D.columns,He=D.contentRef,St=D.className;D.itemSize;var Dt=e.frozenValue&&d.createElement(D_,{ref:Pt,value:e.frozenValue,className:"p-datatable-frozen-tbody",frozenRow:!0,tableProps:e,tableSelector:ie,columns:Be,selectionModeInColumn:z,first:$e,editingMeta:U,onEditingMetaChange:cn,tabIndex:e.tabIndex,onRowClick:e.onRowClick,onRowDoubleClick:e.onRowDoubleClick,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave,onCellClick:e.onCellClick,selection:e.selection,onSelectionChange:e.onSelectionChange,lazy:e.lazy,paginator:e.paginator,onCellSelect:e.onCellSelect,onCellUnselect:e.onCellUnselect,onRowSelect:e.onRowSelect,onRowUnselect:e.onRowUnselect,dragSelection:e.dragSelection,onContextMenu:e.onContextMenu,onContextMenuSelectionChange:e.onContextMenuSelectionChange,metaKeySelection:e.metaKeySelection,selectionMode:e.selectionMode,cellSelection:e.cellSelection,contextMenuSelection:e.contextMenuSelection,dataKey:e.dataKey,expandedRows:e.expandedRows,onRowCollapse:e.onRowCollapse,onRowExpand:e.onRowExpand,onRowToggle:e.onRowToggle,editMode:e.editMode,editingRows:e.editingRows,onRowReorder:e.onRowReorder,reorderableRows:e.reorderableRows,scrollable:e.scrollable,rowGroupMode:e.rowGroupMode,groupRowsBy:e.groupRowsBy,expandableRowGroups:e.expandableRowGroups,loading:e.loading,emptyMessage:e.emptyMessage,rowGroupHeaderTemplate:e.rowGroupHeaderTemplate,rowExpansionTemplate:e.rowExpansionTemplate,rowGroupFooterTemplate:e.rowGroupFooterTemplate,onRowEditChange:e.onRowEditChange,compareSelectionBy:e.compareSelectionBy,selectOnEdit:e.selectOnEdit,onRowEditInit:e.onRowEditInit,rowEditValidator:e.rowEditValidator,onRowEditSave:e.onRowEditSave,onRowEditComplete:e.onRowEditComplete,onRowEditCancel:e.onRowEditCancel,cellClassName:e.cellClassName,responsiveLayout:e.responsiveLayout,selectionAutoFocus:e.selectionAutoFocus,isDataSelectable:e.isDataSelectable,showSelectionElement:e.showSelectionElement,showRowReorderElement:e.showRowReorderElement,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,rowClassName:e.rowClassName,virtualScrollerOptions:D,isVirtualScrollerDisabled:!0}),Wn=d.createElement(D_,{ref:Ht,value:wa(Pe),className:St,empty:pe,frozenRow:!1,tableProps:e,tableSelector:ie,columns:Be,selectionModeInColumn:z,first:$e,editingMeta:U,onEditingMetaChange:cn,tabIndex:e.tabIndex,onRowClick:e.onRowClick,onRowDoubleClick:e.onRowDoubleClick,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave,onCellClick:e.onCellClick,selection:e.selection,onSelectionChange:e.onSelectionChange,lazy:e.lazy,paginator:e.paginator,onCellSelect:e.onCellSelect,onCellUnselect:e.onCellUnselect,onRowSelect:e.onRowSelect,onRowUnselect:e.onRowUnselect,dragSelection:e.dragSelection,onContextMenu:e.onContextMenu,onContextMenuSelectionChange:e.onContextMenuSelectionChange,metaKeySelection:e.metaKeySelection,selectionMode:e.selectionMode,cellSelection:e.cellSelection,contextMenuSelection:e.contextMenuSelection,dataKey:e.dataKey,expandedRows:e.expandedRows,onRowCollapse:e.onRowCollapse,onRowExpand:e.onRowExpand,onRowToggle:e.onRowToggle,editMode:e.editMode,editingRows:e.editingRows,onRowReorder:e.onRowReorder,reorderableRows:e.reorderableRows,scrollable:e.scrollable,rowGroupMode:e.rowGroupMode,groupRowsBy:e.groupRowsBy,expandableRowGroups:e.expandableRowGroups,loading:e.loading,emptyMessage:e.emptyMessage,rowGroupHeaderTemplate:e.rowGroupHeaderTemplate,rowExpansionTemplate:e.rowExpansionTemplate,rowGroupFooterTemplate:e.rowGroupFooterTemplate,onRowEditChange:e.onRowEditChange,compareSelectionBy:e.compareSelectionBy,selectOnEdit:e.selectOnEdit,onRowEditInit:e.onRowEditInit,rowEditValidator:e.rowEditValidator,onRowEditSave:e.onRowEditSave,onRowEditComplete:e.onRowEditComplete,onRowEditCancel:e.onRowEditCancel,cellClassName:e.cellClassName,responsiveLayout:e.responsiveLayout,selectionAutoFocus:e.selectionAutoFocus,isDataSelectable:e.isDataSelectable,showSelectionElement:e.showSelectionElement,showRowReorderElement:e.showRowReorderElement,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,rowClassName:e.rowClassName,virtualScrollerContentRef:He,virtualScrollerOptions:D,isVirtualScrollerDisabled:Te});return d.createElement(d.Fragment,null,Dt,Wn)},_y=function(D){var z=D.columns;return d.createElement(Vx,{tableProps:e,columns:z,footerColumnGroup:e.footerColumnGroup})},Gh=function(D,z,pe,Te){if(z){var $e=G(),Pe=e.virtualScrollerOptions||{};return d.createElement("div",{ref:kt,className:"p-datatable-wrapper",style:{maxHeight:$e?e.scrollHeight:null}},d.createElement(fh,Nf({ref:Vt},Pe,{items:D,columns:z,style:Ca(Ca({},Pe.style),{height:e.scrollHeight!=="flex"?e.scrollHeight:void 0}),scrollHeight:e.scrollHeight!=="flex"?void 0:"100%",disabled:$e,loaderDisabled:!0,showSpacer:!1,contentTemplate:function(He){var St=function(Gl){It.current=Gl,He.spacerRef&&He.spacerRef(Gl)},Dt=Ge("p-datatable-table",e.tableClassName),Wn=po(He,Te),fn=Hl(He,pe,Te,$e),Kt=_y(He);return d.createElement("table",{ref:St,style:e.tableStyle,className:Dt,role:"table"},Wn,fn,Kt)}})))}},Sy=function(){if(e.footer){var D=W.getJSXElement(e.footer,{props:e});return d.createElement("div",{className:"p-datatable-footer"},D)}return null},Wl=function(D,z){var pe=Ge("p-paginator-"+D,e.paginatorClassName);return d.createElement(ip,{first:ve(),rows:Ae(),pageLinkSize:e.pageLinkSize,className:pe,onPageChange:zc,template:e.paginatorTemplate,totalRecords:z,rowsPerPageOptions:e.rowsPerPageOptions,currentPageReportTemplate:e.currentPageReportTemplate,leftContent:e.paginatorLeft,rightContent:e.paginatorRight,alwaysShow:e.alwaysShowPaginator,dropdownAppendTo:e.paginatorDropdownAppendTo})},qh=function(D){return e.paginator&&e.paginatorPosition!=="bottom"?Wl("top",D):null},by=function(D){return e.paginator&&e.paginatorPosition!=="top"?Wl("bottom",D):null},Yh=function(){return e.resizableColumns?d.createElement("div",{ref:me,className:"p-column-resizer-helper",style:{display:"none"}}):null},Qh=function(){if(e.reorderableColumns){var D={position:"absolute",display:"none"};return d.createElement(d.Fragment,null,d.createElement("span",{ref:$,className:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:D}),d.createElement("span",{ref:De,className:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:D}))}return null},Kl=Jn(),qc=J(),Yc=Rt(Kl),Xh=W.isEmpty(Kl),Jh=dn(qc),Qc=e.selectionMode||Jh,Zh=W.findDiffKeys(e,Tc.defaultProps),Cy=Ge("p-datatable p-component",{"p-datatable-hoverable-rows":e.rowHover,"p-datatable-selectable":Qc&&!e.cellSelection,"p-datatable-selectable-cell":Qc&&e.cellSelection,"p-datatable-auto-layout":e.autoLayout,"p-datatable-resizable":e.resizableColumns,"p-datatable-resizable-fit":e.resizableColumns&&e.columnResizeMode==="fit","p-datatable-scrollable":e.scrollable,"p-datatable-scrollable-vertical":e.scrollable&&e.scrollDirection==="vertical","p-datatable-scrollable-horizontal":e.scrollable&&e.scrollDirection==="horizontal","p-datatable-scrollable-both":e.scrollable&&e.scrollDirection==="both","p-datatable-flex-scrollable":e.scrollable&&e.scrollHeight==="flex","p-datatable-responsive-stack":e.responsiveLayout==="stack","p-datatable-responsive-scroll":e.responsiveLayout==="scroll","p-datatable-striped":e.stripedRows,"p-datatable-gridlines":e.showGridlines,"p-datatable-grouped-header":e.headerColumnGroup!=null,"p-datatable-grouped-footer":e.footerColumnGroup!=null,"p-datatable-sm":e.size==="small","p-datatable-lg":e.size==="large"},e.className),Ty=wy(),Iy=Ey(),Ry=qh(Yc),ky=Gh(Kl,qc,Jh,Xh),Dy=by(Yc),Ay=Sy(),Ny=Yh(),Oy=Qh();return d.createElement("div",Nf({ref:mt,id:e.id,className:Cy,style:e.style},Zh,{"data-scrollselectors":".p-datatable-wrapper"}),Ty,Iy,Ry,ky,Dy,Ay,Ny,Oy)});Tc.displayName="DataTable";Tc.defaultProps={__TYPE:"DataTable",alwaysShowPaginator:!0,autoLayout:!1,breakpoint:"960px",cellClassName:null,cellSelection:!1,className:null,collapsedRowIcon:"pi pi-chevron-right",columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:"cell",editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:"pi pi-chevron-down",expandedRows:null,exportFilename:"download",exportFunction:null,filterDelay:300,filterDisplay:"menu",filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:Fn.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:"pi pi-spinner",metaKeySelection:!0,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"stack",rowClassName:null,rowEditValidator:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollDirection:"vertical",scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null};var Vn=function(){};Vn.displayName="Column";Vn.defaultProps={__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:"pi pi-bars",rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=function(e,t){if(!e)throw Ic(t)},Ic=function(e){return new Error("Firebase Database ("+Hx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},y9=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,v=u&63;l||(v=64,a||(h=64)),r.push(n[c],n[f],n[h],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Wx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):y9(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new w9;const h=o<<2|s>>4;if(r.push(h),u!==64){const v=s<<4&240|u>>2;if(r.push(v),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class w9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kx=function(e){const t=Wx(e);return b0.encodeByteArray(t,!0)},Yg=function(e){return Kx(e).replace(/\./g,"")},Qg=function(e){try{return b0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(e){return Gx(void 0,e)}function Gx(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!_9(n)||(e[n]=Gx(e[n],t[n]));return e}function _9(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=()=>S9().__FIREBASE_DEFAULTS__,C9=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},T9=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qg(e[1]);return t&&JSON.parse(t)},C0=()=>{try{return b9()||C9()||T9()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qx=e=>{var t,n;return(n=(t=C0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},I9=e=>{const t=qx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yx=()=>{var e;return(e=C0())===null||e===void 0?void 0:e.config},Qx=e=>{var t;return(t=C0())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[Yg(JSON.stringify(n)),Yg(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function Xx(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Jx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k9(){const e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zx(){return Hx.NODE_ADMIN===!0}function eM(){try{return typeof indexedDB=="object"}catch{return!1}}function tM(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function D9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="FirebaseError";class mo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=A9,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?N9(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new mo(i,s,r)}}function N9(e,t){return e.replace(O9,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const O9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(e){return JSON.parse(e)}function vr(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=xf(Qg(o[0])||""),n=xf(Qg(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},x9=function(e){const t=nM(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},M9=function(e){const t=nM(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function A_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xg(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jg(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(oR(o)&&oR(a)){if(!Jg(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oR(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)r[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],s=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=s^o&(a^s),c=1518500249):(u=o^a^s,c=1859775393):f<60?(u=o&a|s&(o|a),c=2400959708):(u=o^a^s,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=s,s=a,a=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=t[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function L9(e,t){const n=new $9(e,t);return n.subscribe.bind(n)}class $9{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F9(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Aw),i.error===void 0&&(i.error=Aw),i.complete===void 0&&(i.complete=Aw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F9(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Aw(){}function j9(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Ke(r<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},op=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=1e3,B9=2,z9=4*60*60*1e3,H9=.5;function aR(e,t=V9,n=B9){const r=t*Math.pow(n,e),i=Math.round(H9*r*(Math.random()-.5)*2);return Math.min(z9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e){return e&&e._delegate?e._delegate:e}class Vi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new T0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(G9(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K9(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K9(e){return e===xs?void 0:e}function G9(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new W9(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const Y9={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Q9=Bt.INFO,X9={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},J9=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=X9[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hh{constructor(t){this.name=t,this._logLevel=Q9,this._logHandler=J9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Y9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const Z9=(e,t)=>t.some(n=>e instanceof n);let sR,lR;function e6(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t6(){return lR||(lR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rM=new WeakMap,N_=new WeakMap,iM=new WeakMap,Nw=new WeakMap,R0=new WeakMap;function n6(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(Ya(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&rM.set(n,e)}).catch(()=>{}),R0.set(t,e),t}function r6(e){if(N_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});N_.set(e,t)}let O_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return N_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||iM.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function i6(e){O_=e(O_)}function o6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ow(this),t,...n);return iM.set(r,t.sort?t.sort():[t]),Ya(r)}:t6().includes(e)?function(...t){return e.apply(Ow(this),t),Ya(rM.get(this))}:function(...t){return Ya(e.apply(Ow(this),t))}}function a6(e){return typeof e=="function"?o6(e):(e instanceof IDBTransaction&&r6(e),Z9(e,e6())?new Proxy(e,O_):e)}function Ya(e){if(e instanceof IDBRequest)return n6(e);if(Nw.has(e))return Nw.get(e);const t=a6(e);return t!==e&&(Nw.set(e,t),R0.set(t,e)),t}const Ow=e=>R0.get(e);function s6(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Ya(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ya(a.result),l.oldVersion,l.newVersion,Ya(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const l6=["get","getKey","getAll","getAllKeys","count"],u6=["put","add","delete","clear"],xw=new Map;function uR(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(xw.get(t))return xw.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=u6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l6.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return xw.set(t,o),o}i6(e=>({...e,get:(t,n,r)=>uR(t,n)||e.get(t,n,r),has:(t,n)=>!!uR(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d6(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const x_="@firebase/app",cR="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new hh("@firebase/app"),f6="@firebase/app-compat",h6="@firebase/analytics-compat",m6="@firebase/analytics",g6="@firebase/app-check-compat",v6="@firebase/app-check",p6="@firebase/auth",y6="@firebase/auth-compat",w6="@firebase/database",E6="@firebase/database-compat",_6="@firebase/functions",S6="@firebase/functions-compat",b6="@firebase/installations",C6="@firebase/installations-compat",T6="@firebase/messaging",I6="@firebase/messaging-compat",R6="@firebase/performance",k6="@firebase/performance-compat",D6="@firebase/remote-config",A6="@firebase/remote-config-compat",N6="@firebase/storage",O6="@firebase/storage-compat",x6="@firebase/firestore",M6="@firebase/firestore-compat",P6="firebase",L6="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="[DEFAULT]",$6={[x_]:"fire-core",[f6]:"fire-core-compat",[m6]:"fire-analytics",[h6]:"fire-analytics-compat",[v6]:"fire-app-check",[g6]:"fire-app-check-compat",[p6]:"fire-auth",[y6]:"fire-auth-compat",[w6]:"fire-rtdb",[E6]:"fire-rtdb-compat",[_6]:"fire-fn",[S6]:"fire-fn-compat",[b6]:"fire-iid",[C6]:"fire-iid-compat",[T6]:"fire-fcm",[I6]:"fire-fcm-compat",[R6]:"fire-perf",[k6]:"fire-perf-compat",[D6]:"fire-rc",[A6]:"fire-rc-compat",[N6]:"fire-gcs",[O6]:"fire-gcs-compat",[x6]:"fire-fst",[M6]:"fire-fst-compat","fire-js":"fire-js",[P6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new Map,P_=new Map;function F6(e,t){try{e.container.addComponent(t)}catch(n){ul.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function uo(e){const t=e.name;if(P_.has(t))return ul.debug(`There were multiple attempts to register component ${t}.`),!1;P_.set(t,e);for(const n of Zg.values())F6(n,e);return!0}function mh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qa=new kl("app","Firebase",j6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=L6;function oM(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:M_,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=Yx()),!n)throw Qa.create("no-options");const o=Zg.get(i);if(o){if(Jg(n,o.options)&&Jg(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const a=new q9(i);for(const l of P_.values())a.addComponent(l);const s=new U6(n,r,a);return Zg.set(i,s),s}function aM(e=M_){const t=Zg.get(e);if(!t&&e===M_&&Yx())return oM();if(!t)throw Qa.create("no-app",{appName:e});return t}function ii(e,t,n){var r;let i=(r=$6[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ul.warn(s.join(" "));return}uo(new Vi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="firebase-heartbeat-database",B6=1,Mf="firebase-heartbeat-store";let Mw=null;function sM(){return Mw||(Mw=s6(V6,B6,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Mf)}}}).catch(e=>{throw Qa.create("idb-open",{originalErrorMessage:e.message})})),Mw}async function z6(e){try{return await(await sM()).transaction(Mf).objectStore(Mf).get(lM(e))}catch(t){if(t instanceof mo)ul.warn(t.message);else{const n=Qa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ul.warn(n.message)}}}async function dR(e,t){try{const r=(await sM()).transaction(Mf,"readwrite");await r.objectStore(Mf).put(t,lM(e)),await r.done}catch(n){if(n instanceof mo)ul.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ul.warn(r.message)}}}function lM(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=1024,W6=30*24*60*60*1e3;class K6{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fR();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=W6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fR(),{heartbeatsToSend:n,unsentEntries:r}=G6(this._heartbeatsCache.heartbeats),i=Yg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fR(){return new Date().toISOString().substring(0,10)}function G6(e,t=H6){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),hR(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hR(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eM()?tM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await z6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dR(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function hR(e){return Yg(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(e){uo(new Vi("platform-logger",t=>new c6(t),"PRIVATE")),uo(new Vi("heartbeat",t=>new K6(t),"PRIVATE")),ii(x_,cR,e),ii(x_,cR,"esm2017"),ii("fire-js","")}Y6("");var Q6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qe,k0=k0||{},pt=Q6||self;function ev(){}function ap(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function gh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function X6(e){return Object.prototype.hasOwnProperty.call(e,Pw)&&e[Pw]||(e[Pw]=++J6)}var Pw="closure_uid_"+(1e9*Math.random()>>>0),J6=0;function Z6(e,t,n){return e.call.apply(e.bind,arguments)}function e5(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Or(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Or=Z6:Or=e5,Or.apply(null,arguments)}function Dm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function lr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[i].apply(r,a)}}function _s(){this.s=this.s,this.o=this.o}var t5=0;_s.prototype.s=!1;_s.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),t5!=0)&&X6(this)};_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function D0(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function mR(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ap(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function xr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var n5=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pt.addEventListener("test",ev,t),pt.removeEventListener("test",ev,t)}catch{}return e}();function tv(e){return/^[\s\xa0]*$/.test(e)}var gR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lw(e,t){return e<t?-1:e>t?1:0}function sp(){var e=pt.navigator;return e&&(e=e.userAgent)?e:""}function bo(e){return sp().indexOf(e)!=-1}function A0(e){return A0[" "](e),e}A0[" "]=ev;function cM(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}var r5=bo("Opera"),ic=bo("Trident")||bo("MSIE"),dM=bo("Edge"),L_=dM||ic,fM=bo("Gecko")&&!(sp().toLowerCase().indexOf("webkit")!=-1&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),i5=sp().toLowerCase().indexOf("webkit")!=-1&&!bo("Edge");function hM(){var e=pt.document;return e?e.documentMode:void 0}var nv;e:{var $w="",Fw=function(){var e=sp();if(fM)return/rv:([^\);]+)(\)|;)/.exec(e);if(dM)return/Edge\/([\d\.]+)/.exec(e);if(ic)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(i5)return/WebKit\/(\S+)/.exec(e);if(r5)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Fw&&($w=Fw?Fw[1]:""),ic){var jw=hM();if(jw!=null&&jw>parseFloat($w)){nv=String(jw);break e}}nv=$w}var o5={};function a5(){return cM(o5,9,function(){let e=0;const t=gR(String(nv)).split("."),n=gR("9").split("."),r=Math.max(t.length,n.length);for(let a=0;e==0&&a<r;a++){var i=t[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;e=Lw(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Lw(i[2].length==0,o[2].length==0)||Lw(i[2],o[2]),i=i[3],o=o[3]}while(e==0)}return 0<=e})}var $_;if(pt.document&&ic){var vR=hM();$_=vR||parseInt(nv,10)||void 0}else $_=void 0;var s5=$_;function Pf(e,t){if(xr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fM){e:{try{A0(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:l5[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pf.$.h.call(this)}}lr(Pf,xr);var l5={2:"touch",3:"pen",4:"mouse"};Pf.prototype.h=function(){Pf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vh="closure_listenable_"+(1e6*Math.random()|0),u5=0;function c5(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++u5,this.fa=this.ia=!1}function lp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function N0(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function mM(e){const t={};for(const n in e)t[n]=e[n];return t}const pR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gM(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<pR.length;o++)n=pR[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function up(e){this.src=e,this.g={},this.h=0}up.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var a=j_(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new c5(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function F_(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=uM(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(lp(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function j_(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var O0="closure_lm_"+(1e6*Math.random()|0),Uw={};function vM(e,t,n,r,i){if(r&&r.once)return yM(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)vM(e,t[o],n,r,i);return null}return n=P0(n),e&&e[vh]?e.O(t,n,gh(r)?!!r.capture:!!r,i):pM(e,t,n,!1,r,i)}function pM(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=gh(i)?!!i.capture:!!i,s=M0(e);if(s||(e[O0]=s=new up(e)),n=s.add(t,n,r,a,o),n.proxy)return n;if(r=d5(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)n5||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(EM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function d5(){function e(n){return t.call(e.src,e.listener,n)}const t=f5;return e}function yM(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)yM(e,t[o],n,r,i);return null}return n=P0(n),e&&e[vh]?e.P(t,n,gh(r)?!!r.capture:!!r,i):pM(e,t,n,!0,r,i)}function wM(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)wM(e,t[o],n,r,i);else r=gh(r)?!!r.capture:!!r,n=P0(n),e&&e[vh]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=j_(o,n,r,i),-1<n&&(lp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=M0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=j_(t,n,r,i)),(n=-1<e?t[e]:null)&&x0(n))}function x0(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[vh])F_(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(EM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=M0(t))?(F_(n,e),n.h==0&&(n.src=null,t[O0]=null)):lp(e)}}}function EM(e){return e in Uw?Uw[e]:Uw[e]="on"+e}function f5(e,t){if(e.fa)e=!0;else{t=new Pf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&x0(e),e=n.call(r,t)}return e}function M0(e){return e=e[O0],e instanceof up?e:null}var Vw="__closure_events_fn_"+(1e9*Math.random()>>>0);function P0(e){return typeof e=="function"?e:(e[Vw]||(e[Vw]=function(t){return e.handleEvent(t)}),e[Vw])}function sr(){_s.call(this),this.i=new up(this),this.S=this,this.J=null}lr(sr,_s);sr.prototype[vh]=!0;sr.prototype.removeEventListener=function(e,t,n,r){wM(this,e,t,n,r)};function yr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new xr(t,e);else if(t instanceof xr)t.target=t.target||e;else{var i=t;t=new xr(r,e),gM(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Am(a,r,!0,t)&&i}if(a=t.g=e,i=Am(a,r,!0,t)&&i,i=Am(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Am(a,r,!1,t)&&i}sr.prototype.N=function(){if(sr.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)lp(n[r]);delete e.g[t],e.h--}}this.J=null};sr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};sr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Am(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&F_(e.i,a),i=s.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var L0=pt.JSON.stringify;function h5(){var e=bM;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class m5{constructor(){this.h=this.g=null}add(t,n){const r=_M.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _M=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new g5,e=>e.reset());class g5{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function v5(e){pt.setTimeout(()=>{throw e},0)}function SM(e,t){U_||p5(),V_||(U_(),V_=!0),bM.add(e,t)}var U_;function p5(){var e=pt.Promise.resolve(void 0);U_=function(){e.then(y5)}}var V_=!1,bM=new m5;function y5(){for(var e;e=h5();){try{e.h.call(e.g)}catch(n){v5(n)}var t=_M;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}V_=!1}function cp(e,t){sr.call(this),this.h=e||1,this.g=t||pt,this.j=Or(this.qb,this),this.l=Date.now()}lr(cp,sr);Qe=cp.prototype;Qe.ga=!1;Qe.T=null;Qe.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yr(this,"tick"),this.ga&&($0(this),this.start()))}};Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $0(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Qe.N=function(){cp.$.N.call(this),$0(this),delete this.g};function F0(e,t,n){if(typeof e=="function")n&&(e=Or(e,n));else if(e&&typeof e.handleEvent=="function")e=Or(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pt.setTimeout(e,t||0)}function CM(e){e.g=F0(()=>{e.g=null,e.i&&(e.i=!1,CM(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class w5 extends _s{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:CM(this)}N(){super.N(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lf(e){_s.call(this),this.h=e,this.g={}}lr(Lf,_s);var yR=[];function TM(e,t,n,r){Array.isArray(n)||(n&&(yR[0]=n.toString()),n=yR);for(var i=0;i<n.length;i++){var o=vM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function IM(e){N0(e.g,function(t,n){this.g.hasOwnProperty(n)&&x0(t)},e),e.g={}}Lf.prototype.N=function(){Lf.$.N.call(this),IM(this)};Lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dp(){this.g=!0}dp.prototype.Ea=function(){this.g=!1};function E5(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");a=2<=f.length&&f[1]=="type"?a+(c+"="+u+"&"):a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function _5(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+a})}function bu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+b5(e,n)+(r?" "+r:"")})}function S5(e,t){e.info(function(){return"TIMEOUT: "+t})}dp.prototype.info=function(){};function b5(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return L0(n)}catch{return t}}var Al={},wR=null;function fp(){return wR=wR||new sr}Al.Ta="serverreachability";function RM(e){xr.call(this,Al.Ta,e)}lr(RM,xr);function $f(e){const t=fp();yr(t,new RM(t))}Al.STAT_EVENT="statevent";function kM(e,t){xr.call(this,Al.STAT_EVENT,e),this.stat=t}lr(kM,xr);function Br(e){const t=fp();yr(t,new kM(t,e))}Al.Ua="timingevent";function DM(e,t){xr.call(this,Al.Ua,e),this.size=t}lr(DM,xr);function ph(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){e()},t)}var hp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function j0(){}j0.prototype.h=null;function ER(e){return e.h||(e.h=e.i())}function NM(){}var yh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function U0(){xr.call(this,"d")}lr(U0,xr);function V0(){xr.call(this,"c")}lr(V0,xr);var B_;function mp(){}lr(mp,j0);mp.prototype.g=function(){return new XMLHttpRequest};mp.prototype.i=function(){return{}};B_=new mp;function wh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Lf(this),this.P=C5,e=L_?125:void 0,this.V=new cp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new OM}function OM(){this.i=null,this.g="",this.h=!1}var C5=45e3,z_={},rv={};Qe=wh.prototype;Qe.setTimeout=function(e){this.P=e};function H_(e,t,n){e.L=1,e.v=vp(sa(t)),e.s=n,e.S=!0,xM(e,null)}function xM(e,t){e.G=Date.now(),Eh(e),e.A=sa(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),VM(n.i,"t",r),e.C=0,n=e.l.I,e.h=new OM,e.g=lP(e.l,n?t:null,!e.s),0<e.O&&(e.M=new w5(Or(e.Pa,e,e.g),e.O)),TM(e.U,e.g,"readystatechange",e.nb),t=e.I?mM(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$f(),E5(e.j,e.u,e.A,e.m,e.W,e.s)}Qe.nb=function(e){e=e.target;const t=this.M;t&&Ko(e)==3?t.l():this.Pa(e)};Qe.Pa=function(e){try{if(e==this.g)e:{const c=Ko(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||L_||this.g&&(this.h.h||this.g.ja()||CR(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?$f(3):$f(2)),gp(this);var n=this.g.da();this.aa=n;t:if(MM(this)){var r=CR(this.g);e="";var i=r.length,o=Ko(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),Kd(this);var a="";break t}this.h.i=new pt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,_5(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tv(s)){var u=s;break t}}u=null}if(n=u)bu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,W_(this,n);else{this.i=!1,this.o=3,Br(12),zs(this),Kd(this);break e}}this.S?(PM(this,c,a),L_&&this.i&&c==3&&(TM(this.U,this.V,"tick",this.mb),this.V.start())):(bu(this.j,this.m,a,null),W_(this,a)),c==4&&zs(this),this.i&&!this.J&&(c==4?iP(this.l,this):(this.i=!1,Eh(this)))}else n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),zs(this),Kd(this)}}}catch{}finally{}};function MM(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function PM(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=T5(e,n),i==rv){t==4&&(e.o=4,Br(14),r=!1),bu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==z_){e.o=4,Br(15),bu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else bu(e.j,e.m,i,null),W_(e,i);MM(e)&&i!=rv&&i!=z_&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Br(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ca&&(e.ca=!0,t=e.l,t.g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),q0(t),t.L=!0,Br(11))):(bu(e.j,e.m,n,"[Invalid Chunked Response]"),zs(e),Kd(e))}Qe.mb=function(){if(this.g){var e=Ko(this.g),t=this.g.ja();this.C<t.length&&(gp(this),PM(this,e,t),this.i&&e!=4&&Eh(this))}};function T5(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?rv:(n=Number(t.substring(n,r)),isNaN(n)?z_:(r+=1,r+n>t.length?rv:(t=t.substr(r,n),e.C=r+n,t)))}Qe.cancel=function(){this.J=!0,zs(this)};function Eh(e){e.Y=Date.now()+e.P,LM(e,e.P)}function LM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ph(Or(e.lb,e),t)}function gp(e){e.B&&(pt.clearTimeout(e.B),e.B=null)}Qe.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(S5(this.j,this.A),this.L!=2&&($f(),Br(17)),zs(this),this.o=2,Kd(this)):LM(this,this.Y-e)};function Kd(e){e.l.H==0||e.J||iP(e.l,e)}function zs(e){gp(e);var t=e.M;t&&typeof t.ra=="function"&&t.ra(),e.M=null,$0(e.V),IM(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function W_(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||K_(n.h,e))){if(!e.K&&K_(n.h,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)av(n),wp(n);else break e;G0(n),Br(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=ph(Or(n.ib,n),6e3));if(1>=HM(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Hs(n,11)}else if((e.K||n.g==e)&&av(n),!tv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const f=u[4];f!=null&&(n.Ga=f,n.j.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=e.g;if(v){const _=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.h;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(B0(o,o.h),o.h=null))}if(r.F){const E=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Cn(r.G,r.F,E))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var a=e;if(r.wa=sP(r,r.I?r.oa:null,r.Y),a.K){WM(r.h,a);var s=a,l=r.K;l&&s.setTimeout(l),s.B&&(gp(s),Eh(s)),r.g=a}else nP(r);0<n.i.length&&Ep(n)}else u[0]!="stop"&&u[0]!="close"||Hs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Hs(n,7):K0(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}$f(4)}catch{}}function I5(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ap(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function R5(e){if(e.sa&&typeof e.sa=="function")return e.sa();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ap(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function $M(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ap(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=R5(e),r=I5(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var FM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k5(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xs(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xs){this.h=t!==void 0?t:e.h,iv(this,e.j),this.s=e.s,this.g=e.g,ov(this,e.m),this.l=e.l,t=e.i;var n=new Ff;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_R(this,n),this.o=e.o}else e&&(n=String(e).match(FM))?(this.h=!!t,iv(this,n[1]||"",!0),this.s=Id(n[2]||""),this.g=Id(n[3]||"",!0),ov(this,n[4]),this.l=Id(n[5]||"",!0),_R(this,n[6]||"",!0),this.o=Id(n[7]||"")):(this.h=!!t,this.i=new Ff(null,this.h))}Xs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rd(t,SR,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Rd(t,SR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Rd(n,n.charAt(0)=="/"?N5:A5,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rd(n,x5)),e.join("")};function sa(e){return new Xs(e)}function iv(e,t,n){e.j=n?Id(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ov(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _R(e,t,n){t instanceof Ff?(e.i=t,M5(e.i,e.h)):(n||(t=Rd(t,O5)),e.i=new Ff(t,e.h))}function Cn(e,t,n){e.i.set(t,n)}function vp(e){return Cn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Id(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rd(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,D5),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function D5(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var SR=/[#\/\?@]/g,A5=/[#\?:]/g,N5=/[#\?]/g,O5=/[#\?@]/g,x5=/#/g;function Ff(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ss(e){e.g||(e.g=new Map,e.h=0,e.i&&k5(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Qe=Ff.prototype;Qe.add=function(e,t){Ss(this),this.i=null,e=kc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function jM(e,t){Ss(e),t=kc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function UM(e,t){return Ss(e),t=kc(e,t),e.g.has(t)}Qe.forEach=function(e,t){Ss(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Qe.sa=function(){Ss(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};Qe.Z=function(e){Ss(this);let t=[];if(typeof e=="string")UM(this,e)&&(t=t.concat(this.g.get(kc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Qe.set=function(e,t){return Ss(this),this.i=null,e=kc(this,e),UM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Qe.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function VM(e,t,n){jM(e,t),0<n.length&&(e.i=null,e.g.set(kc(e,t),D0(n)),e.h+=n.length)}Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};function kc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function M5(e,t){t&&!e.j&&(Ss(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jM(this,r),VM(this,i,n))},e)),e.j=t}var P5=class{constructor(e,t){this.h=e,this.g=t}};function BM(e){this.l=e||L5,pt.PerformanceNavigationTiming?(e=pt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(pt.g&&pt.g.Ka&&pt.g.Ka()&&pt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L5=10;function zM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function HM(e){return e.h?1:e.g?e.g.size:0}function K_(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function B0(e,t){e.g?e.g.add(t):e.h=t}function WM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}BM.prototype.cancel=function(){if(this.i=KM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function KM(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return D0(e.i)}function z0(){}z0.prototype.stringify=function(e){return pt.JSON.stringify(e,void 0)};z0.prototype.parse=function(e){return pt.JSON.parse(e,void 0)};function $5(){this.g=new z0}function F5(e,t,n){const r=n||"";try{$M(e,function(i,o){let a=i;gh(i)&&(a=L0(i)),t.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function j5(e,t){const n=new dp;if(pt.Image){const r=new Image;r.onload=Dm(Nm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Dm(Nm,n,r,"TestLoadImage: error",!1,t),r.onabort=Dm(Nm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dm(Nm,n,r,"TestLoadImage: timeout",!1,t),pt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Nm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function _h(e){this.l=e.fc||null,this.j=e.ob||!1}lr(_h,j0);_h.prototype.g=function(){return new pp(this.l,this.j)};_h.prototype.i=function(e){return function(){return e}}({});function pp(e,t){sr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=H0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lr(pp,sr);var H0=0;Qe=pp.prototype;Qe.open=function(e,t){if(this.readyState!=H0)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jf(this)};Qe.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||pt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sh(this)),this.readyState=H0};Qe.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GM(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function GM(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Qe.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sh(this):jf(this),this.readyState==3&&GM(this)}};Qe.Za=function(e){this.g&&(this.response=this.responseText=e,Sh(this))};Qe.Ya=function(e){this.g&&(this.response=e,Sh(this))};Qe.ka=function(){this.g&&Sh(this)};function Sh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jf(e)}Qe.setRequestHeader=function(e,t){this.v.append(e,t)};Qe.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Qe.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function jf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var U5=pt.JSON.parse;function Mn(e){sr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qM,this.L=this.M=!1}lr(Mn,sr);var qM="",V5=/^https?$/i,B5=["POST","PUT"];Qe=Mn.prototype;Qe.Oa=function(e){this.M=e};Qe.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():B_.g(),this.C=this.u?ER(this.u):ER(B_),this.g.onreadystatechange=Or(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){bR(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=pt.FormData&&e instanceof pt.FormData,!(0<=uM(B5,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XM(this),0<this.B&&((this.L=z5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.ua,this)):this.A=F0(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){bR(this,o)}};function z5(e){return ic&&a5()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Qe.ua=function(){typeof k0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))};function bR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,YM(e),yp(e)}function YM(e){e.F||(e.F=!0,yr(e,"complete"),yr(e,"error"))}Qe.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yr(this,"complete"),yr(this,"abort"),yp(this))};Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yp(this,!0)),Mn.$.N.call(this)};Qe.La=function(){this.s||(this.G||this.v||this.l?QM(this):this.kb())};Qe.kb=function(){QM(this)};function QM(e){if(e.h&&typeof k0<"u"&&(!e.C[1]||Ko(e)!=4||e.da()!=2)){if(e.v&&Ko(e)==4)F0(e.La,0,e);else if(yr(e,"readystatechange"),Ko(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(FM)[1]||null;if(!i&&pt.self&&pt.self.location){var o=pt.self.location.protocol;i=o.substr(0,o.length-1)}r=!V5.test(i?i.toLowerCase():"")}n=r}if(n)yr(e,"complete"),yr(e,"success");else{e.m=6;try{var a=2<Ko(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.da()+"]",YM(e)}}finally{yp(e)}}}}function yp(e,t){if(e.g){XM(e);const n=e.g,r=e.C[0]?ev:null;e.g=null,e.C=null,t||yr(e,"ready");try{n.onreadystatechange=r}catch{}}}function XM(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(pt.clearTimeout(e.A),e.A=null)}function Ko(e){return e.g?e.g.readyState:0}Qe.da=function(){try{return 2<Ko(this)?this.g.status:-1}catch{return-1}};Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Qe.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),U5(t)}};function CR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Qe.Ia=function(){return this.m};Qe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function JM(e){let t="";return N0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function W0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Cn(e,t,n))}function dd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ZM(e){this.Ga=0,this.i=[],this.j=new dp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dd("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dd("baseRetryDelayMs",5e3,e),this.hb=dd("retryDelaySeedMs",1e4,e),this.eb=dd("forwardChannelMaxRetries",2,e),this.xa=dd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new BM(e&&e.concurrentRequestLimit),this.Ja=new $5,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}Qe=ZM.prototype;Qe.qa=8;Qe.H=1;function K0(e){if(eP(e),e.H==3){var t=e.W++,n=sa(e.G);Cn(n,"SID",e.J),Cn(n,"RID",t),Cn(n,"TYPE","terminate"),bh(e,n),t=new wh(e,e.j,t,void 0),t.L=2,t.v=vp(sa(n)),n=!1,pt.navigator&&pt.navigator.sendBeacon&&(n=pt.navigator.sendBeacon(t.v.toString(),"")),!n&&pt.Image&&(new Image().src=t.v,n=!0),n||(t.g=lP(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Eh(t)}aP(e)}function wp(e){e.g&&(q0(e),e.g.cancel(),e.g=null)}function eP(e){wp(e),e.u&&(pt.clearTimeout(e.u),e.u=null),av(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&pt.clearTimeout(e.m),e.m=null)}function Ep(e){zM(e.h)||e.m||(e.m=!0,SM(e.Na,e),e.C=0)}function H5(e,t){return HM(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.F.concat(e.i),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ph(Or(e.Na,e,t),oP(e,e.C)),e.C++,!0)}Qe.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new wh(this,this.j,e,void 0);let o=this.s;if(this.U&&(o?(o=mM(o),gM(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tP(this,i,t),n=sa(this.G),Cn(n,"RID",e),Cn(n,"CVER",22),this.F&&Cn(n,"X-HTTP-Session-Id",this.F),bh(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(JM(o)))+"&"+t:this.o&&W0(n,this.o,o)),B0(this.h,i),this.bb&&Cn(n,"TYPE","init"),this.P?(Cn(n,"$req",t),Cn(n,"SID","null"),i.ba=!0,H_(i,n,null)):H_(i,n,t),this.H=2}}else this.H==3&&(e?TR(this,e):this.i.length==0||zM(this.h)||TR(this))};function TR(e,t){var n;t?n=t.m:n=e.W++;const r=sa(e.G);Cn(r,"SID",e.J),Cn(r,"RID",n),Cn(r,"AID",e.V),bh(e,r),e.o&&e.s&&W0(r,e.o,e.s),n=new wh(e,e.j,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=tP(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),B0(e.h,n),H_(n,r,t)}function bh(e,t){e.ma&&N0(e.ma,function(n,r){Cn(t,r,n)}),e.l&&$M({},function(n,r){Cn(t,r,n)})}function tP(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Or(e.l.Va,e.l,e):null;e:{var i=e.i;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let s=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),s=!1;else try{F5(c,a,"req"+u+"_")}catch{r&&r(c)}}if(s){r=a.join("&");break e}}}return e=e.i.splice(0,n),t.F=e,r}function nP(e){e.g||e.u||(e.ba=1,SM(e.Ma,e),e.A=0)}function G0(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ph(Or(e.Ma,e),oP(e,e.A)),e.A++,!0)}Qe.Ma=function(){if(this.u=null,rP(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=ph(Or(this.jb,this),e)}};Qe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Br(10),wp(this),rP(this))};function q0(e){e.B!=null&&(pt.clearTimeout(e.B),e.B=null)}function rP(e){e.g=new wh(e,e.j,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=sa(e.wa);Cn(t,"RID","rpc"),Cn(t,"SID",e.J),Cn(t,"CI",e.M?"0":"1"),Cn(t,"AID",e.V),Cn(t,"TYPE","xmlhttp"),bh(e,t),e.o&&e.s&&W0(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=vp(sa(t)),n.s=null,n.S=!0,xM(n,e)}Qe.ib=function(){this.v!=null&&(this.v=null,wp(this),G0(this),Br(19))};function av(e){e.v!=null&&(pt.clearTimeout(e.v),e.v=null)}function iP(e,t){var n=null;if(e.g==t){av(e),q0(e),e.g=null;var r=2}else if(K_(e.h,t))n=t.F,WM(e.h,t),r=1;else return;if(e.H!=0){if(e.ta=t.aa,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=fp(),yr(r,new DM(r,n)),Ep(e)}else nP(e);else if(i=t.o,i==3||i==0&&0<e.ta||!(r==1&&H5(e,t)||r==2&&G0(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Hs(e,5);break;case 4:Hs(e,10);break;case 3:Hs(e,6);break;default:Hs(e,2)}}}function oP(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Hs(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=Or(e.pb,e);n||(n=new Xs("//www.google.com/images/cleardot.gif"),pt.location&&pt.location.protocol=="http"||iv(n,"https"),vp(n)),j5(n.toString(),r)}else Br(2);e.H=0,e.l&&e.l.za(t),aP(e),eP(e)}Qe.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))};function aP(e){if(e.H=0,e.pa=[],e.l){const t=KM(e.h);(t.length!=0||e.i.length!=0)&&(mR(e.pa,t),mR(e.pa,e.i),e.h.i.length=0,D0(e.i),e.i.length=0),e.l.ya()}}function sP(e,t,n){var r=n instanceof Xs?sa(n):new Xs(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),ov(r,r.m);else{var i=pt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Xs(null,void 0);r&&iv(o,r),t&&(o.g=t),i&&ov(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Cn(r,n,t),Cn(r,"VER",e.qa),bh(e,r),r}function lP(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Mn(new _h({ob:!0})):new Mn(e.va),t.Oa(e.I),t}function uP(){}Qe=uP.prototype;Qe.Ba=function(){};Qe.Aa=function(){};Qe.za=function(){};Qe.ya=function(){};Qe.Va=function(){};function sv(){if(ic&&!(10<=Number(s5)))throw Error("Environmental error: no available transport.")}sv.prototype.g=function(e,t){return new _i(e,t)};function _i(e,t){sr.call(this),this.g=new ZM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!tv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tv(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Dc(this)}lr(_i,sr);_i.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Br(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=sP(e,null,e.Y),Ep(e)};_i.prototype.close=function(){K0(this.g)};_i.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=L0(e),e=n);t.i.push(new P5(t.fb++,e)),t.H==3&&Ep(t)};_i.prototype.N=function(){this.g.l=null,delete this.j,K0(this.g),delete this.g,_i.$.N.call(this)};function cP(e){U0.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}lr(cP,U0);function dP(){V0.call(this),this.status=1}lr(dP,V0);function Dc(e){this.g=e}lr(Dc,uP);Dc.prototype.Ba=function(){yr(this.g,"a")};Dc.prototype.Aa=function(e){yr(this.g,new cP(e))};Dc.prototype.za=function(e){yr(this.g,new dP)};Dc.prototype.ya=function(){yr(this.g,"b")};function W5(){this.blockSize=-1}function co(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}lr(co,W5);co.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Bw(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(a<<17&4294967295|a>>>15),a=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(a<<16&4294967295|a>>>16),a=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(a<<15&4294967295|a>>>17),a=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}co.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)Bw(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Bw(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Bw(this,r),i=0;break}}this.h=i,this.i+=t};co.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function rn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var K5={};function Y0(e){return-128<=e&&128>e?cM(K5,e,function(t){return new rn([t|0],0>t?-1:0)}):new rn([e|0],0>e?-1:0)}function Co(e){if(isNaN(e)||!isFinite(e))return xu;if(0>e)return gr(Co(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=G_;return new rn(t,0)}function fP(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return gr(fP(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Co(Math.pow(t,8)),r=xu,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),a=parseInt(e.substring(i,i+o),t);8>o?(o=Co(Math.pow(t,o)),r=r.R(o).add(Co(a))):(r=r.R(n),r=r.add(Co(a)))}return r}var G_=4294967296,xu=Y0(0),q_=Y0(1),IR=Y0(16777216);Qe=rn.prototype;Qe.ea=function(){if(Ai(this))return-gr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:G_+r)*t,t*=G_}return e};Qe.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Go(this))return"0";if(Ai(this))return"-"+gr(this).toString(e);for(var t=Co(Math.pow(e,6)),n=this,r="";;){var i=uv(n,t).g;n=lv(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Go(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Qe.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Go(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ai(e){return e.h==-1}Qe.X=function(e){return e=lv(this,e),Ai(e)?-1:Go(e)?0:1};function gr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new rn(n,~e.h).add(q_)}Qe.abs=function(){return Ai(this)?gr(this):this};Qe.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new rn(n,n[n.length-1]&-2147483648?-1:0)};function lv(e,t){return e.add(gr(t))}Qe.R=function(e){if(Go(this)||Go(e))return xu;if(Ai(this))return Ai(e)?gr(this).R(gr(e)):gr(gr(this).R(e));if(Ai(e))return gr(this.R(gr(e)));if(0>this.X(IR)&&0>e.X(IR))return Co(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=this.D(r)&65535,s=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=a*l,Om(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Om(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Om(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Om(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new rn(n,0)};function Om(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function fd(e,t){this.g=e,this.h=t}function uv(e,t){if(Go(t))throw Error("division by zero");if(Go(e))return new fd(xu,xu);if(Ai(e))return t=uv(gr(e),t),new fd(gr(t.g),gr(t.h));if(Ai(t))return t=uv(e,gr(t)),new fd(gr(t.g),t.h);if(30<e.g.length){if(Ai(e)||Ai(t))throw Error("slowDivide_ only works with positive integers.");for(var n=q_,r=t;0>=r.X(e);)n=RR(n),r=RR(r);var i=tu(n,1),o=tu(r,1);for(r=tu(r,2),n=tu(n,2);!Go(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=tu(r,1),n=tu(n,1)}return t=lv(e,i.R(t)),new fd(i,t)}for(i=xu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Co(n),a=o.R(t);Ai(a)||0<a.X(e);)n-=r,o=Co(n),a=o.R(t);Go(o)&&(o=q_),i=i.add(o),e=lv(e,a)}return new fd(i,e)}Qe.gb=function(e){return uv(this,e).h};Qe.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new rn(n,this.h&e.h)};Qe.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new rn(n,this.h|e.h)};Qe.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new rn(n,this.h^e.h)};function RR(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new rn(n,e.h)}function tu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new rn(i,e.h)}sv.prototype.createWebChannel=sv.prototype.g;_i.prototype.send=_i.prototype.u;_i.prototype.open=_i.prototype.m;_i.prototype.close=_i.prototype.close;hp.NO_ERROR=0;hp.TIMEOUT=8;hp.HTTP_ERROR=6;AM.COMPLETE="complete";NM.EventType=yh;yh.OPEN="a";yh.CLOSE="b";yh.ERROR="c";yh.MESSAGE="d";sr.prototype.listen=sr.prototype.O;Mn.prototype.listenOnce=Mn.prototype.P;Mn.prototype.getLastError=Mn.prototype.Sa;Mn.prototype.getLastErrorCode=Mn.prototype.Ia;Mn.prototype.getStatus=Mn.prototype.da;Mn.prototype.getResponseJson=Mn.prototype.Wa;Mn.prototype.getResponseText=Mn.prototype.ja;Mn.prototype.send=Mn.prototype.ha;Mn.prototype.setWithCredentials=Mn.prototype.Oa;co.prototype.digest=co.prototype.l;co.prototype.reset=co.prototype.reset;co.prototype.update=co.prototype.j;rn.prototype.add=rn.prototype.add;rn.prototype.multiply=rn.prototype.R;rn.prototype.modulo=rn.prototype.gb;rn.prototype.compare=rn.prototype.X;rn.prototype.toNumber=rn.prototype.ea;rn.prototype.toString=rn.prototype.toString;rn.prototype.getBits=rn.prototype.D;rn.fromNumber=Co;rn.fromString=fP;var G5=function(){return new sv},q5=function(){return fp()},zw=hp,Y5=AM,Q5=Al,kR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},X5=_h,xm=NM,J5=Mn,Z5=co,Mu=rn;const DR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new hh("@firebase/firestore");function AR(){return cl.logLevel}function it(e,...t){if(cl.logLevel<=Bt.DEBUG){const n=t.map(Q0);cl.debug(`Firestore (${Ac}): ${e}`,...n)}}function la(e,...t){if(cl.logLevel<=Bt.ERROR){const n=t.map(Q0);cl.error(`Firestore (${Ac}): ${e}`,...n)}}function oc(e,...t){if(cl.logLevel<=Bt.WARN){const n=t.map(Q0);cl.warn(`Firestore (${Ac}): ${e}`,...n)}}function Q0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e="Unexpected state"){const t=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: `+e;throw la(t),new Error(t)}function En(e,t){e||gt()}function Ct(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends mo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Cr.UNAUTHENTICATED))}shutdown(){}}class tG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let nG=class{constructor(t){this.t=t,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(En(typeof r.accessToken=="string"),new hP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return En(t===null||typeof t=="string"),new Cr(t)}};class rG{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iG{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new rG(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aG{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=o=>{o.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,it("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(En(typeof n.token=="string"),this.T=n.token,new oG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=sG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Gt(e,t){return e<t?-1:e>t?1:0}function ac(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ot(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qn.fromMillis(Date.now())}static fromDate(t){return Qn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Qn(0,0))}static max(){return new yt(new Qn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n,r){n===void 0?n=0:n>t.length&&gt(),r===void 0?r=t.length-n:r>t.length-n&&gt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Uf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Uf?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Tn extends Uf{construct(t,n,r){return new Tn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const lG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Uf{construct(t,n,r){return new Ar(t,n,r)}static isValidIdentifier(t){return lG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ar(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ot(Ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new ot(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ot(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(n)}static emptyPath(){return new Ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Tn.fromString(t))}static fromName(t){return new ct(Tn.fromString(t).popFirst(5))}static empty(){return new ct(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Tn(t.slice()))}}function uG(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new Qn(n+1,0):new Qn(n,r));return new ss(i,ct.empty(),t)}function cG(e){return new ss(e.readTime,e.key,-1)}class ss{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(yt.min(),ct.empty(),-1)}static max(){return new ss(yt.max(),ct.empty(),-1)}}function dG(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:Gt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(e){if(e.code!==Ne.FAILED_PRECONDITION||e.message!==fG)throw e;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Le((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Le.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Le.reject(n)}static resolve(t){return new Le((n,r)=>{n(t)})}static reject(t){return new Le((n,r)=>{r(t)})}static waitFor(t){return new Le((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(t){let n=Le.resolve(!1);for(const r of t)n=n.next(i=>i?Le.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Le((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(t,n){return new Le((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function Th(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}X0.ct=-1;function _p(e){return e==null}function cv(e){return e===0&&1/e==-1/0}function mG(e){return typeof e=="number"&&Number.isInteger(e)&&!cv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n){this.comparator=t,this.root=n||mr.EMPTY}insert(t,n){return new An(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(t){return new An(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mr.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mm(this.root,t,this.comparator,!0)}}class Mm{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mr{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=o??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new mr(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,t,n,r,i){return this}insert(e,t,n){return new mr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.comparator=t,this.data=new An(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new OR(this.data.getIterator())}getIteratorFrom(t){return new OR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Mr)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Mr(this.comparator);return n.data=t,n}}class OR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.fields=t,t.sort(Ar.comparator)}static empty(){return new di([])}unionWith(t){let n=new Mr(Ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ac(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vP("Invalid base64 string: "+i):i}}(t);return new Fr(n)}static fromUint8Array(t){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new Fr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const gG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(e){if(En(!!e),typeof e=="string"){let t=0;const n=gG.exec(e);if(En(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Un(e.seconds),nanos:Un(e.nanos)}}function Un(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dl(e){return typeof e=="string"?Fr.fromBase64String(e):Fr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z0(e){const t=e.mapValue.fields.__previous_value__;return J0(t)?Z0(t):t}function Vf(e){const t=ls(e.mapValue.fields.__local_write_time__.timestampValue);return new Qn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(t,n,r,i,o,a,s,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Bf{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Bf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?J0(e)?4:pG(e)?9007199254740991:10:gt()}function Mo(e,t){if(e===t)return!0;const n=fl(e);if(n!==fl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vf(e).isEqual(Vf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ls(r.timestampValue),a=ls(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return dl(r.bytesValue).isEqual(dl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Un(r.geoPointValue.latitude)===Un(i.geoPointValue.latitude)&&Un(r.geoPointValue.longitude)===Un(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Un(r.integerValue)===Un(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Un(r.doubleValue),a=Un(i.doubleValue);return o===a?cv(o)===cv(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return ac(e.arrayValue.values||[],t.arrayValue.values||[],Mo);case 10:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(NR(o)!==NR(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!Mo(o[s],a[s])))return!1;return!0}(e,t);default:return gt()}}function zf(e,t){return(e.values||[]).find(n=>Mo(n,t))!==void 0}function sc(e,t){if(e===t)return 0;const n=fl(e),r=fl(t);if(n!==r)return Gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=Un(i.integerValue||i.doubleValue),s=Un(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(e,t);case 3:return xR(e.timestampValue,t.timestampValue);case 4:return xR(Vf(e),Vf(t));case 5:return Gt(e.stringValue,t.stringValue);case 6:return function(i,o){const a=dl(i),s=dl(o);return a.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),s=o.split("/");for(let l=0;l<a.length&&l<s.length;l++){const u=Gt(a[l],s[l]);if(u!==0)return u}return Gt(a.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=Gt(Un(i.latitude),Un(o.latitude));return a!==0?a:Gt(Un(i.longitude),Un(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],s=o.values||[];for(let l=0;l<a.length&&l<s.length;++l){const u=sc(a[l],s[l]);if(u)return u}return Gt(a.length,s.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Pm.mapValue&&o===Pm.mapValue)return 0;if(i===Pm.mapValue)return 1;if(o===Pm.mapValue)return-1;const a=i.fields||{},s=Object.keys(a),l=o.fields||{},u=Object.keys(l);s.sort(),u.sort();for(let c=0;c<s.length&&c<u.length;++c){const f=Gt(s[c],u[c]);if(f!==0)return f;const h=sc(a[s[c]],l[u[c]]);if(h!==0)return h}return Gt(s.length,u.length)}(e.mapValue,t.mapValue);default:throw gt()}}function xR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Gt(e,t);const n=ls(e),r=ls(t),i=Gt(n.seconds,r.seconds);return i!==0?i:Gt(n.nanos,r.nanos)}function lc(e){return Y_(e)}function Y_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=ls(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ct.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",o=!0;for(const a of r.values||[])o?o=!1:i+=",",i+=Y_(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",a=!0;for(const s of i)a?a=!1:o+=",",o+=`${s}:${Y_(r.fields[s])}`;return o+"}"}(e.mapValue):gt();var t,n}function Q_(e){return!!e&&"integerValue"in e}function eC(e){return!!e&&"arrayValue"in e}function MR(e){return!!e&&"nullValue"in e}function PR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function og(e){return!!e&&"mapValue"in e}function Gd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nl(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Gd(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pG(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.value=t}static empty(){return new Xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gd(n)}setAll(t){let n=Ar.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Gd(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Nl(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Xr(Gd(this.value))}}function pP(e){const t=[];return Nl(e.fields,(n,r)=>{const i=new Ar([n]);if(og(r)){const o=pP(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new Rr(t,0,yt.min(),yt.min(),yt.min(),Xr.empty(),0)}static newFoundDocument(t,n,r,i){return new Rr(t,1,n,yt.min(),r,i,0)}static newNoDocument(t,n){return new Rr(t,2,n,yt.min(),yt.min(),Xr.empty(),0)}static newUnknownDocument(t,n){return new Rr(t,3,n,yt.min(),yt.min(),Xr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,n){this.position=t,this.inclusive=n}}function LR(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(o.field.isKeyField()?r=ct.comparator(ct.fromName(a.referenceValue),n.key):r=sc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $R(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,n="asc"){this.field=t,this.dir=n}}function yG(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{}class qn extends yP{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new EG(t,n,r):n==="array-contains"?new bG(t,r):n==="in"?new CG(t,r):n==="not-in"?new TG(t,r):n==="array-contains-any"?new IG(t,r):new qn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new _G(t,r):new SG(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sc(n,this.value)):n!==null&&fl(this.value)===fl(n)&&this.matchesComparison(sc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Po extends yP{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new Po(t,n)}matches(t){return wP(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function wP(e){return e.op==="and"}function EP(e){return wG(e)&&wP(e)}function wG(e){for(const t of e.filters)if(t instanceof Po)return!1;return!0}function X_(e){if(e instanceof qn)return e.field.canonicalString()+e.op.toString()+lc(e.value);if(EP(e))return e.filters.map(t=>X_(t)).join(",");{const t=e.filters.map(n=>X_(n)).join(",");return`${e.op}(${t})`}}function _P(e,t){return e instanceof qn?function(n,r){return r instanceof qn&&n.op===r.op&&n.field.isEqual(r.field)&&Mo(n.value,r.value)}(e,t):e instanceof Po?function(n,r){return r instanceof Po&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,a)=>i&&_P(o,r.filters[a]),!0):!1}(e,t):void gt()}function SP(e){return e instanceof qn?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(e):e instanceof Po?function(t){return t.op.toString()+" {"+t.getFilters().map(SP).join(" ,")+"}"}(e):"Filter"}class EG extends qn{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class _G extends qn{constructor(t,n){super(t,"in",n),this.keys=bP("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SG extends qn{constructor(t,n){super(t,"not-in",n),this.keys=bP("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function bP(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class bG extends qn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eC(n)&&zf(n.arrayValue,this.value)}}class CG extends qn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zf(this.value.arrayValue,n)}}class TG extends qn{constructor(t,n){super(t,"not-in",n)}matches(t){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!zf(this.value.arrayValue,n)}}class IG extends qn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.dt=null}}function FR(e,t=null,n=[],r=[],i=null,o=null,a=null){return new RG(e,t,n,r,i,o,a)}function tC(e){const t=Ct(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>X_(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_p(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>lc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>lc(r)).join(",")),t.dt=n}return t.dt}function nC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yG(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_P(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$R(e.startAt,t.startAt)&&$R(e.endAt,t.endAt)}function J_(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function kG(e,t,n,r,i,o,a,s){return new Sp(e,t,n,r,i,o,a,s)}function rC(e){return new Sp(e)}function jR(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function DG(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function AG(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function NG(e){return e.collectionGroup!==null}function Pu(e){const t=Ct(e);if(t.wt===null){t.wt=[];const n=AG(t),r=DG(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new qd(n)),t.wt.push(new qd(Ar.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new qd(Ar.keyField(),o))}}}return t.wt}function ua(e){const t=Ct(e);if(!t._t)if(t.limitType==="F")t._t=FR(t.path,t.collectionGroup,Pu(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const o of Pu(t)){const a=o.dir==="desc"?"asc":"desc";n.push(new qd(o.field,a))}const r=t.endAt?new dv(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new dv(t.startAt.position,t.startAt.inclusive):null;t._t=FR(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function Z_(e,t,n){return new Sp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bp(e,t){return nC(ua(e),ua(t))&&e.limitType===t.limitType}function CP(e){return`${tC(ua(e))}|lt:${e.limitType}`}function eS(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>SP(r)).join(", ")}]`),_p(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>lc(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>lc(r)).join(",")),`Target(${n})`}(ua(e))}; limitType=${e.limitType})`}function Cp(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ct.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Pu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,o,a){const s=LR(i,o,a);return i.inclusive?s<=0:s<0}(n.startAt,Pu(n),r)||n.endAt&&!function(i,o,a){const s=LR(i,o,a);return i.inclusive?s>=0:s>0}(n.endAt,Pu(n),r))}(e,t)}function OG(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function TP(e){return(t,n)=>{let r=!1;for(const i of Pu(e)){const o=xG(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function xG(e,t,n){const r=e.field.isKeyField()?ct.comparator(t.key,n.key):function(i,o,a){const s=o.data.field(i),l=a.data.field(i);return s!==null&&l!==null?sc(s,l):gt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Nl(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return gP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=new An(ct.comparator);function ca(){return MG}const IP=new An(ct.comparator);function kd(...e){let t=IP;for(const n of e)t=t.insert(n.key,n);return t}function RP(e){let t=IP;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ws(){return Yd()}function kP(){return Yd()}function Yd(){return new Nc(e=>e.toString(),(e,t)=>e.isEqual(t))}const PG=new An(ct.comparator),LG=new Mr(ct.comparator);function At(...e){let t=LG;for(const n of e)t=t.add(n);return t}const $G=new Mr(Gt);function FG(){return $G}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cv(t)?"-0":t}}function AP(e){return{integerValue:""+e}}function jG(e,t){return mG(t)?AP(t):DP(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function UG(e,t,n){return e instanceof fv?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&J0(i)&&(i=Z0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Hf?OP(e,t):e instanceof Wf?xP(e,t):function(r,i){const o=NP(r,i),a=UR(o)+UR(r.gt);return Q_(o)&&Q_(r.gt)?AP(a):DP(r.serializer,a)}(e,t)}function VG(e,t,n){return e instanceof Hf?OP(e,t):e instanceof Wf?xP(e,t):n}function NP(e,t){return e instanceof hv?Q_(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class fv extends Tp{}class Hf extends Tp{constructor(t){super(),this.elements=t}}function OP(e,t){const n=MP(t);for(const r of e.elements)n.some(i=>Mo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wf extends Tp{constructor(t){super(),this.elements=t}}function xP(e,t){let n=MP(t);for(const r of e.elements)n=n.filter(i=>!Mo(i,r));return{arrayValue:{values:n}}}class hv extends Tp{constructor(t,n){super(),this.serializer=t,this.gt=n}}function UR(e){return Un(e.integerValue||e.doubleValue)}function MP(e){return eC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function BG(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Hf&&r instanceof Hf||n instanceof Wf&&r instanceof Wf?ac(n.elements,r.elements,Mo):n instanceof hv&&r instanceof hv?Mo(n.gt,r.gt):n instanceof fv&&r instanceof fv}(e.transform,t.transform)}class zG{constructor(t,n){this.version=t,this.transformResults=n}}class ao{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ao}static exists(t){return new ao(void 0,t)}static updateTime(t){return new ao(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ag(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ip{}function PP(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iC(e.key,ao.none()):new Ih(e.key,e.data,ao.none());{const n=e.data,r=Xr.empty();let i=new Mr(Ar.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new bs(e.key,r,new di(i.toArray()),ao.none())}}function HG(e,t,n){e instanceof Ih?function(r,i,o){const a=r.value.clone(),s=BR(r.fieldTransforms,i,o.transformResults);a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof bs?function(r,i,o){if(!ag(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=BR(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(LP(r)),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Qd(e,t,n,r){return e instanceof Ih?function(i,o,a,s){if(!ag(i.precondition,o))return a;const l=i.value.clone(),u=zR(i.fieldTransforms,s,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof bs?function(i,o,a,s){if(!ag(i.precondition,o))return a;const l=zR(i.fieldTransforms,s,o),u=o.data;return u.setAll(LP(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,o,a){return ag(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function WG(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=NP(r.transform,i||null);o!=null&&(n===null&&(n=Xr.empty()),n.set(r.field,o))}return n||null}function VR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ac(n,r,(i,o)=>BG(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ih extends Ip{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends Ip{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LP(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function BR(e,t,n){const r=new Map;En(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,VG(a,s,n[i]))}return r}function zR(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,UG(o,a,t))}return r}class iC extends Ip{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KG extends Ip{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&HG(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Qd(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Qd(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=kP();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=PP(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),At())}isEqual(t){return this.batchId===t.batchId&&ac(this.mutations,t.mutations,(n,r)=>VR(n,r))&&ac(this.baseMutations,t.baseMutations,(n,r)=>VR(n,r))}}class oC{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){En(t.mutations.length===r.length);let i=PG;const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new oC(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Lt;function QG(e){switch(e){default:return gt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function $P(e){if(e===void 0)return la("GRPC error has no .code"),Ne.UNKNOWN;switch(e){case $n.OK:return Ne.OK;case $n.CANCELLED:return Ne.CANCELLED;case $n.UNKNOWN:return Ne.UNKNOWN;case $n.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case $n.INTERNAL:return Ne.INTERNAL;case $n.UNAVAILABLE:return Ne.UNAVAILABLE;case $n.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case $n.NOT_FOUND:return Ne.NOT_FOUND;case $n.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case $n.ABORTED:return Ne.ABORTED;case $n.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case $n.DATA_LOSS:return Ne.DATA_LOSS;default:return gt()}}(Lt=$n||($n={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Lm}static getOrCreateInstance(){return Lm===null&&(Lm=new aC),Lm}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Lm=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=new Mu([4294967295,4294967295],0);function HR(e){const t=XG().encode(e),n=new Z5;return n.update(t),new Uint8Array(n.digest())}function WR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mu([n,r],0),new Mu([i,o],0)]}class sC{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dd(`Invalid padding: ${n}`);if(r<0)throw new Dd(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=Mu.fromNumber(this.It)}Et(t,n,r){let i=t.add(n.multiply(Mu.fromNumber(r)));return i.compare(JG)===1&&(i=new Mu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=HR(t),[r,i]=WR(n);for(let o=0;o<this.hashCount;o++){const a=this.Et(r,i,o);if(!this.At(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new sC(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.It===0)return;const n=HR(t),[r,i]=WR(n);for(let o=0;o<this.hashCount;o++){const a=this.Et(r,i,o);this.Rt(a)}}Rt(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Rh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Rp(yt.min(),i,new An(Gt),ca(),At())}}class Rh{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Rh(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,r,i){this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i}}class FP{constructor(t,n){this.targetId=t,this.Vt=n}}class jP{constructor(t,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KR{constructor(){this.St=0,this.Dt=qR(),this.Ct=Fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=At(),n=At(),r=At();return this.Dt.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new Rh(this.Ct,this.xt,t,n,r)}Ft(){this.Nt=!1,this.Dt=qR()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ZG{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ca(),this.zt=GR(),this.Wt=new An(Gt)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const r=this.Zt(n);switch(t.state){case 0:this.te(n)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(t.resumeToken));break;default:gt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(t){var n;const r=t.targetId,i=t.Vt.count,o=this.se(r);if(o){const a=o.target;if(J_(a))if(i===0){const s=new ct(a.path);this.Yt(r,s,Rr.newNoDocument(s,yt.min()))}else En(i===1);else{const s=this.ie(r);if(s!==i){const l=this.re(t,s);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=aC.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,f){var h,v,_,E,S,w;const p={localCacheCount:c,existenceFilterCount:f.count},y=f.unchangedNames;return y&&(p.bloomFilter={applied:u===0,hashCount:(h=y==null?void 0:y.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(E=(_=(v=y==null?void 0:y.bits)===null||v===void 0?void 0:v.bitmap)===null||_===void 0?void 0:_.length)!==null&&E!==void 0?E:0,padding:(w=(S=y==null?void 0:y.bits)===null||S===void 0?void 0:S.padding)!==null&&w!==void 0?w:0}),p}(l,s,t.Vt))}}}}re(t,n){const{unchangedNames:r,count:i}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:s=0}=r;let l,u;try{l=dl(o).toUint8Array()}catch(c){if(c instanceof vP)return oc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new sC(l,a,s)}catch(c){return oc(c instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const r=this.Gt.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const a=this.Gt.ue(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;n.vt(s)||(this.Yt(t,o,null),i++)}),i}ce(t){const n=new Map;this.Qt.forEach((o,a)=>{const s=this.se(a);if(s){if(o.current&&J_(s.target)){const l=new ct(s.target.path);this.jt.get(l)!==null||this.ae(a,l)||this.Yt(a,l,Rr.newNoDocument(l,t))}o.Mt&&(n.set(a,o.Ot()),o.Ft())}});let r=At();this.zt.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.jt.forEach((o,a)=>a.setReadTime(t));const i=new Rp(t,n,this.Wt,this.jt,r);return this.jt=ca(),this.zt=GR(),this.Wt=new An(Gt),i}Jt(t,n){if(!this.te(t))return;const r=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,r){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new KR,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new Mr(Gt),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new KR),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}}function GR(){return new An(ct.comparator)}function qR(){return new An(ct.comparator)}const e8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),n8=(()=>({and:"AND",or:"OR"}))();class r8{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tS(e,t){return e.useProto3Json||_p(t)?t:{value:t}}function mv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function i8(e,t){return mv(e,t.toTimestamp())}function Ao(e){return En(!!e),yt.fromTimestamp(function(t){const n=ls(t);return new Qn(n.seconds,n.nanos)}(e))}function lC(e,t){return function(n){return new Tn(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function VP(e){const t=Tn.fromString(e);return En(WP(t)),t}function nS(e,t){return lC(e.databaseId,t.path)}function Hw(e,t){const n=VP(t);if(n.get(1)!==e.databaseId.projectId)throw new ot(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ot(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(BP(n))}function rS(e,t){return lC(e.databaseId,t)}function o8(e){const t=VP(e);return t.length===4?Tn.emptyPath():BP(t)}function iS(e){return new Tn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function BP(e){return En(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function YR(e,t,n){return{name:nS(e,t),fields:n.value.mapValue.fields}}function a8(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(En(u===void 0||typeof u=="string"),Fr.fromBase64String(u||"")):(En(u===void 0||u instanceof Uint8Array),Fr.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(l){const u=l.code===void 0?Ne.UNKNOWN:$P(l.code);return new ot(u,l.message||"")}(a);n=new jP(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hw(e,r.document.name),o=Ao(r.document.updateTime),a=r.document.createTime?Ao(r.document.createTime):yt.min(),s=new Xr({mapValue:{fields:r.document.fields}}),l=Rr.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sg(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hw(e,r.document),o=r.readTime?Ao(r.readTime):yt.min(),a=Rr.newNoDocument(i,o),s=r.removedTargetIds||[];n=new sg([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hw(e,r.document),o=r.removedTargetIds||[];n=new sg([],o,i,null)}else{if(!("filter"in t))return gt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new YG(i,o),s=r.targetId;n=new FP(s,a)}}return n}function s8(e,t){let n;if(t instanceof Ih)n={update:YR(e,t.key,t.value)};else if(t instanceof iC)n={delete:nS(e,t.key)};else if(t instanceof bs)n={update:YR(e,t.key,t.data),updateMask:v8(t.fieldMask)};else{if(!(t instanceof KG))return gt();n={verify:nS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof fv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hv)return{fieldPath:o.field.canonicalString(),increment:a.gt};throw gt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:i8(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:gt()}(e,t.precondition)),n}function l8(e,t){return e&&e.length>0?(En(t!==void 0),e.map(n=>function(r,i){let o=r.updateTime?Ao(r.updateTime):Ao(i);return o.isEqual(yt.min())&&(o=Ao(i)),new zG(o,r.transformResults||[])}(n,t))):[]}function u8(e,t){return{documents:[rS(e,t.path)]}}function c8(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=rS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return HP(Po.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:su(c.field),direction:h8(c.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tS(e,t.limit);var s;return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function d8(e){let t=o8(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){En(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(c){const f=zP(c);return f instanceof Po&&EP(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(c=>function(f){return new qd(lu(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let s=null;n.limit&&(s=function(c){let f;return f=typeof c=="object"?c.value:c,_p(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new dv(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new dv(h,f)}(n.endAt)),kG(t,i,a,o,s,"F",l,u)}function f8(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zP(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=lu(t.unaryFilter.field);return qn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=lu(t.unaryFilter.field);return qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lu(t.unaryFilter.field);return qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lu(t.unaryFilter.field);return qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(e):e.fieldFilter!==void 0?function(t){return qn.create(lu(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Po.create(t.compositeFilter.filters.map(n=>zP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return gt()}}(t.compositeFilter.op))}(e):gt()}function h8(e){return e8[e]}function m8(e){return t8[e]}function g8(e){return n8[e]}function su(e){return{fieldPath:e.canonicalString()}}function lu(e){return Ar.fromServerFormat(e.fieldPath)}function HP(e){return e instanceof qn?function(t){if(t.op==="=="){if(PR(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NAN"}};if(MR(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PR(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NOT_NAN"}};if(MR(t.value))return{unaryFilter:{field:su(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(t.field),op:m8(t.op),value:t.value}}}(e):e instanceof Po?function(t){const n=t.getFilters().map(r=>HP(r));return n.length===1?n[0]:{compositeFilter:{op:g8(t.op),filters:n}}}(e):gt()}function v8(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WP(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n,r,i,o=yt.min(),a=yt.min(),s=Fr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(t){this.fe=t}}function y8(e){const t=d8({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Z_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.rn=new E8}addToCollectionParentIndex(t,n){return this.rn.add(n),Le.resolve()}getCollectionParents(t,n){return Le.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return Le.resolve()}deleteFieldIndex(t,n){return Le.resolve()}getDocumentsMatchingTarget(t,n){return Le.resolve(null)}getIndexType(t,n){return Le.resolve(0)}getFieldIndexes(t,n){return Le.resolve([])}getNextCollectionGroupToUpdate(t){return Le.resolve(null)}getMinOffset(t,n){return Le.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,n){return Le.resolve(ss.min())}updateCollectionGroup(t,n,r){return Le.resolve()}updateIndexEntries(t,n){return Le.resolve()}}class E8{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Mr(Tn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Mr(Tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new uc(0)}static Mn(){return new uc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.changes=new Nc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Rr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Qd(r.mutation,i,di.empty(),Qn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,At()).next(()=>r))}getLocalViewOfDocuments(t,n,r=At()){const i=Ws();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=kd();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Ws();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,At()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=ca();const a=Yd(),s=Yd();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bs)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Qd(c.mutation,u,c.mutation.getFieldMask(),Qn.now())):a.set(u.key,di.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new S8(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(t,n){const r=Yd();let i=new An((a,s)=>a-s),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||di.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||At()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=kP();c.forEach(h=>{if(!o.has(h)){const v=PP(n.get(h),r.get(h));v!==null&&f.set(h,v),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Le.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return ct.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):NG(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Le.resolve(Ws());let s=-1,l=o;return a.next(u=>Le.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Le.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,At())).next(c=>({batchId:s,changes:RP(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let o=kd();return this.indexManager.getCollectionParents(t,i).next(a=>Le.forEach(a,s=>{const l=function(u,c){return new Sp(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(o=>{i.forEach((s,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Rr.newInvalidDocument(u)))});let a=kd();return o.forEach((s,l)=>{const u=i.get(s);u!==void 0&&Qd(u.mutation,l,di.empty(),Qn.now()),Cp(n,l)&&(a=a.insert(s,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return Le.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ao(r.createTime)}),Le.resolve()}getNamedQuery(t,n){return Le.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:y8(r.bundledQuery),readTime:Ao(r.readTime)}}(n)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.overlays=new An(ct.comparator),this.ls=new Map}getOverlay(t,n){return Le.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ws();return Le.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.we(t,n,o)}),Le.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),Le.resolve()}getOverlaysForCollection(t,n,r){const i=Ws(),o=n.length+1,a=new ct(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Le.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new An((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ws(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ws(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Le.resolve(s)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qG(n,r));let o=this.ls.get(n);o===void 0&&(o=At(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.fs=new Mr(nr.ds),this.ws=new Mr(nr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new nr(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new nr(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new ct(new Tn([])),r=new nr(n,t),i=new nr(n,t+1),o=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),o.push(a.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new ct(new Tn([])),r=new nr(n,t),i=new nr(n,t+1);let o=At();return this.ws.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new nr(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class nr{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return ct.comparator(t.key,n.key)||Gt(t.As,n.As)}static _s(t,n){return Gt(t.As,n.As)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Mr(nr.ds)}checkEmpty(t){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new GG(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Rs=this.Rs.add(new nr(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return Le.resolve(a)}lookupMutationBatch(t,n){return Le.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return Le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],a=>{const s=this.Ps(a.As);o.push(s)}),Le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Mr(Gt);return n.forEach(i=>{const o=new nr(i,0),a=new nr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],s=>{r=r.add(s.As)})}),Le.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ct.isDocumentKey(o)||(o=o.child(""));const a=new nr(new ct(o),0);let s=new Mr(Gt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.As)),!0)},a),Le.resolve(this.Vs(s))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){En(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Le.forEach(n.mutations,i=>{const o=new nr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new nr(n,0),i=this.Rs.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Le.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(t){this.Ds=t,this.docs=new An(ct.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():Rr.newInvalidDocument(n))}getEntries(t,n){let r=ca();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rr.newInvalidDocument(i))}),Le.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=ca();const a=n.path,s=new ct(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||dG(cG(c),r)<=0||(i.has(c.key)||Cp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Le.resolve(o)}getAllFromCollectionGroup(t,n,r,i){gt()}Cs(t,n){return Le.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new k8(this)}getSize(t){return Le.resolve(this.size)}}class k8 extends _8{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),Le.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(t){this.persistence=t,this.xs=new Nc(n=>tC(n),nC),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uC,this.targetCount=0,this.Ms=uc.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),Le.resolve()}getLastRemoteSnapshotVersion(t){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Le.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Le.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new uc(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,Le.resolve()}updateTargetData(t,n){return this.Fn(n),Le.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.xs.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.xs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Le.waitFor(o).next(()=>i)}getTargetCount(t){return Le.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return Le.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),Le.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),Le.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),Le.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return Le.resolve(r)}containsKey(t,n){return Le.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t,n){this.$s={},this.overlays={},this.Os=new X0(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new D8(this),this.indexManager=new w8,this.remoteDocumentCache=function(r){return new R8(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new p8(n),this.qs=new C8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new T8,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new I8(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){it("MemoryPersistence","Starting transaction:",t);const i=new N8(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(t,n){return Le.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}}class N8 extends hG{constructor(t){super(),this.currentSequenceNumber=t}}class cC{constructor(t){this.persistence=t,this.Qs=new uC,this.js=null}static zs(t){return new cC(t)}get Ws(){if(this.js)return this.js;throw gt()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Le.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),Le.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Ws,r=>{const i=ct.fromPath(r);return this.Hs(t,i).next(o=>{o||n.removeEntry(i,yt.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return Le.or([()=>Le.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=At(),i=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dC(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(o=>o||this.Gi(t,n,i,r)).next(o=>o||this.Qi(t,n))}Ki(t,n){if(jR(n))return Le.resolve(null);let r=ua(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Z_(n,null,"F"),r=ua(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=At(...o);return this.Ui.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,s);return this.zi(n,u,a,l.readTime)?this.Ki(t,Z_(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return jR(n)||i.isEqual(yt.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(o=>{const a=this.ji(n,o);return this.zi(n,a,r,i)?this.Qi(t,n):(AR()<=Bt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eS(n)),this.Wi(t,a,n,uG(i,-1)))})}ji(t,n){let r=new Mr(TP(t));return n.forEach((i,o)=>{Cp(t,o)&&(r=r.add(o))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(t,n){return AR()<=Bt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",eS(n)),this.Ui.getDocumentsMatchingQuery(t,n,ss.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new An(Gt),this.Yi=new Nc(o=>tC(o),nC),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b8(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function M8(e,t,n,r){return new x8(e,t,n,r)}async function KP(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=At();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:a,addedBatchIds:s}))})})}function P8(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,s,l,u){const c=l.batch,f=c.keys();let h=Le.resolve();return f.forEach(v=>{h=h.next(()=>u.getEntry(s,v)).next(_=>{const E=l.docVersions.get(v);En(E!==null),_.version.compareTo(E)<0&&(c.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(s,c))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let s=At();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(s=s.add(a.batch.mutations[l].key));return s}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function GP(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function L8(e,t){const n=Ct(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,f)));let v=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?v=v.withResumeToken(Fr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,r)),i=i.insert(f,v),function(_,E,S){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(h,v,c)&&s.push(n.Bs.updateTargetData(o,v))});let l=ca(),u=At();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push($8(o,a,t.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(yt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(f=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Le.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function $8(e,t,n){let r=At(),i=At();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let a=ca();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(yt.min())?(t.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(s,l)):it("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{nr:a,sr:i}})}function F8(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function j8(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,t).next(o=>o?(i=o,Le.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new ja(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function oS(e,t,n){const r=Ct(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Th(a))throw a;it("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function QR(e,t,n){const r=Ct(e);let i=yt.min(),o=At();return r.persistence.runTransaction("Execute query","readonly",a=>function(s,l,u){const c=Ct(s),f=c.Yi.get(u);return f!==void 0?Le.resolve(c.Ji.get(f)):c.Bs.getTargetData(l,u)}(r,a,ua(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,t,n?i:yt.min(),n?o:At())).next(s=>(U8(r,OG(t),s),{documents:s,ir:o})))}function U8(e,t,n){let r=e.Xi.get(t)||yt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Xi.set(t,r)}class XR{constructor(){this.activeTargetIds=FG()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V8{constructor(){this.Hr=new XR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new XR,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m=null;function Ww(){return $m===null?$m=268435456+Math.round(2147483648*Math.random()):$m++,"0x"+$m.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class W8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,o){const a=Ww(),s=this.To(t,n);it("RestConnection",`Sending RPC '${t}' ${a}:`,s,r);const l={};return this.Eo(l,i,o),this.Ao(t,s,l,r).then(u=>(it("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw oc("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",s,"request:",r),u})}vo(t,n,r,i,o,a){return this.Io(t,n,r,i,o)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ac,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}To(t,n){const r=z8[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const o=Ww();return new Promise((a,s)=>{const l=new J5;l.setWithCredentials(!0),l.listenOnce(Y5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zw.NO_ERROR:const c=l.getResponseJson();it(Sr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),a(c);break;case zw.TIMEOUT:it(Sr,`RPC '${t}' ${o} timed out`),s(new ot(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case zw.HTTP_ERROR:const f=l.getStatus();if(it(Sr,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const v=h==null?void 0:h.error;if(v&&v.status&&v.message){const _=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(S)>=0?S:Ne.UNKNOWN}(v.status);s(new ot(_,v.message))}else s(new ot(Ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ot(Ne.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(Sr,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);it(Sr,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=Ww(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=G5(),s=q5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new X5({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");it(Sr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let h=!1,v=!1;const _=new H8({ro:S=>{v?it(Sr,`Not sending because RPC '${t}' stream ${i} is closed:`,S):(h||(it(Sr,`Opening RPC '${t}' stream ${i} transport.`),f.open(),h=!0),it(Sr,`RPC '${t}' stream ${i} sending:`,S),f.send(S))},oo:()=>f.close()}),E=(S,w,p)=>{S.listen(w,y=>{try{p(y)}catch(C){setTimeout(()=>{throw C},0)}})};return E(f,xm.EventType.OPEN,()=>{v||it(Sr,`RPC '${t}' stream ${i} transport opened.`)}),E(f,xm.EventType.CLOSE,()=>{v||(v=!0,it(Sr,`RPC '${t}' stream ${i} transport closed`),_.wo())}),E(f,xm.EventType.ERROR,S=>{v||(v=!0,oc(Sr,`RPC '${t}' stream ${i} transport errored:`,S),_.wo(new ot(Ne.UNAVAILABLE,"The operation could not be completed")))}),E(f,xm.EventType.MESSAGE,S=>{var w;if(!v){const p=S.data[0];En(!!p);const y=p,C=y.error||((w=y[0])===null||w===void 0?void 0:w.error);if(C){it(Sr,`RPC '${t}' stream ${i} received error:`,C);const A=C.status;let P=function(K){const ae=$n[K];if(ae!==void 0)return $P(ae)}(A),L=C.message;P===void 0&&(P=Ne.INTERNAL,L="Unknown error status: "+A+" with message "+C.message),v=!0,_.wo(new ot(P,L)),f.close()}else it(Sr,`RPC '${t}' stream ${i} received:`,p),_._o(p)}}),E(s,Q5.STAT_EVENT,S=>{S.stat===kR.PROXY?it(Sr,`RPC '${t}' stream ${i} detected buffering proxy`):S.stat===kR.NOPROXY&&it(Sr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function Kw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e){return new r8(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,n,r,i,o,a,s,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qP(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(la(n.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new ot(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return it("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K8 extends YP{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=a8(this.serializer,t),r=function(i){if(!("targetChange"in i))return yt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Ao(o.readTime):yt.min()}(t);return this.listener.nu(n,r)}su(t){const n={};n.database=iS(this.serializer),n.addTarget=function(i,o){let a;const s=o.target;if(a=J_(s)?{documents:u8(i,s)}:{query:c8(i,s)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=UP(i,o.resumeToken);const l=tS(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(yt.min())>0){a.readTime=mv(i,o.snapshotVersion.toTimestamp());const l=tS(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=f8(this.serializer,t);r&&(n.labels=r),this.Wo(n)}iu(t){const n={};n.database=iS(this.serializer),n.removeTarget=t,this.Wo(n)}}class G8 extends YP{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(En(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=l8(t.writeResults,t.commitTime),r=Ao(t.commitTime);return this.listener.cu(r,n)}return En(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=iS(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>s8(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ot(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ot(Ne.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,n,r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(Ne.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Y8{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(la(n),this.mu=!1):it("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(async()=>{Ol(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await async function(s){const l=Ct(s);l.vu.add(4),await kh(l),l.bu.set("Unknown"),l.vu.delete(4),await Dp(l)}(this))})}),this.bu=new Y8(r,i)}}async function Dp(e){if(Ol(e))for(const t of e.Ru)await t(!0)}async function kh(e){for(const t of e.Ru)await t(!1)}function QP(e,t){const n=Ct(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),mC(n)?hC(n):Oc(n).Ko()&&fC(n,t))}function XP(e,t){const n=Ct(e),r=Oc(n);n.Au.delete(t),r.Ko()&&JP(n,t),n.Au.size===0&&(r.Ko()?r.jo():Ol(n)&&n.bu.set("Unknown"))}function fC(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Oc(e).su(t)}function JP(e,t){e.Vu.qt(t),Oc(e).iu(t)}function hC(e){e.Vu=new ZG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Oc(e).start(),e.bu.gu()}function mC(e){return Ol(e)&&!Oc(e).Uo()&&e.Au.size>0}function Ol(e){return Ct(e).vu.size===0}function ZP(e){e.Vu=void 0}async function X8(e){e.Au.forEach((t,n)=>{fC(e,t)})}async function J8(e,t){ZP(e),mC(e)?(e.bu.Iu(t),hC(e)):e.bu.set("Unknown")}async function Z8(e,t,n){if(e.bu.set("Online"),t instanceof jP&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.Au.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Au.delete(a),r.Vu.removeTarget(a))}(e,t)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gv(e,r)}else if(t instanceof sg?e.Vu.Ht(t):t instanceof FP?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(yt.min()))try{const r=await GP(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Vu.ce(o);return a.targetChanges.forEach((s,l)=>{if(s.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach((s,l)=>{const u=i.Au.get(s);if(!u)return;i.Au.set(s,u.withResumeToken(Fr.EMPTY_BYTE_STRING,u.snapshotVersion)),JP(i,s);const c=new ja(u.target,s,l,u.sequenceNumber);fC(i,c)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){it("RemoteStore","Failed to raise snapshot:",r),await gv(e,r)}}async function gv(e,t,n){if(!Th(t))throw t;e.vu.add(1),await kh(e),e.bu.set("Offline"),n||(n=()=>GP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{it("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Dp(e)})}function eL(e,t){return t().catch(n=>gv(e,n,t))}async function Ap(e){const t=Ct(e),n=us(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;eq(t);)try{const i=await F8(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,tq(t,i)}catch(i){await gv(t,i)}tL(t)&&nL(t)}function eq(e){return Ol(e)&&e.Eu.length<10}function tq(e,t){e.Eu.push(t);const n=us(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function tL(e){return Ol(e)&&!us(e).Uo()&&e.Eu.length>0}function nL(e){us(e).start()}async function nq(e){us(e).hu()}async function rq(e){const t=us(e);for(const n of e.Eu)t.uu(n.mutations)}async function iq(e,t,n){const r=e.Eu.shift(),i=oC.from(r,t,n);await eL(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ap(e)}async function oq(e,t){t&&us(e).ou&&await async function(n,r){if(i=r.code,QG(i)&&i!==Ne.ABORTED){const o=n.Eu.shift();us(n).Qo(),await eL(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ap(n)}var i}(e,t),tL(e)&&nL(e)}async function ZR(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=Ol(n);n.vu.add(3),await kh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Dp(n)}async function aq(e,t){const n=Ct(e);t?(n.vu.delete(2),await Dp(n)):t||(n.vu.add(2),await kh(n),n.bu.set("Unknown"))}function Oc(e){return e.Su||(e.Su=function(t,n,r){const i=Ct(t);return i.fu(),new K8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:X8.bind(null,e),ao:J8.bind(null,e),nu:Z8.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),mC(e)?hC(e):e.bu.set("Unknown")):(await e.Su.stop(),ZP(e))})),e.Su}function us(e){return e.Du||(e.Du=function(t,n,r){const i=Ct(t);return i.fu(),new G8(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:nq.bind(null,e),ao:oq.bind(null,e),au:rq.bind(null,e),cu:iq.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Ap(e)):(await e.Du.stop(),e.Eu.length>0&&(it("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new gC(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vC(e,t){if(la("AsyncQueue",`${t}: ${e}`),Th(e))return new ot(Ne.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=kd(),this.sortedSet=new An(this.comparator)}static emptySet(t){return new Lu(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Lu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Cu=new An(ct.comparator)}track(t){const n=t.doc.key,r=this.Cu.get(n);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(n):t.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):gt():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,r)=>{t.push(r)}),t}}class cc{constructor(t,n,r,i,o,a,s,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new cc(t,n,Lu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.Nu=void 0,this.listeners=[]}}class lq{constructor(){this.queries=new Nc(t=>CP(t),bp),this.onlineState="Unknown",this.ku=new Set}}async function rL(e,t){const n=Ct(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new sq),i)try{o.Nu=await n.onListen(r)}catch(a){const s=vC(a,`Initialization of query '${eS(t.query)}' failed`);return void t.onError(s)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&pC(n)}async function iL(e,t){const n=Ct(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function uq(e,t){const n=Ct(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.listeners)s.$u(i)&&(r=!0);a.Nu=i}}r&&pC(n)}function cq(e,t,n){const r=Ct(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function pC(e){e.ku.forEach(t=>{t.next()})}class oL{constructor(t,n,r){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new cc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=cc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t){this.key=t}}class sL{constructor(t){this.key=t}}class dq{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=At(),this.mutatedKeys=At(),this.tc=TP(t),this.ec=new Lu(this.tc)}get nc(){return this.Yu}sc(t,n){const r=n?n.ic:new ek,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),v=Cp(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;h&&v?h.data.isEqual(v.data)?_!==E&&(r.track({type:3,doc:v}),S=!0):this.rc(h,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.tc(v,l)>0||u&&this.tc(v,u)<0)&&(s=!0)):!h&&v?(r.track({type:0,doc:v}),S=!0):h&&!v&&(r.track({type:1,doc:h}),S=!0,(l||u)&&(s=!0)),S&&(v?(a=a.add(v),o=E?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:a,ic:r,zi:s,mutatedKeys:o}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((u,c)=>function(f,h){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return v(f)-v(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const a=n?this.uc():[],s=this.Zu.size===0&&this.current?1:0,l=s!==this.Xu;return this.Xu=s,o.length!==0||l?{snapshot:new cc(this.query,t.ec,i,o,t.mutatedKeys,s===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ek,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=At(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return t.forEach(r=>{this.Zu.has(r)||n.push(new sL(r))}),this.Zu.forEach(r=>{t.has(r)||n.push(new aL(r))}),n}hc(t){this.Yu=t.ir,this.Zu=At();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return cc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class fq{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class hq{constructor(t){this.key=t,this.fc=!1}}class mq{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Nc(s=>CP(s),bp),this._c=new Map,this.mc=new Set,this.gc=new An(ct.comparator),this.yc=new Map,this.Ic=new uC,this.Tc={},this.Ec=new Map,this.Ac=uc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function gq(e,t){const n=Tq(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const a=await j8(n.localStore,ua(t)),s=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await vq(n,t,r,s==="current",a.resumeToken),n.isPrimaryClient&&QP(n.remoteStore,a)}return i}async function vq(e,t,n,r,i){e.Rc=(f,h,v)=>async function(_,E,S,w){let p=E.view.sc(S);p.zi&&(p=await QR(_.localStore,E.query,!1).then(({documents:A})=>E.view.sc(A,p)));const y=w&&w.targetChanges.get(E.targetId),C=E.view.applyChanges(p,_.isPrimaryClient,y);return nk(_,E.targetId,C.cc),C.snapshot}(e,f,h,v);const o=await QR(e.localStore,t,!0),a=new dq(t,o.ir),s=a.sc(o.documents),l=Rh.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(s,e.isPrimaryClient,l);nk(e,n,u.cc);const c=new fq(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function pq(e,t){const n=Ct(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!bp(o,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oS(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),XP(n.remoteStore,r.targetId),aS(n,r.targetId)}).catch(Ch)):(aS(n,r.targetId),await oS(n.localStore,r.targetId,!0))}async function yq(e,t,n){const r=Iq(e);try{const i=await function(o,a){const s=Ct(o),l=Qn.now(),u=a.reduce((h,v)=>h.add(v.key),At());let c,f;return s.persistence.runTransaction("Locally write mutations","readwrite",h=>{let v=ca(),_=At();return s.Zi.getEntries(h,u).next(E=>{v=E,v.forEach((S,w)=>{w.isValidDocument()||(_=_.add(S))})}).next(()=>s.localDocuments.getOverlayedDocuments(h,v)).next(E=>{c=E;const S=[];for(const w of a){const p=WG(w,c.get(w.key).overlayedDocument);p!=null&&S.push(new bs(w.key,p,pP(p.value.mapValue),ao.exists(!0)))}return s.mutationQueue.addMutationBatch(h,l,S,a)}).next(E=>{f=E;const S=E.applyToLocalDocumentSet(c,_);return s.documentOverlayCache.saveOverlays(h,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:RP(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,s){let l=o.Tc[o.currentUser.toKey()];l||(l=new An(Gt)),l=l.insert(a,s),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await Dh(r,i.changes),await Ap(r.remoteStore)}catch(i){const o=vC(i,"Failed to persist write");n.reject(o)}}async function lL(e,t){const n=Ct(e);try{const r=await L8(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.yc.get(o);a&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?En(a.fc):i.removedDocuments.size>0&&(En(a.fc),a.fc=!1))}),await Dh(n,r,t)}catch(r){await Ch(r)}}function tk(e,t,n){const r=Ct(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,a)=>{const s=a.view.Mu(t);s.snapshot&&i.push(s.snapshot)}),function(o,a){const s=Ct(o);s.onlineState=a;let l=!1;s.queries.forEach((u,c)=>{for(const f of c.listeners)f.Mu(a)&&(l=!0)}),l&&pC(s)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wq(e,t,n){const r=Ct(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let a=new An(ct.comparator);a=a.insert(o,Rr.newNoDocument(o,yt.min()));const s=At().add(o),l=new Rp(yt.min(),new Map,new An(Gt),a,s);await lL(r,l),r.gc=r.gc.remove(o),r.yc.delete(t),yC(r)}else await oS(r.localStore,t,!1).then(()=>aS(r,t,n)).catch(Ch)}async function Eq(e,t){const n=Ct(e),r=t.batch.batchId;try{const i=await P8(n.localStore,t);cL(n,r,null),uL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dh(n,i)}catch(i){await Ch(i)}}async function _q(e,t,n){const r=Ct(e);try{const i=await function(o,a){const s=Ct(o);return s.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return s.mutationQueue.lookupMutationBatch(l,a).next(c=>(En(c!==null),u=c.keys(),s.mutationQueue.removeMutationBatch(l,c))).next(()=>s.mutationQueue.performConsistencyCheck(l)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>s.localDocuments.getDocuments(l,u))})}(r.localStore,t);cL(r,t,n),uL(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dh(r,i)}catch(i){await Ch(i)}}function uL(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function cL(e,t,n){const r=Ct(e);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function aS(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||dL(e,r)})}function dL(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);n!==null&&(XP(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),yC(e))}function nk(e,t,n){for(const r of n)r instanceof aL?(e.Ic.addReference(r.key,t),Sq(e,r)):r instanceof sL?(it("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||dL(e,r.key)):gt()}function Sq(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(it("SyncEngine","New document in limbo: "+n),e.mc.add(r),yC(e))}function yC(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new ct(Tn.fromString(t)),r=e.Ac.next();e.yc.set(r,new hq(n)),e.gc=e.gc.insert(n,r),QP(e.remoteStore,new ja(ua(rC(n.path)),r,"TargetPurposeLimboResolution",X0.ct))}}async function Dh(e,t,n){const r=Ct(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach((s,l)=>{a.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=dC.Li(l.targetId,u);o.push(c)}}))}),await Promise.all(a),r.dc.nu(i),await async function(s,l){const u=Ct(s);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Le.forEach(l,f=>Le.forEach(f.Fi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>Le.forEach(f.Bi,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Th(c))throw c;it("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Ji.get(f),v=h.snapshotVersion,_=h.withLastLimboFreeSnapshotVersion(v);u.Ji=u.Ji.insert(f,_)}}}(r.localStore,o))}async function bq(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){it("SyncEngine","User change. New user:",t.toKey());const r=await KP(n.localStore,t);n.currentUser=t,function(i,o){i.Ec.forEach(a=>{a.forEach(s=>{s.reject(new ot(Ne.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dh(n,r.er)}}function Cq(e,t){const n=Ct(e),r=n.yc.get(t);if(r&&r.fc)return At().add(r.key);{let i=At();const o=n._c.get(t);if(!o)return i;for(const a of o){const s=n.wc.get(a);i=i.unionWith(s.view.nc)}return i}}function Tq(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wq.bind(null,t),t.dc.nu=uq.bind(null,t.eventManager),t.dc.Pc=cq.bind(null,t.eventManager),t}function Iq(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_q.bind(null,t),t}class rk{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=kp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return M8(this.persistence,new O8,t.initialUser,this.serializer)}createPersistence(t){return new A8(cC.zs,this.serializer)}createSharedClientState(t){return new V8}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rq{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bq.bind(null,this.syncEngine),await aq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new lq}createDatastore(t){const n=kp(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new W8(i));var i;return function(o,a,s,l){return new q8(o,a,s,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=s=>tk(this.syncEngine,s,0),a=JR.D()?new JR:new B8,new Q8(n,r,i,o,a);var n,r,i,o,a}createSyncEngine(t,n){return function(r,i,o,a,s,l,u){const c=new mq(r,i,o,a,s,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ct(t);it("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await kh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):la("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=mP.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{it("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(it("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=vC(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Gw(e,t){e.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KP(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ik(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Aq(e);it("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>ZR(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>ZR(t.remoteStore,o)),e._onlineComponents=t}function Dq(e){return e.name==="FirebaseError"?e.code===Ne.FAILED_PRECONDITION||e.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Aq(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Dq(n))throw n;oc("Error using user provided cache. Falling back to memory cache: "+n),await Gw(e,new rk)}}else it("FirestoreClient","Using default OfflineComponentProvider"),await Gw(e,new rk);return e._offlineComponents}async function hL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),await ik(e,e._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),await ik(e,new Rq))),e._onlineComponents}function Nq(e){return hL(e).then(t=>t.syncEngine)}async function mL(e){const t=await hL(e),n=t.eventManager;return n.onListen=gq.bind(null,t.syncEngine),n.onUnlisten=pq.bind(null,t.syncEngine),n}function Oq(e,t,n={}){const r=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,l){const u=new fL({next:f=>{o.enqueueAndForget(()=>iL(i,c));const h=f.docs.has(a);!h&&f.fromCache?l.reject(new ot(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&s&&s.source==="server"?l.reject(new ot(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new oL(rC(a.path),u,{includeMetadataChanges:!0,Ku:!0});return rL(i,c)}(await mL(e),e.asyncQueue,t,n,r)),r.promise}function xq(e,t,n={}){const r=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,l){const u=new fL({next:f=>{o.enqueueAndForget(()=>iL(i,c)),f.fromCache&&s.source==="server"?l.reject(new ot(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new oL(a,u,{includeMetadataChanges:!0,Ku:!0});return rL(i,c)}(await mL(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(e,t,n){if(!n)throw new ot(Ne.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mq(e,t,n,r){if(t===!0&&r===!0)throw new ot(Ne.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ak(e){if(!ct.isDocumentKey(e))throw new ot(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sk(e){if(ct.isDocumentKey(e))throw new ot(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function wC(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":gt()}function da(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ot(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wC(e);throw new ot(Ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ot(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gL((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ot(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ot(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ot(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}}class Np{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ot(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new eG;switch(n.type){case"firstParty":return new iG(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=ok.get(t);n&&(it("ComponentProvider","Removing Datastore"),ok.delete(t),n.terminate())}(this),Promise.resolve()}}function Pq(e,t,n,r={}){var i;const o=(e=da(e,Np))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==t&&oc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let a,s;if(typeof r.mockUserToken=="string")a=r.mockUserToken,s=Cr.MOCK_USER;else{a=R9(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ot(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Cr(l)}e._authCredentials=new tG(new hP(a,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gi(this.firestore,t,this._key)}}class Op{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Op(this.firestore,t,this._query)}}class Xa extends Op{constructor(t,n,r){super(t,n,rC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gi(this.firestore,null,new ct(t))}withConverter(t){return new Xa(this.firestore,t,this._path)}}function EC(e,t,...n){if(e=$r(e),vL("collection","path",t),e instanceof Np){const r=Tn.fromString(t,...n);return sk(r),new Xa(e,null,r)}{if(!(e instanceof gi||e instanceof Xa))throw new ot(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tn.fromString(t,...n));return sk(r),new Xa(e.firestore,null,r)}}function Ja(e,t,...n){if(e=$r(e),arguments.length===1&&(t=mP.A()),vL("doc","path",t),e instanceof Np){const r=Tn.fromString(t,...n);return ak(r),new gi(e,null,new ct(r))}{if(!(e instanceof gi||e instanceof Xa))throw new ot(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Tn.fromString(t,...n));return ak(r),new gi(e.firestore,e instanceof Xa?e.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qP(this,"async_queue_retry"),this.Xc=()=>{const n=Kw();n&&it("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=Kw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=Kw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ea;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Th(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw la("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=gC.createAndSchedule(this,t,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&gt()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}class xc extends Np{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Lq,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pL(this),this._firestoreClient.terminate()}}function $q(e,t){const n=typeof e=="object"?e:aM(),r=typeof e=="string"?e:t||"(default)",i=mh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=I9("firestore");o&&Pq(i,...o)}return i}function _C(e){return e._firestoreClient||pL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pL(e){var t,n,r;const i=e._freezeSettings(),o=function(a,s,l,u){return new vG(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gL(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kq(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new dc(Fr.fromBase64String(t))}catch(n){throw new ot(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new dc(Fr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=/^__.*__$/;class jq{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(t,this.data,n,this.fieldTransforms)}}class yL{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new bs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function wL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class CC{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new CC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return vv(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(wL(this.ca)&&Fq.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Uq{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||kp(t)}ya(t,n,r,i=!1){return new CC({ca:t,methodName:n,ga:r,path:Ar.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EL(e){const t=e._freezeSettings(),n=kp(e._databaseId);return new Uq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vq(e,t,n,r,i,o={}){const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);TC("Data must be an object, but it was:",a,r);const s=_L(r,a);let l,u;if(o.merge)l=new di(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=sS(t,f,n);if(!a.contains(h))throw new ot(Ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bL(c,h)||c.push(h)}l=new di(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new jq(new Xr(s),l,u)}class Mp extends SC{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mp}}function Bq(e,t,n,r){const i=e.ya(1,t,n);TC("Data must be an object, but it was:",i,r);const o=[],a=Xr.empty();Nl(r,(l,u)=>{const c=IC(t,l,n);u=$r(u);const f=i.da(c);if(u instanceof Mp)o.push(c);else{const h=Pp(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new di(o);return new yL(a,s,i.fieldTransforms)}function zq(e,t,n,r,i,o){const a=e.ya(1,t,n),s=[sS(t,r,n)],l=[i];if(o.length%2!=0)throw new ot(Ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(sS(t,o[h])),l.push(o[h+1]);const u=[],c=Xr.empty();for(let h=s.length-1;h>=0;--h)if(!bL(u,s[h])){const v=s[h];let _=l[h];_=$r(_);const E=a.da(v);if(_ instanceof Mp)u.push(v);else{const S=Pp(_,E);S!=null&&(u.push(v),c.set(v,S))}}const f=new di(u);return new yL(c,f,a.fieldTransforms)}function Pp(e,t){if(SL(e=$r(e)))return TC("Unsupported field value:",t,e),_L(e,t);if(e instanceof SC)return function(n,r){if(!wL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const a of n){let s=Pp(a,r.wa(o));s==null&&(s={nullValue:"NULL_VALUE"}),i.push(s),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=$r(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jG(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Qn.fromDate(n);return{timestampValue:mv(r.serializer,i)}}if(n instanceof Qn){const i=new Qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mv(r.serializer,i)}}if(n instanceof bC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dc)return{bytesValue:UP(r.serializer,n._byteString)};if(n instanceof gi){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${wC(n)}`)}(e,t)}function _L(e,t){const n={};return gP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nl(e,(r,i)=>{const o=Pp(i,t.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SL(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Qn||e instanceof bC||e instanceof dc||e instanceof gi||e instanceof SC)}function TC(e,t,n){if(!SL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=wC(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function sS(e,t,n){if((t=$r(t))instanceof xp)return t._internalPath;if(typeof t=="string")return IC(e,t);throw vv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Hq=new RegExp("[~\\*/\\[\\]]");function IC(e,t,n){if(t.search(Hq)>=0)throw vv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new xp(...t.split("."))._internalPath}catch{throw vv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vv(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ot(Ne.INVALID_ARGUMENT,s+e+l)}function bL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Wq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(TL("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wq extends CL{data(){return super.data()}}function TL(e,t){return typeof t=="string"?IC(e,t):t instanceof xp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ot(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gq{convertValue(t,n="none"){switch(fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Un(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw gt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Nl(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new bC(Un(t.latitude),Un(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Z0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vf(t));default:return null}}convertTimestamp(t){const n=ls(t);return new Qn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Tn.fromString(t);En(WP(r));const i=new Bf(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return i.isEqual(n)||la(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class IL extends CL{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(TL("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lg extends IL{data(t={}){return super.data(t)}}class Yq{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new lg(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const s=new lg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ad(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const s=new lg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ad(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Qq(a.type),doc:s,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Qq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(e){e=da(e,gi);const t=da(e.firestore,xc);return Oq(_C(t),e._key).then(n=>Jq(t,e,n))}class RL extends Gq{constructor(t){super(),this.firestore=t}convertBytes(t){return new dc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,n)}}function RC(e){e=da(e,Op);const t=da(e.firestore,xc),n=_C(t),r=new RL(t);return Kq(e._query),xq(n,e._query).then(i=>new Yq(t,r,e,i))}function kC(e,t,n,...r){e=da(e,gi);const i=da(e.firestore,xc),o=EL(i);let a;return a=typeof(t=$r(t))=="string"||t instanceof xp?zq(o,"updateDoc",e._key,t,n,r):Bq(o,"updateDoc",e._key,t),NC(i,[a.toMutation(e._key,ao.exists(!0))])}function DC(e){return NC(da(e.firestore,xc),[new iC(e._key,ao.none())])}function AC(e,t){const n=da(e.firestore,xc),r=Ja(e),i=qq(e.converter,t);return NC(n,[Vq(EL(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,ao.exists(!1))]).then(()=>r)}function NC(e,t){return function(n,r){const i=new ea;return n.asyncQueue.enqueueAndForget(async()=>yq(await Nq(n),r,i)),i.promise}(_C(e),t)}function Jq(e,t,n){const r=n.docs.get(t._key),i=new RL(e);return new IL(e,i,t._key,r,new Ad(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Ac=n})(Dl),uo(new Vi("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new xc(new nG(n.getProvider("auth-internal")),new aG(n.getProvider("app-check-internal")),function(s,l){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ot(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(s.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ii(DR,"3.12.0",e),ii(DR,"3.12.0","esm2017")})();var Zq="firebase",e7="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(Zq,e7,"app");const t7=(e,t)=>t.some(n=>e instanceof n);let uk,ck;function n7(){return uk||(uk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r7(){return ck||(ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kL=new WeakMap,lS=new WeakMap,DL=new WeakMap,qw=new WeakMap,OC=new WeakMap;function i7(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(Za(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&kL.set(n,e)}).catch(()=>{}),OC.set(t,e),t}function o7(e){if(lS.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});lS.set(e,t)}let uS={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return lS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||DL.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function a7(e){uS=e(uS)}function s7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Yw(this),t,...n);return DL.set(r,t.sort?t.sort():[t]),Za(r)}:r7().includes(e)?function(...t){return e.apply(Yw(this),t),Za(kL.get(this))}:function(...t){return Za(e.apply(Yw(this),t))}}function l7(e){return typeof e=="function"?s7(e):(e instanceof IDBTransaction&&o7(e),t7(e,n7())?new Proxy(e,uS):e)}function Za(e){if(e instanceof IDBRequest)return i7(e);if(qw.has(e))return qw.get(e);const t=l7(e);return t!==e&&(qw.set(e,t),OC.set(t,e)),t}const Yw=e=>OC.get(e);function u7(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Za(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Za(a.result),l.oldVersion,l.newVersion,Za(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const c7=["get","getKey","getAll","getAllKeys","count"],d7=["put","add","delete","clear"],Qw=new Map;function dk(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qw.get(t))return Qw.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=d7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c7.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Qw.set(t,o),o}a7(e=>({...e,get:(t,n,r)=>dk(t,n)||e.get(t,n,r),has:(t,n)=>!!dk(t,n)||e.has(t,n)}));const AL="@firebase/installations",xC="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1e4,OL=`w:${xC}`,xL="FIS_v2",f7="https://firebaseinstallations.googleapis.com/v1",h7=60*60*1e3,m7="installations",g7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},hl=new kl(m7,g7,v7);function ML(e){return e instanceof mo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL({projectId:e}){return`${f7}/projects/${e}/installations`}function LL(e){return{token:e.token,requestStatus:2,expiresIn:y7(e.expiresIn),creationTime:Date.now()}}async function $L(e,t){const r=(await t.json()).error;return hl.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FL({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function p7(e,{refreshToken:t}){const n=FL(e);return n.append("Authorization",w7(t)),n}async function jL(e){const t=await e();return t.status>=500&&t.status<600?e():t}function y7(e){return Number(e.replace("s","000"))}function w7(e){return`${xL} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=PL(e),i=FL(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:xL,appId:e.appId,sdkVersion:OL},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await jL(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:LL(u.authToken)}}else throw await $L("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=/^[cdef][\w-]{21}$/,cS="";function b7(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=C7(e);return S7.test(n)?n:cS}catch{return cS}}function C7(e){return _7(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new Map;function BL(e,t){const n=Lp(e);zL(n,t),T7(n,t)}function zL(e,t){const n=VL.get(e);if(n)for(const r of n)r(t)}function T7(e,t){const n=I7();n&&n.postMessage({key:e,fid:t}),R7()}let Ks=null;function I7(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=e=>{zL(e.data.key,e.data.fid)}),Ks}function R7(){VL.size===0&&Ks&&(Ks.close(),Ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7="firebase-installations-database",D7=1,ml="firebase-installations-store";let Xw=null;function MC(){return Xw||(Xw=u7(k7,D7,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ml)}}})),Xw}async function pv(e,t){const n=Lp(e),i=(await MC()).transaction(ml,"readwrite"),o=i.objectStore(ml),a=await o.get(n);return await o.put(t,n),await i.done,(!a||a.fid!==t.fid)&&BL(e,t.fid),t}async function HL(e){const t=Lp(e),r=(await MC()).transaction(ml,"readwrite");await r.objectStore(ml).delete(t),await r.done}async function $p(e,t){const n=Lp(e),i=(await MC()).transaction(ml,"readwrite"),o=i.objectStore(ml),a=await o.get(n),s=t(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&BL(e,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(e){let t;const n=await $p(e.appConfig,r=>{const i=A7(r),o=N7(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===cS?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function A7(e){const t=e||{fid:b7(),registrationStatus:0};return WL(t)}function N7(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(hl.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=O7(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:x7(e)}:{installationEntry:t}}async function O7(e,t){try{const n=await E7(e,t);return pv(e.appConfig,n)}catch(n){throw ML(n)&&n.customData.serverCode===409?await HL(e.appConfig):await pv(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function x7(e){let t=await fk(e.appConfig);for(;t.registrationStatus===1;)await UL(100),t=await fk(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await PC(e);return r||n}return t}function fk(e){return $p(e,t=>{if(!t)throw hl.create("installation-not-found");return WL(t)})}function WL(e){return M7(e)?{fid:e.fid,registrationStatus:0}:e}function M7(e){return e.registrationStatus===1&&e.registrationTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7({appConfig:e,heartbeatServiceProvider:t},n){const r=L7(e,n),i=p7(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:OL,appId:e.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await jL(()=>fetch(r,s));if(l.ok){const u=await l.json();return LL(u)}else throw await $L("Generate Auth Token",l)}function L7(e,{fid:t}){return`${PL(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(e,t=!1){let n;const r=await $p(e.appConfig,o=>{if(!KL(o))throw hl.create("not-registered");const a=o.authToken;if(!t&&j7(a))return o;if(a.requestStatus===1)return n=$7(e,t),o;{if(!navigator.onLine)throw hl.create("app-offline");const s=V7(o);return n=F7(e,s),s}});return n?await n:r.authToken}async function $7(e,t){let n=await hk(e.appConfig);for(;n.authToken.requestStatus===1;)await UL(100),n=await hk(e.appConfig);const r=n.authToken;return r.requestStatus===0?LC(e,t):r}function hk(e){return $p(e,t=>{if(!KL(t))throw hl.create("not-registered");const n=t.authToken;return B7(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function F7(e,t){try{const n=await P7(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await pv(e.appConfig,r),n}catch(n){if(ML(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HL(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pv(e.appConfig,r)}throw n}}function KL(e){return e!==void 0&&e.registrationStatus===2}function j7(e){return e.requestStatus===2&&!U7(e)}function U7(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+h7}function V7(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function B7(e){return e.requestStatus===1&&e.requestTime+NL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(e){const t=e,{installationEntry:n,registrationPromise:r}=await PC(t);return r?r.catch(console.error):LC(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H7(e,t=!1){const n=e;return await W7(n),(await LC(n,t)).token}async function W7(e){const{registrationPromise:t}=await PC(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(e){if(!e||!e.options)throw Jw("App Configuration");if(!e.name)throw Jw("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jw(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Jw(e){return hl.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="installations",G7="installations-internal",q7=e=>{const t=e.getProvider("app").getImmediate(),n=K7(t),r=mh(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y7=e=>{const t=e.getProvider("app").getImmediate(),n=mh(t,GL).getImmediate();return{getId:()=>z7(n),getToken:i=>H7(n,i)}};function Q7(){uo(new Vi(GL,q7,"PUBLIC")),uo(new Vi(G7,Y7,"PRIVATE"))}Q7();ii(AL,xC);ii(AL,xC,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="analytics",X7="firebase_id",J7="origin",Z7=60*1e3,eY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$C="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Li=new kl("analytics","Analytics",tY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(e){if(!e.startsWith($C)){const t=Li.create("invalid-gtag-resource",{gtagURL:e});return oi.warn(t.message),""}return e}function qL(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function rY(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function iY(e,t){const n=rY("firebase-js-sdk-policy",{createScriptURL:nY}),r=document.createElement("script"),i=`${$C}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function oY(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function aY(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const l=(await qL(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(s){oi.error(s)}e("config",i,o)}async function sY(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await qL(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&t[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){oi.error(o)}}function lY(e,t,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await sY(e,t,n,s,l)}else if(o==="config"){const[s,l]=a;await aY(e,t,n,r,s,l)}else if(o==="consent"){const[s]=a;e("consent","update",s)}else if(o==="get"){const[s,l,u]=a;e("get",s,l,u)}else if(o==="set"){const[s]=a;e("set",s)}else e(o,...a)}catch(s){oi.error(s)}}return i}function uY(e,t,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=lY(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function cY(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes($C)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=30,fY=1e3;class hY{constructor(t={},n=fY){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const YL=new hY;function mY(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function gY(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:mY(r)},o=eY.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(s=l.error.message)}catch{}throw Li.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function vY(e,t=YL,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Li.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Li.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new wY;return setTimeout(async()=>{s.abort()},n!==void 0?n:Z7),QL({appId:r,apiKey:i,measurementId:o},a,s,t)}async function QL(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=YL){var o;const{appId:a,measurementId:s}=e;try{await pY(r,t)}catch(l){if(s)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await gY(e);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!yY(u)){if(i.deleteThrottleMetadata(a),s)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?aR(n,i.intervalMillis,dY):aR(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),oi.debug(`Calling attemptFetch again in ${c} millis`),QL(e,f,r,i)}}function pY(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Li.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function yY(e){if(!(e instanceof mo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class wY{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function EY(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,a=Object.assign(Object.assign({},r),{send_to:o});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(){if(eM())try{await tM()}catch(e){return oi.warn(Li.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return oi.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SY(e,t,n,r,i,o,a){var s;const l=vY(e);l.then(v=>{n[v.measurementId]=v.appId,e.options.measurementId&&v.measurementId!==e.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>oi.error(v)),t.push(l);const u=_Y().then(v=>{if(v)return r.getId()}),[c,f]=await Promise.all([l,u]);cY(o)||iY(o,c.measurementId),i("js",new Date);const h=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return h[J7]="firebase",h.update=!0,f!=null&&(h[X7]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(t){this.app=t}_delete(){return delete Xd[this.app.options.appId],Promise.resolve()}}let Xd={},gk=[];const vk={};let Zw="dataLayer",CY="gtag",pk,XL,yk=!1;function TY(){const e=[];if(Xx()&&e.push("This is a browser extension environment."),D9()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Li.create("invalid-analytics-context",{errorInfo:t});oi.warn(n.message)}}function IY(e,t,n){TY();const r=e.options.appId;if(!r)throw Li.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Li.create("no-api-key");if(Xd[r]!=null)throw Li.create("already-exists",{id:r});if(!yk){oY(Zw);const{wrappedGtag:o,gtagCore:a}=uY(Xd,gk,vk,Zw,CY);XL=o,pk=a,yk=!0}return Xd[r]=SY(e,gk,vk,t,pk,Zw,n),new bY(e)}function RY(e,t,n,r){e=$r(e),EY(XL,Xd[e.app.options.appId],t,n,r).catch(i=>oi.error(i))}const wk="@firebase/analytics",Ek="0.10.0";function kY(){uo(new Vi(mk,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return IY(r,i,n)},"PUBLIC")),uo(new Vi("analytics-internal",e,"PRIVATE")),ii(wk,Ek),ii(wk,Ek,"esm2017");function e(t){try{const n=t.getProvider(mk).getImmediate();return{logEvent:(r,i,o)=>RY(n,r,i,o)}}catch(n){throw Li.create("interop-component-reg-failed",{reason:n})}}}kY();function FC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function JL(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DY=JL,ZL=new kl("auth","Firebase",JL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new hh("@firebase/auth");function AY(e,...t){yv.logLevel<=Bt.WARN&&yv.warn(`Auth (${Dl}): ${e}`,...t)}function ug(e,...t){yv.logLevel<=Bt.ERROR&&yv.error(`Auth (${Dl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e,...t){throw jC(e,...t)}function No(e,...t){return jC(e,...t)}function NY(e,t,n){const r=Object.assign(Object.assign({},DY()),{[t]:n});return new kl("auth","Firebase",r).create(t,{appName:e.name})}function jC(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ZL.create(e,...t)}function wt(e,t,...n){if(!e)throw jC(t,...n)}function qo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ug(t),new Error(t)}function ha(e,t){e||qo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function OY(){return _k()==="http:"||_k()==="https:"}function _k(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OY()||Xx()||"connection"in navigator)?navigator.onLine:!0}function MY(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n){this.shortDelay=t,this.longDelay=n,ha(n>t,"Short delay should be less than long delay!"),this.isMobile=I0()||Jx()}get(){return xY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e,t){ha(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=new Ah(3e4,6e4);function t$(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nh(e,t,n,r,i={}){return n$(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=Rc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),e$.fetch()(r$(e,e.config.apiHost,n,s),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function n$(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},PY),t);try{const i=new FY(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Fm(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fm(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Fm(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Fm(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NY(e,c,u);fa(e,c)}}catch(i){if(i instanceof mo)throw i;fa(e,"network-request-failed",{message:String(i)})}}async function $Y(e,t,n,r,i={}){const o=await Nh(e,t,n,r,i);return"mfaPendingCredential"in o&&fa(e,"multi-factor-auth-required",{_serverResponse:o}),o}function r$(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?UC(e.config,i):`${e.config.apiScheme}://${i}`}class FY{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(No(this.auth,"network-request-failed")),LY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=No(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(e,t){return Nh(e,"POST","/v1/accounts:delete",t)}async function UY(e,t){return Nh(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VY(e,t=!1){const n=$r(e),r=await n.getIdToken(t),i=VC(r);wt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jd(eE(i.auth_time)),issuedAtTime:Jd(eE(i.iat)),expirationTime:Jd(eE(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function eE(e){return Number(e)*1e3}function VC(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ug("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qg(n);return i?JSON.parse(i):(ug("Failed to decode base64 JWT payload"),null)}catch(i){return ug("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BY(e){const t=VC(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof mo&&zY(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zY({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kf(e,UY(n,{idToken:r}));wt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?GY(o.providerUserInfo):[],s=KY(e.providerData,a),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new i$(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function WY(e){const t=$r(e);await wv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function KY(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function GY(e){return e.map(t=>{var{providerId:n}=t,r=FC(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(e,t){const n=await n$(e,{},async()=>{const r=Rc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=r$(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",e$.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):BY(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return wt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await qY(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Gf;return r&&(wt(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(wt(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(wt(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gf,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Js{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=FC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new i$(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Kf(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return VY(this,t)}reload(){return WY(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Js(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await wv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Kf(this,jY(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(s=n.tenantId)!==null&&s!==void 0?s:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:C,isAnonymous:A,providerData:P,stsTokenManager:L}=n;wt(y&&L,t,"internal-error");const K=Gf.fromJSON(this.name,L);wt(typeof y=="string",t,"internal-error"),Ta(f,t.name),Ta(h,t.name),wt(typeof C=="boolean",t,"internal-error"),wt(typeof A=="boolean",t,"internal-error"),Ta(v,t.name),Ta(_,t.name),Ta(E,t.name),Ta(S,t.name),Ta(w,t.name),Ta(p,t.name);const ae=new Js({uid:y,auth:t,email:h,emailVerified:C,displayName:f,isAnonymous:A,photoURL:_,phoneNumber:v,tenantId:E,stsTokenManager:K,createdAt:w,lastLoginAt:p});return P&&Array.isArray(P)&&(ae.providerData=P.map(le=>Object.assign({},le))),S&&(ae._redirectEventId=S),ae}static async _fromIdTokenResponse(t,n,r=!1){const i=new Gf;i.updateFromServerResponse(n);const o=new Js({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await wv(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Map;function Yo(e){ha(e instanceof Function,"Expected a class definition");let t=Sk.get(e);return t?(ha(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sk.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}o$.type="NONE";const bk=o$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e,t,n){return`firebase:${e}:${t}:${n}`}class $u{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cg(this.userKey,i.apiKey,o),this.fullPersistenceKey=cg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Js._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new $u(Yo(bk),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Yo(bk);const a=cg(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=Js._fromJSON(t,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new $u(o,t,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new $u(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(l$(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(a$(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(c$(t))return"Blackberry";if(d$(t))return"Webos";if(BC(t))return"Safari";if((t.includes("chrome/")||s$(t))&&!t.includes("edge/"))return"Chrome";if(u$(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a$(e=Lr()){return/firefox\//i.test(e)}function BC(e=Lr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function s$(e=Lr()){return/crios\//i.test(e)}function l$(e=Lr()){return/iemobile/i.test(e)}function u$(e=Lr()){return/android/i.test(e)}function c$(e=Lr()){return/blackberry/i.test(e)}function d$(e=Lr()){return/webos/i.test(e)}function Fp(e=Lr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YY(e=Lr()){var t;return Fp(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QY(){return k9()&&document.documentMode===10}function f$(e=Lr()){return Fp(e)||u$(e)||d$(e)||c$(e)||/windows phone/i.test(e)||l$(e)}function XY(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(e,t=[]){let n;switch(e){case"Browser":n=Ck(Lr());break;case"Worker":n=`${Ck(Lr())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}async function m$(e,t){return Nh(e,"GET","/v2/recaptchaConfig",t$(e,t))}function Tk(e){return e!==void 0&&e.enterprise!==void 0}class g${constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function v$(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=No("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JY().appendChild(r)})}function ZY(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const eQ="https://www.google.com/recaptcha/enterprise.js?render=",tQ="recaptcha-enterprise",nQ="NO_RECAPTCHA";class rQ{constructor(t){this.type=tQ,this.auth=jp(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{m$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new g$(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;Tk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{a(u)}).catch(()=>{a(nQ)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&Tk(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}v$(eQ+s).then(()=>{i(s,o,a)}).catch(l=>{a(l)})}}).catch(s=>{a(s)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const l=t(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ik(this),this.idTokenSubscription=new Ik(this),this.beforeStateQueue=new iQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await $u.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wv(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MY()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?$r(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yo(t))})}async initializeRecaptchaConfig(){const t=await m$(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new g$(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new rQ(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yo(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await $u.create(this,[Yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return wt(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=h$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&AY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jp(e){return $r(e)}class Ik{constructor(t){this.auth=t,this.observer=null,this.addObserver=L9(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(e,t){const n=mh(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Jg(o,t??{}))return i;fa(i,"already-initialized")}return n.initialize({options:t})}function sQ(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function lQ(e,t,n){const r=jp(e);wt(r._canInitEmulator,r,"emulator-config-failed"),wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=p$(t),{host:a,port:s}=uQ(t),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||cQ()}function p$(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uQ(e){const t=p$(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Rk(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Rk(a)}}}function Rk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function cQ(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qo("not implemented")}_getIdTokenResponse(t){return qo("not implemented")}_linkToIdToken(t,n){return qo("not implemented")}_getReauthenticationResolver(t){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e,t){return $Y(e,"POST","/v1/accounts:signInWithIdp",t$(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ="http://localhost";class gl extends y${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new gl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=FC(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new gl(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Fu(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Fu(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fu(t,n)}buildRequest(){const t={requestUri:dQ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Rc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends w${constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Oh{constructor(){super("facebook.com")}static credential(t){return gl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oa.credential(t.oauthAccessToken)}catch{return null}}}Oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Oh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return gl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return xa.credentialFromTaggedObject(t)}static credentialFromError(t){return xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Oh{constructor(){super("github.com")}static credential(t){return gl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Oh{constructor(){super("twitter.com")}static credential(t,n){return gl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Pa.credential(n,r)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Js._fromIdTokenResponse(t,r,i),a=kk(r);return new fc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=kk(r);return new fc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function kk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends mo{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ev.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ev(t,n,r,i)}}function E$(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ev._fromErrorAndOperation(e,o,t,r):o})}async function fQ(e,t,n=!1){const r=await Kf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Kf(e,E$(r,i,t,e),n);wt(o.idToken,r,"internal-error");const a=VC(o.idToken);wt(a,r,"internal-error");const{sub:s}=a;return wt(e.uid===s,r,"user-mismatch"),fc._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(e,t,n=!1){const r="signIn",i=await E$(e,r,t),o=await fc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function gQ(e,t,n,r){return $r(e).onIdTokenChanged(t,n,r)}function vQ(e,t,n){return $r(e).beforeAuthStateChanged(t,n)}const _v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(){const e=Lr();return BC(e)||Fp(e)}const yQ=1e3,wQ=10;class S$ extends _${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pQ()&&XY(),this.fallbackToPolling=f$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);QY()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,wQ):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},yQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}S$.type="LOCAL";const EQ=S$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b$ extends _${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}b$.type="SESSION";const C$=b$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Up(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await _Q(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=zC("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return window}function bQ(e){Oo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return typeof Oo().WorkerGlobalScope<"u"&&typeof Oo().importScripts=="function"}async function CQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TQ(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function IQ(){return T$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firebaseLocalStorageDb",RQ=1,Sv="firebaseLocalStorage",R$="fbase_key";class xh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vp(e,t){return e.transaction([Sv],t?"readwrite":"readonly").objectStore(Sv)}function kQ(){const e=indexedDB.deleteDatabase(I$);return new xh(e).toPromise()}function fS(){const e=indexedDB.open(I$,RQ);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Sv,{keyPath:R$})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Sv)?t(r):(r.close(),await kQ(),t(await fS()))})})}async function Dk(e,t,n){const r=Vp(e,!0).put({[R$]:t,value:n});return new xh(r).toPromise()}async function DQ(e,t){const n=Vp(e,!1).get(t),r=await new xh(n).toPromise();return r===void 0?null:r.value}function Ak(e,t){const n=Vp(e,!0).delete(t);return new xh(n).toPromise()}const AQ=800,NQ=3;class k${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fS(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>NQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(IQ()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await CQ(),!this.activeServiceWorker)return;this.sender=new SQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fS();return await Dk(t,_v,"1"),await Ak(t,_v),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dk(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>DQ(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ak(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Vp(i,!1).getAll();return new xh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k$.type="LOCAL";const OQ=k$;new Ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(e,t){return t?Yo(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends y${constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function MQ(e){return mQ(e.auth,new HC(e),e.bypassAuthState)}function PQ(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),hQ(n,new HC(e),e.bypassAuthState)}async function LQ(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),fQ(n,new HC(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return MQ;case"linkViaPopup":case"linkViaRedirect":return LQ;case"reauthViaPopup":case"reauthViaRedirect":return PQ;default:fa(this.auth,"internal-error")}}resolve(t){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=new Ah(2e3,1e4);class Cu extends D${constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cu.currentPopupAction&&Cu.currentPopupAction.cancel(),Cu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const t=zC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(No(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(No(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(No(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$Q.get())};t()}}Cu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ="pendingRedirect",dg=new Map;class jQ extends D${constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=dg.get(this.auth._key());if(!t){try{const r=await UQ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}dg.set(this.auth._key(),t)}return this.bypassAuthState||dg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UQ(e,t){const n=zQ(t),r=BQ(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VQ(e,t){dg.set(e._key(),t)}function BQ(e){return Yo(e._redirectPersistence)}function zQ(e){return cg(FQ,e.config.apiKey,e.name)}async function HQ(e,t,n=!1){const r=jp(e),i=xQ(r,t),a=await new jQ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=10*60*1e3;class KQ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GQ(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!A$(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(No(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nk(t))}saveEventToCache(t){this.cachedEventUids.add(Nk(t)),this.lastProcessedEventTime=Date.now()}}function Nk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function A$({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function GQ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A$(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qQ(e,t={}){return Nh(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QQ=/^https?/;async function XQ(e){if(e.config.emulator)return;const{authorizedDomains:t}=await qQ(e);for(const n of t)try{if(JQ(n))return}catch{}fa(e,"unauthorized-domain")}function JQ(e){const t=dS(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!QQ.test(n))return!1;if(YQ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new Ah(3e4,6e4);function Ok(){const e=Oo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function eX(e){return new Promise((t,n)=>{var r,i,o;function a(){Ok(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ok(),n(No(e,"network-request-failed"))},timeout:ZQ.get()})}if(!((i=(r=Oo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Oo().gapi)===null||o===void 0)&&o.load)a();else{const s=ZY("iframefcb");return Oo()[s]=()=>{gapi.load?a():n(No(e,"network-request-failed"))},v$(`https://apis.google.com/js/api.js?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw fg=null,t})}let fg=null;function tX(e){return fg=fg||eX(e),fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=new Ah(5e3,15e3),rX="__/auth/iframe",iX="emulator/auth/iframe",oX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sX(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?UC(t,iX):`https://${e.config.authDomain}/${rX}`,r={apiKey:t.apiKey,appName:e.name,v:Dl},i=aX.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rc(r).slice(1)}`}async function lX(e){const t=await tX(e),n=Oo().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:sX(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oX,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=No(e,"network-request-failed"),s=Oo().setTimeout(()=>{o(a)},nX.get());function l(){Oo().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cX=500,dX=600,fX="_blank",hX="http://localhost";class xk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mX(e,t,n,r=cX,i=dX){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},uX),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Lr().toLowerCase();n&&(s=s$(u)?fX:n),a$(u)&&(t=t||hX,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[v,_])=>`${h}${v}=${_},`,"");if(YY(u)&&s!=="_self")return gX(t||"",s),new xk(null);const f=window.open(t||"",s,c);wt(f,e,"popup-blocked");try{f.focus()}catch{}return new xk(f)}function gX(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX="__/auth/handler",pX="emulator/auth/handler",yX=encodeURIComponent("fac");async function Mk(e,t,n,r,i,o){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Dl,eventId:i};if(t instanceof w$){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",A_(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))a[c]=f}if(t instanceof Oh){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${yX}=${encodeURIComponent(l)}`:"";return`${wX(e)}?${Rc(s).slice(1)}${u}`}function wX({config:e}){return e.emulator?UC(e,pX):`https://${e.authDomain}/${vX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="webStorageSupport";class EX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C$,this._completeRedirectFn=HQ,this._overrideRedirectResult=VQ}async _openPopup(t,n,r,i){var o;ha((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Mk(t,n,r,dS(),i);return mX(t,a,zC())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await Mk(t,n,r,dS(),i);return bQ(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ha(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await lX(t),r=new KQ(t);return n.register("authEvent",i=>(wt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tE,{type:tE},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tE];a!==void 0&&n(!!a),fa(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XQ(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return f$()||BC()||Fp()}}const _X=EX;var Pk="@firebase/auth",Lk="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function CX(e){uo(new Vi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;wt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h$(e)},u=new oQ(r,i,o,l);return sQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),uo(new Vi("auth-internal",t=>{const n=jp(t.getProvider("auth").getImmediate());return(r=>new SX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Pk,Lk,bX(e)),ii(Pk,Lk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TX=5*60,IX=Qx("authIdTokenMaxAge")||TX;let $k=null;const RX=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IX)return;const i=n==null?void 0:n.token;$k!==i&&($k=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kX(e=aM()){const t=mh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=aQ(e,{popupRedirectResolver:_X,persistence:[OQ,EQ,C$]}),r=Qx("authTokenSyncURL");if(r){const o=RX(r);vQ(n,o,()=>o(n.currentUser)),gQ(n,a=>o(a))}const i=qx("auth");return i&&lQ(n,`http://${i}`),n}CX("Browser");const Fk="@firebase/database",jk="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N$="";function DX(e){N$=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),vr(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:xf(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return pa(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new AX(t)}}catch{}return new NX},Gs=O$("localStorage"),hS=O$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new hh("@firebase/database"),OX=function(){let e=1;return function(){return e++}}(),x$=function(e){const t=U9(e),n=new P9;n.update(t);const r=n.digest();return b0.encodeByteArray(r)},Mh=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Mh.apply(null,r):typeof r=="object"?t+=vr(r):t+=r,t+=" "}return t};let Zs=null,Uk=!0;const xX=function(e,t){Ke(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ju.logLevel=Bt.VERBOSE,Zs=ju.log.bind(ju),t&&hS.set("logging_enabled",!0)):typeof e=="function"?Zs=e:(Zs=null,hS.remove("logging_enabled"))},kr=function(...e){if(Uk===!0&&(Uk=!1,Zs===null&&hS.get("logging_enabled")===!0&&xX(!0)),Zs){const t=Mh.apply(null,e);Zs(t)}},Ph=function(e){return function(...t){kr(e,...t)}},mS=function(...e){const t="FIREBASE INTERNAL ERROR: "+Mh(...e);ju.error(t)},vl=function(...e){const t=`FIREBASE FATAL ERROR: ${Mh(...e)}`;throw ju.error(t),new Error(t)},vi=function(...e){const t="FIREBASE WARNING: "+Mh(...e);ju.warn(t)},MX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},M$=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},PX=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hc="[MIN_NAME]",pl="[MAX_NAME]",Mc=function(e,t){if(e===t)return 0;if(e===hc||t===pl)return-1;if(t===hc||e===pl)return 1;{const n=Vk(e),r=Vk(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},LX=function(e,t){return e===t?0:e<t?-1:1},hd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+vr(t))},WC=function(e){if(typeof e!="object"||e===null)return vr(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=vr(t[r]),n+=":",n+=WC(e[t[r]]);return n+="}",n},P$=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Bi(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const L$=function(e){Ke(!M$(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,a,s,l;e===0?(o=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=s+r,a=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(o=0,a=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},$X=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},jX=new RegExp("^-?(0*)\\d{1,10}$"),UX=-2147483648,VX=2147483647,Vk=function(e){if(jX.test(e)){const t=Number(e);if(t>=UX&&t<=VX)return t}return null},Lh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw vi("Exception was thrown by user callback.",n),t},Math.floor(0))}},BX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zd=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){vi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(kr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vi(t)}}class gS{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}gS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="5",$$="v",F$="s",j$="r",U$="f",V$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B$="ls",z$="p",vS="ac",H$="websocket",W$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(t,n,r,i,o=!1,a="",s=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function KX(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function K$(e,t,n){Ke(typeof t=="string","typeof type must == string"),Ke(typeof n=="object","typeof params must == object");let r;if(t===H$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===W$)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);KX(e)&&(n.ns=e.namespace);const i=[];return Bi(n,(o,a)=>{i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(){this.counters_={}}incrementCounter(t,n=1){pa(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return E9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={},rE={};function GC(e){const t=e.toString();return nE[t]||(nE[t]=new GX),nE[t]}function qX(e,t){const n=e.toString();return rE[n]||(rE[n]=t()),rE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Lh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="start",QX="close",XX="pLPCommand",JX="pRTLPCB",G$="id",q$="pw",Y$="ser",ZX="cb",eJ="seg",tJ="ts",nJ="d",rJ="dframe",Q$=1870,X$=30,iJ=Q$-X$,oJ=25e3,aJ=3e4;class Tu{constructor(t,n,r,i,o,a,s){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ph(t),this.stats_=GC(n),this.urlFn=l=>(this.appCheckToken&&(l[vS]=this.appCheckToken),K$(n,W$,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new YX(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aJ)),PX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qC((...o)=>{const[a,s,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Bk)this.id=s,this.password=l;else if(a===QX)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,s]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,s)},()=>{this.onClosed_()},this.urlFn);const r={};r[Bk]="t",r[Y$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ZX]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$$]=KC,this.transportSessionId&&(r[F$]=this.transportSessionId),this.lastSessionId&&(r[B$]=this.lastSessionId),this.applicationId&&(r[z$]=this.applicationId),this.appCheckToken&&(r[vS]=this.appCheckToken),typeof location<"u"&&location.hostname&&V$.test(location.hostname)&&(r[j$]=U$);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tu.forceAllow_=!0}static forceDisallow(){Tu.forceDisallow_=!0}static isAvailable(){return Tu.forceAllow_?!0:!Tu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$X()&&!FX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=vr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Kx(n),i=P$(r,iJ);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[rJ]="t",r[G$]=t,r[q$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=vr(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qC{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OX(),window[XX+this.uniqueCallbackIdentifier]=t,window[JX+this.uniqueCallbackIdentifier]=n,this.myIFrame=qC.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){kr("frame writing exception"),s.stack&&kr(s.stack),kr(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||kr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[G$]=this.myID,t[q$]=this.myPW,t[Y$]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+X$+r.length<=Q$;){const a=this.pendingSegs.shift();r=r+"&"+eJ+i+"="+a.seg+"&"+tJ+i+"="+a.ts+"&"+nJ+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(oJ)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{kr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=16384,lJ=45e3;let bv=null;typeof MozWebSocket<"u"?bv=MozWebSocket:typeof WebSocket<"u"&&(bv=WebSocket);class eo{constructor(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ph(this.connId),this.stats_=GC(n),this.connURL=eo.connectionURL_(n,a,s,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const a={};return a[$$]=KC,typeof location<"u"&&location.hostname&&V$.test(location.hostname)&&(a[j$]=U$),n&&(a[F$]=n),r&&(a[B$]=r),i&&(a[vS]=i),o&&(a[z$]=o),K$(t,H$,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gs.set("previous_websocket_failure",!0);try{let r;Zx(),this.mySock=new bv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){eo.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&bv!==null&&!eo.forceDisallow_}static previouslyFailed(){return Gs.isInMemoryStorage||Gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=xf(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ke(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=vr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=P$(n,sJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lJ))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eo.responsesRequiredToBeHealthy=2;eo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Tu,eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=eo&&eo.isAvailable();let r=n&&!eo.previouslyFailed();if(t.webSocketOnly&&(n||vi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[eo];else{const i=this.transports_=[];for(const o of qf.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);qf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=6e4,cJ=5e3,dJ=10*1024,fJ=100*1024,iE="t",zk="d",hJ="s",Hk="r",mJ="e",Wk="o",Kk="a",Gk="n",qk="p",gJ="h";class vJ{constructor(t,n,r,i,o,a,s,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ph("c:"+this.id+":"),this.transportManager_=new qf(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(iE in t){const n=t[iE];n===Kk?this.upgradeIfSecondaryHealthy_():n===Hk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=hd("t",t),r=hd("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qk,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kk,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=hd("t",t),r=hd("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=hd(iE,t);if(zk in t){const r=t[zk];if(n===gJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Gk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hJ?this.onConnectionShutdown_(r):n===Hk?this.onReset_(r):n===mJ?mS("Server Error: "+r):n===Wk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mS("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),KC!==r&&vi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uJ))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qk,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(t){this.allowedEvents_=t,this.listeners_={},Ke(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){Ke(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Z${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cv}getInitialEvent(t){return Ke(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=32,Qk=768;class _n{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ln(){return new _n("")}function Ft(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function cs(e){return e.pieces_.length-e.pieceNum_}function yn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new _n(e.pieces_,t)}function eF(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pJ(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function tF(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function nF(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _n(t,0)}function or(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _n)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _n(n,0)}function xt(e){return e.pieceNum_>=e.pieces_.length}function xi(e,t){const n=Ft(e),r=Ft(t);if(n===null)return t;if(n===r)return xi(yn(e),yn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function rF(e,t){if(cs(e)!==cs(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ro(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(cs(e)>cs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class yJ{constructor(t,n){this.errorPrefix_=n,this.parts_=tF(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=op(this.parts_[r]);iF(this)}}function wJ(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=op(t),iF(e)}function EJ(e){const t=e.parts_.pop();e.byteLength_-=op(t),e.parts_.length>0&&(e.byteLength_-=1)}function iF(e){if(e.byteLength_>Qk)throw new Error(e.errorPrefix_+"has a key path longer than "+Qk+" bytes ("+e.byteLength_+").");if(e.parts_.length>Yk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yk+") or object contains a cycle "+Ms(e))}function Ms(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends Z${constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YC}getInitialEvent(t){return Ke(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=1e3,_J=60*5*1e3,Xk=30*1e3,SJ=1.3,bJ=3e4,CJ="server_kill",Jk=3;class ta extends J${constructor(t,n,r,i,o,a,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=ta.nextPersistentConnectionId_++,this.log_=Ph("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=md,this.maxReconnectDelay_=_J,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Zx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YC.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Cv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(vr(o)),Ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new T0,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const s=a.d;a.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Ke(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ke(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},a="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,s=>{const l=s.d,u=s.s;ta.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&pa(t,"w")){const r=rc(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();vi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||M9(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xk)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=x9(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,a=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ke(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},a="n";i&&(o.q=r,o.t=i),this.sendRequest(a,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+vr(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):mS("Unrecognized action received from server: "+vr(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=md,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=md,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bJ&&(this.reconnectDelay_=md),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ta.nextConnectionId_++,o=this.lastSessionId;let a=!1,s=null;const l=function(){s?s.close():(a=!0,r())},u=function(f){Ke(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?kr("getToken() completed but was canceled"):(kr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,s=new vJ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,v=>{vi(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(CJ)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&vi(f),l())}}}interrupt(t){kr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){kr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],A_(this.interruptReasons_)&&(this.reconnectDelay_=md,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>WC(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new _n(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){kr("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jk&&(this.reconnectDelay_=Xk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){kr("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+N$.replace(/\./g,"-")]=1,I0()?t["framework.cordova"]=1:Jx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cv.getInstance().currentlyOnline();return A_(this.interruptReasons_)&&t}}ta.nextPersistentConnectionId_=0;ta.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new jt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new jt(hc,t),i=new jt(hc,n);return this.compare(r,i)!==0}minPost(){return jt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm;class oF extends Bp{static get __EMPTY_NODE(){return jm}static set __EMPTY_NODE(t){jm=t}compare(t,n){return Mc(t.name,n.name)}isDefinedOn(t){throw Ic("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return jt.MIN}maxPost(){return new jt(pl,jm)}makePost(t,n){return Ke(typeof t=="string","KeyIndex indexValue must always be a string."),new jt(t,jm)}toString(){return".key"}}const Uu=new oF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ir{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ir.RED,this.left=i??Zr.EMPTY_NODE,this.right=o??Zr.EMPTY_NODE}copy(t,n,r,i,o){return new ir(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Zr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ir.RED=!0;ir.BLACK=!1;class TJ{copy(t,n,r,i,o){return this}insert(t,n,r){return new ir(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Zr{constructor(t,n=Zr.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Zr(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ir.BLACK,null,null))}remove(t){return new Zr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ir.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Um(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Um(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Um(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Um(this.root_,null,this.comparator_,!0,t)}}Zr.EMPTY_NODE=new TJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(e,t){return Mc(e.name,t.name)}function QC(e,t){return Mc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS;function RJ(e){pS=e}const aF=function(e){return typeof e=="number"?"number:"+L$(e):"string:"+e},sF=function(e){if(e.isLeafNode()){const t=e.val();Ke(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pa(t,".sv"),"Priority must be a string or number.")}else Ke(e===pS||e.isEmpty(),"priority of unexpected type.");Ke(e===pS||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zk;class tr{constructor(t,n=tr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sF(this.priorityNode_)}static set __childrenNodeConstructor(t){Zk=t}static get __childrenNodeConstructor(){return Zk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new tr(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xt(t)?this:Ft(t)===".priority"?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:tr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ft(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ke(r!==".priority"||cs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tr.__childrenNodeConstructor.EMPTY_NODE.updateChild(yn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+aF(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=L$(this.value_):t+=this.value_,this.lazyHash_=x$(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===tr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof tr.__childrenNodeConstructor?-1:(Ke(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=tr.VALUE_TYPE_ORDER.indexOf(n),o=tr.VALUE_TYPE_ORDER.indexOf(r);return Ke(i>=0,"Unknown leaf type: "+n),Ke(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lF,uF;function kJ(e){lF=e}function DJ(e){uF=e}class AJ extends Bp{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Mc(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return jt.MIN}maxPost(){return new jt(pl,new tr("[PRIORITY-POST]",uF))}makePost(t,n){const r=lF(t);return new jt(n,new tr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nr=new AJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ=Math.log(2);class OJ{constructor(t){const n=o=>parseInt(Math.log(o)/NJ,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Tv=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let f,h;if(c===0)return null;if(c===1)return f=e[l],h=n?n(f):f,new ir(h,f.node,ir.BLACK,null,null);{const v=parseInt(c/2,10)+l,_=i(l,v),E=i(v+1,u);return f=e[v],h=n?n(f):f,new ir(h,f.node,ir.BLACK,_,E)}},o=function(l){let u=null,c=null,f=e.length;const h=function(_,E){const S=f-_,w=f;f-=_;const p=i(S+1,w),y=e[S],C=n?n(y):y;v(new ir(C,y.node,E,null,p))},v=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<l.count;++_){const E=l.nextBitIsOne(),S=Math.pow(2,l.count-(_+1));E?h(S,ir.BLACK):(h(S,ir.BLACK),h(S,ir.RED))}return c},a=new OJ(e.length),s=o(a);return new Zr(r||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oE;const nu={};class Qo{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Ke(nu&&Nr,"ChildrenNode.ts has not been loaded"),oE=oE||new Qo({".priority":nu},{".priority":Nr}),oE}get(t){const n=rc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Zr?n:null}hasIndex(t){return pa(this.indexSet_,t.toString())}addIndex(t,n){Ke(t!==Uu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(jt.Wrap);let a=o.getNext();for(;a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();let s;i?s=Tv(r,t.getCompare()):s=nu;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=s,new Qo(c,u)}addToIndexes(t,n){const r=Xg(this.indexes_,(i,o)=>{const a=rc(this.indexSet_,o);if(Ke(a,"Missing index implementation for "+o),i===nu)if(a.isDefinedOn(t.node)){const s=[],l=n.getIterator(jt.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&s.push(u),u=l.getNext();return s.push(t),Tv(s,a.getCompare())}else return nu;else{const s=n.get(t.name);let l=i;return s&&(l=l.remove(new jt(t.name,s))),l.insert(t,t.node)}});return new Qo(r,this.indexSet_)}removeFromIndexes(t,n){const r=Xg(this.indexes_,i=>{if(i===nu)return i;{const o=n.get(t.name);return o?i.remove(new jt(t.name,o)):i}});return new Qo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;class Jt{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sF(this.priorityNode_),this.children_.isEmpty()&&Ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gd||(gd=new Jt(new Zr(QC),null,Qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gd}updatePriority(t){return this.children_.isEmpty()?this:new Jt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?gd:n}}getChild(t){const n=Ft(t);return n===null?this:this.getImmediateChild(n).getChild(yn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ke(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new jt(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?gd:this.priorityNode_;return new Jt(i,a,o)}}updateChild(t,n){const r=Ft(t);if(r===null)return n;{Ke(Ft(t)!==".priority"||cs(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(yn(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Nr,(a,s)=>{n[a]=s.val(t),r++,o&&Jt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){const a=[];for(const s in n)a[s]=n[s];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+aF(this.getPriority().val())+":"),this.forEachChild(Nr,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":x$(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new jt(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new jt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new jt(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,jt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,jt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$h?-1:0}withIndex(t){if(t===Uu||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Jt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Uu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Nr),i=n.getIterator(Nr);let o=r.getNext(),a=i.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Uu?null:this.indexMap_.get(t.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xJ extends Jt{constructor(){super(new Zr(QC),Jt.EMPTY_NODE,Qo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Jt.EMPTY_NODE}isEmpty(){return!1}}const $h=new xJ;Object.defineProperties(jt,{MIN:{value:new jt(hc,Jt.EMPTY_NODE)},MAX:{value:new jt(pl,$h)}});oF.__EMPTY_NODE=Jt.EMPTY_NODE;tr.__childrenNodeConstructor=Jt;RJ($h);DJ($h);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=!0;function Dr(e,t=null){if(e===null)return Jt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ke(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new tr(n,Dr(t))}if(!(e instanceof Array)&&MJ){const n=[];let r=!1;if(Bi(e,(a,s)=>{if(a.substring(0,1)!=="."){const l=Dr(s);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new jt(a,l)))}}),n.length===0)return Jt.EMPTY_NODE;const o=Tv(n,IJ,a=>a.name,QC);if(r){const a=Tv(n,Nr.getCompare());return new Jt(o,Dr(t),new Qo({".priority":a},{".priority":Nr}))}else return new Jt(o,Dr(t),Qo.Default)}else{let n=Jt.EMPTY_NODE;return Bi(e,(r,i)=>{if(pa(e,r)&&r.substring(0,1)!=="."){const o=Dr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Dr(t))}}kJ(Dr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ extends Bp{constructor(t){super(),this.indexPath_=t,Ke(!xt(t)&&Ft(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Mc(t.name,n.name):o}makePost(t,n){const r=Dr(t),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new jt(n,i)}maxPost(){const t=Jt.EMPTY_NODE.updateChild(this.indexPath_,$h);return new jt(pl,t)}toString(){return tF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ extends Bp{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Mc(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return jt.MIN}maxPost(){return jt.MAX}makePost(t,n){const r=Dr(t);return new jt(n,r)}toString(){return".value"}}const $J=new LJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(e){return{type:"value",snapshotNode:e}}function jJ(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function UJ(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function eD(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function VJ(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nr}copy(){const t=new XC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function tD(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Nr?n="$priority":e.index_===$J?n="$value":e.index_===Uu?n="$key":(Ke(e.index_ instanceof PJ,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=vr(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=vr(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+vr(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=vr(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+vr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function nD(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Nr&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends J${constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ph("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ke(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=Iv.getListenId_(t,r),s={};this.listens_[a]=s;const l=tD(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),rc(this.listens_,a)===s){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const r=Iv.getListenId_(t,n);delete this.listens_[r]}get(t){const n=tD(t._queryParams),r=t._path.toString(),i=new T0;return this.restRequest_(r+".json",n,(o,a)=>{let s=a;o===404&&(s=null,o=null),o===null?(this.onDataUpdate_(r,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Rc(n);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(r&&s.readyState===4){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=xf(s.responseText)}catch{vi("Failed to parse JSON response for "+a+": "+s.responseText)}r(null,l)}else s.status!==401&&s.status!==404&&vi("Got unsuccessful REST response for "+a+" Status: "+s.status),r(s.status);r=null}},s.open("GET",a,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(){return{value:null,children:new Map}}function cF(e,t,n){if(xt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ft(t);e.children.has(r)||e.children.set(r,Rv());const i=e.children.get(r);t=yn(t),cF(i,t,n)}}function yS(e,t,n){e.value!==null?n(t,e.value):zJ(e,(r,i)=>{const o=new _n(t.toString()+"/"+r);yS(i,o,n)})}function zJ(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Bi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=10*1e3,WJ=30*1e3,KJ=5*60*1e3;class GJ{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new HJ(t);const r=rD+(WJ-rD)*Math.random();Zd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Bi(t,(i,o)=>{o>0&&pa(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Zd(this.reportStats_.bind(this),Math.floor(Math.random()*2*KJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(To||(To={}));function dF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hF(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=To.ACK_USER_WRITE,this.source=dF()}operationForChild(t){if(xt(this.path)){if(this.affectedTree.value!=null)return Ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _n(t));return new kv(ln(),n,this.revert)}}else return Ke(Ft(this.path)===t,"operationForChild called for unrelated child."),new kv(yn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=To.OVERWRITE}operationForChild(t){return xt(this.path)?new yl(this.source,ln(),this.snap.getImmediateChild(t)):new yl(this.source,yn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=To.MERGE}operationForChild(t){if(xt(this.path)){const n=this.children.subtree(new _n(t));return n.isEmpty()?null:n.value?new yl(this.source,ln(),n.value):new Yf(this.source,ln(),n)}else return Ke(Ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yf(this.source,yn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ft(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function qJ(e,t,n,r){const i=[],o=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(VJ(a.childName,a.snapshotNode))}),vd(e,i,"child_removed",t,r,n),vd(e,i,"child_added",t,r,n),vd(e,i,"child_moved",o,r,n),vd(e,i,"child_changed",t,r,n),vd(e,i,"value",t,r,n),i}function vd(e,t,n,r,i,o){const a=r.filter(s=>s.type===n);a.sort((s,l)=>QJ(e,s,l)),a.forEach(s=>{const l=YJ(e,s,o);i.forEach(u=>{u.respondsTo(s.type)&&t.push(u.createEvent(l,e.query_))})})}function YJ(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function QJ(e,t,n){if(t.childName==null||n.childName==null)throw Ic("Should only compare child_ events.");const r=new jt(t.childName,t.snapshotNode),i=new jt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e,t){return{eventCache:e,serverCache:t}}function ef(e,t,n,r){return mF(new JC(t,n,r),e.serverCache)}function gF(e,t,n,r){return mF(e.eventCache,new JC(t,n,r))}function wS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE;const XJ=()=>(aE||(aE=new Zr(LX)),aE);class pn{constructor(t,n=XJ()){this.value=t,this.children=n}static fromObject(t){let n=new pn(null);return Bi(t,(r,i)=>{n=n.set(new _n(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ln(),value:this.value};if(xt(t))return null;{const r=Ft(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(yn(t),n);return o!=null?{path:or(new _n(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const n=Ft(t),r=this.children.get(n);return r!==null?r.subtree(yn(t)):new pn(null)}}set(t,n){if(xt(t))return new pn(n,this.children);{const r=Ft(t),o=(this.children.get(r)||new pn(null)).set(yn(t),n),a=this.children.insert(r,o);return new pn(this.value,a)}}remove(t){if(xt(t))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const n=Ft(t),r=this.children.get(n);if(r){const i=r.remove(yn(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new pn(null):new pn(this.value,o)}else return this}}get(t){if(xt(t))return this.value;{const n=Ft(t),r=this.children.get(n);return r?r.get(yn(t)):null}}setTree(t,n){if(xt(t))return n;{const r=Ft(t),o=(this.children.get(r)||new pn(null)).setTree(yn(t),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new pn(this.value,a)}}fold(t){return this.fold_(ln(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(or(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ln(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xt(t))return null;{const o=Ft(t),a=this.children.get(o);return a?a.findOnPath_(yn(t),or(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ln(),n)}foreachOnPath_(t,n,r){if(xt(t))return this;{this.value&&r(n,this.value);const i=Ft(t),o=this.children.get(i);return o?o.foreachOnPath_(yn(t),or(n,i),r):new pn(null)}}foreach(t){this.foreach_(ln(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(or(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.writeTree_=t}static empty(){return new so(new pn(null))}}function tf(e,t,n){if(xt(t))return new so(new pn(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const a=xi(i,t);return o=o.updateChild(a,n),new so(e.writeTree_.set(i,o))}else{const i=new pn(n),o=e.writeTree_.setTree(t,i);return new so(o)}}}function iD(e,t,n){let r=e;return Bi(n,(i,o)=>{r=tf(r,or(t,i),o)}),r}function oD(e,t){if(xt(t))return so.empty();{const n=e.writeTree_.setTree(t,new pn(null));return new so(n)}}function ES(e,t){return xl(e,t)!=null}function xl(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(xi(n.path,t)):null}function aD(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nr,(r,i)=>{t.push(new jt(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new jt(r,i.value))}),t}function es(e,t){if(xt(t))return e;{const n=xl(e,t);return n!=null?new so(new pn(n)):new so(e.writeTree_.subtree(t))}}function _S(e){return e.writeTree_.isEmpty()}function mc(e,t){return vF(ln(),e.writeTree_,t)}function vF(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(Ke(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=vF(or(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(or(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(e,t){return SF(t,e)}function JJ(e,t,n,r,i){Ke(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tf(e.visibleWrites,t,n)),e.lastWriteId=r}function ZJ(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function eZ(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);Ke(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const s=e.allWrites[a];s.visible&&(a>=n&&tZ(s,r.path)?i=!1:ro(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return nZ(e),!0;if(r.snap)e.visibleWrites=oD(e.visibleWrites,r.path);else{const s=r.children;Bi(s,l=>{e.visibleWrites=oD(e.visibleWrites,or(r.path,l))})}return!0}else return!1}function tZ(e,t){if(e.snap)return ro(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ro(or(e.path,n),t))return!0;return!1}function nZ(e){e.visibleWrites=yF(e.allWrites,rZ,ln()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function rZ(e){return e.visible}function yF(e,t,n){let r=so.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const a=o.path;let s;if(o.snap)ro(n,a)?(s=xi(n,a),r=tf(r,s,o.snap)):ro(a,n)&&(s=xi(a,n),r=tf(r,ln(),o.snap.getChild(s)));else if(o.children){if(ro(n,a))s=xi(n,a),r=iD(r,s,o.children);else if(ro(a,n))if(s=xi(a,n),xt(s))r=iD(r,ln(),o.children);else{const l=rc(o.children,Ft(s));if(l){const u=l.getChild(yn(s));r=tf(r,ln(),u)}}}else throw Ic("WriteRecord should have .snap or .children")}}return r}function wF(e,t,n,r,i){if(!r&&!i){const o=xl(e.visibleWrites,t);if(o!=null)return o;{const a=es(e.visibleWrites,t);if(_S(a))return n;if(n==null&&!ES(a,ln()))return null;{const s=n||Jt.EMPTY_NODE;return mc(a,s)}}}else{const o=es(e.visibleWrites,t);if(!i&&_S(o))return n;if(!i&&n==null&&!ES(o,ln()))return null;{const a=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ro(u.path,t)||ro(t,u.path))},s=yF(e.allWrites,a,t),l=n||Jt.EMPTY_NODE;return mc(s,l)}}}function iZ(e,t,n){let r=Jt.EMPTY_NODE;const i=xl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Nr,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=es(e.visibleWrites,t);return n.forEachChild(Nr,(a,s)=>{const l=mc(es(o,new _n(a)),s);r=r.updateImmediateChild(a,l)}),aD(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=es(e.visibleWrites,t);return aD(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function oZ(e,t,n,r,i){Ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=or(t,n);if(ES(e.visibleWrites,o))return null;{const a=es(e.visibleWrites,o);return _S(a)?i.getChild(n):mc(a,i.getChild(n))}}function aZ(e,t,n,r){const i=or(t,n),o=xl(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=es(e.visibleWrites,i);return mc(a,r.getNode().getImmediateChild(n))}else return null}function sZ(e,t){return xl(e.visibleWrites,t)}function lZ(e,t,n,r,i,o,a){let s;const l=es(e.visibleWrites,t),u=xl(l,ln());if(u!=null)s=u;else if(n!=null)s=mc(l,n);else return[];if(s=s.withIndex(a),!s.isEmpty()&&!s.isLeafNode()){const c=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let v=h.getNext();for(;v&&c.length<i;)f(v,r)!==0&&c.push(v),v=h.getNext();return c}else return[]}function uZ(){return{visibleWrites:so.empty(),allWrites:[],lastWriteId:-1}}function SS(e,t,n,r){return wF(e.writeTree,e.treePath,t,n,r)}function EF(e,t){return iZ(e.writeTree,e.treePath,t)}function sD(e,t,n,r){return oZ(e.writeTree,e.treePath,t,n,r)}function Dv(e,t){return sZ(e.writeTree,or(e.treePath,t))}function cZ(e,t,n,r,i,o){return lZ(e.writeTree,e.treePath,t,n,r,i,o)}function ZC(e,t,n){return aZ(e.writeTree,e.treePath,t,n)}function _F(e,t){return SF(or(e.treePath,t),e.writeTree)}function SF(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,eD(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,UJ(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,jJ(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,eD(r,t.snapshotNode,i.oldSnap));else throw Ic("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const bF=new fZ;class eT{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new JC(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZC(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wl(this.viewCache_),o=cZ(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}function hZ(e,t){Ke(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ke(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function mZ(e,t,n,r,i){const o=new dZ;let a,s;if(n.type===To.OVERWRITE){const u=n;u.source.fromUser?a=bS(e,t,u.path,u.snap,r,i,o):(Ke(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!xt(u.path),a=Av(e,t,u.path,u.snap,r,i,s,o))}else if(n.type===To.MERGE){const u=n;u.source.fromUser?a=vZ(e,t,u.path,u.children,r,i,o):(Ke(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered(),a=CS(e,t,u.path,u.children,r,i,s,o))}else if(n.type===To.ACK_USER_WRITE){const u=n;u.revert?a=wZ(e,t,u.path,r,i,o):a=pZ(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===To.LISTEN_COMPLETE)a=yZ(e,t,n.path,r,o);else throw Ic("Unknown operation type: "+n.type);const l=o.getChanges();return gZ(t,a,l),{viewCache:a,changes:l}}function gZ(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=wS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(FJ(wS(t)))}}function CF(e,t,n,r,i,o){const a=t.eventCache;if(Dv(r,n)!=null)return t;{let s,l;if(xt(n))if(Ke(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=wl(t),c=u instanceof Jt?u:Jt.EMPTY_NODE,f=EF(r,c);s=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const u=SS(r,wl(t));s=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=Ft(n);if(u===".priority"){Ke(cs(n)===1,"Can't have a priority with additional path components");const c=a.getNode();l=t.serverCache.getNode();const f=sD(r,n,c,l);f!=null?s=e.filter.updatePriority(c,f):s=a.getNode()}else{const c=yn(n);let f;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const h=sD(r,n,a.getNode(),l);h!=null?f=a.getNode().getImmediateChild(u).updateChild(c,h):f=a.getNode().getImmediateChild(u)}else f=ZC(r,u,t.serverCache);f!=null?s=e.filter.updateChild(a.getNode(),u,f,c,i,o):s=a.getNode()}}return ef(t,s,a.isFullyInitialized()||xt(n),e.filter.filtersNodes())}}function Av(e,t,n,r,i,o,a,s){const l=t.serverCache;let u;const c=a?e.filter:e.filter.getIndexedFilter();if(xt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),v,null)}else{const v=Ft(n);if(!l.isCompleteForPath(n)&&cs(n)>1)return t;const _=yn(n),S=l.getNode().getImmediateChild(v).updateChild(_,r);v===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),v,S,_,bF,null)}const f=gF(t,u,l.isFullyInitialized()||xt(n),c.filtersNodes()),h=new eT(i,f,o);return CF(e,f,n,i,h,s)}function bS(e,t,n,r,i,o,a){const s=t.eventCache;let l,u;const c=new eT(i,t,o);if(xt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=ef(t,u,!0,e.filter.filtersNodes());else{const f=Ft(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=ef(t,u,s.isFullyInitialized(),s.isFiltered());else{const h=yn(n),v=s.getNode().getImmediateChild(f);let _;if(xt(h))_=r;else{const E=c.getCompleteChild(f);E!=null?eF(h)===".priority"&&E.getChild(nF(h)).isEmpty()?_=E:_=E.updateChild(h,r):_=Jt.EMPTY_NODE}if(v.equals(_))l=t;else{const E=e.filter.updateChild(s.getNode(),f,_,h,c,a);l=ef(t,E,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function lD(e,t){return e.eventCache.isCompleteForChild(t)}function vZ(e,t,n,r,i,o,a){let s=t;return r.foreach((l,u)=>{const c=or(n,l);lD(t,Ft(c))&&(s=bS(e,s,c,u,i,o,a))}),r.foreach((l,u)=>{const c=or(n,l);lD(t,Ft(c))||(s=bS(e,s,c,u,i,o,a))}),s}function uD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function CS(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;xt(n)?u=r:u=new pn(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(c.hasChild(f)){const v=t.serverCache.getNode().getImmediateChild(f),_=uD(e,v,h);l=Av(e,l,new _n(f),_,i,o,a,s)}}),u.children.inorderTraversal((f,h)=>{const v=!t.serverCache.isCompleteForChild(f)&&h.value===null;if(!c.hasChild(f)&&!v){const _=t.serverCache.getNode().getImmediateChild(f),E=uD(e,_,h);l=Av(e,l,new _n(f),E,i,o,a,s)}}),l}function pZ(e,t,n,r,i,o,a){if(Dv(i,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(xt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Av(e,t,n,l.getNode().getChild(n),i,o,s,a);if(xt(n)){let u=new pn(null);return l.getNode().forEachChild(Uu,(c,f)=>{u=u.set(new _n(c),f)}),CS(e,t,n,u,i,o,s,a)}else return t}else{let u=new pn(null);return r.foreach((c,f)=>{const h=or(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),CS(e,t,n,u,i,o,s,a)}}function yZ(e,t,n,r,i){const o=t.serverCache,a=gF(t,o.getNode(),o.isFullyInitialized()||xt(n),o.isFiltered());return CF(e,a,n,r,bF,i)}function wZ(e,t,n,r,i,o){let a;if(Dv(r,n)!=null)return t;{const s=new eT(r,t,i),l=t.eventCache.getNode();let u;if(xt(n)||Ft(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=SS(r,wl(t));else{const f=t.serverCache.getNode();Ke(f instanceof Jt,"serverChildren would be complete if leaf node"),c=EF(r,f)}c=c,u=e.filter.updateFullNode(l,c,o)}else{const c=Ft(n);let f=ZC(r,c,t.serverCache);f==null&&t.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=e.filter.updateChild(l,c,f,yn(n),s,o):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Jt.EMPTY_NODE,yn(n),s,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=SS(r,wl(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||Dv(r,ln())!=null,ef(t,u,a,e.filter.filtersNodes())}}function EZ(e,t){const n=wl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xt(t)&&!n.getImmediateChild(Ft(t)).isEmpty())?n.getChild(t):null}function cD(e,t,n,r){t.type===To.MERGE&&t.source.queryId!==null&&(Ke(wl(e.viewCache_),"We should always have a full cache before handling merges"),Ke(wS(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=mZ(e.processor_,i,t,n,r);return hZ(e.processor_,o.viewCache),Ke(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,_Z(e,o.changes,o.viewCache.eventCache.getNode(),null)}function _Z(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return qJ(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dD;function SZ(e){Ke(!dD,"__referenceConstructor has already been defined"),dD=e}function tT(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return Ke(o!=null,"SyncTree gave us an op for an invalid query."),cD(o,t,n,r)}else{let o=[];for(const a of e.views.values())o=o.concat(cD(a,t,n,r));return o}}function nT(e,t){let n=null;for(const r of e.views.values())n=n||EZ(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fD;function bZ(e){Ke(!fD,"__referenceConstructor has already been defined"),fD=e}class hD{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pn(null),this.pendingWriteTree_=uZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CZ(e,t,n,r,i){return JJ(e.pendingWriteTree_,t,n,r,i),i?Hp(e,new yl(dF(),t,n)):[]}function Iu(e,t,n=!1){const r=ZJ(e.pendingWriteTree_,t);if(eZ(e.pendingWriteTree_,t)){let o=new pn(null);return r.snap!=null?o=o.set(ln(),!0):Bi(r.children,a=>{o=o.set(new _n(a),!0)}),Hp(e,new kv(r.path,o,n))}else return[]}function zp(e,t,n){return Hp(e,new yl(fF(),t,n))}function TZ(e,t,n){const r=pn.fromObject(n);return Hp(e,new Yf(fF(),t,r))}function IZ(e,t,n,r){const i=kF(e,r);if(i!=null){const o=DF(i),a=o.path,s=o.queryId,l=xi(a,t),u=new yl(hF(s),l,n);return AF(e,a,u)}else return[]}function RZ(e,t,n,r){const i=kF(e,r);if(i){const o=DF(i),a=o.path,s=o.queryId,l=xi(a,t),u=pn.fromObject(n),c=new Yf(hF(s),l,u);return AF(e,a,c)}else return[]}function TF(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(a,s)=>{const l=xi(a,t),u=nT(s,l);if(u)return u});return wF(i,t,o,n,!0)}function Hp(e,t){return IF(t,e.syncPointTree_,null,pF(e.pendingWriteTree_,ln()))}function IF(e,t,n,r){if(xt(e.path))return RF(e,t,n,r);{const i=t.get(ln());n==null&&i!=null&&(n=nT(i,ln()));let o=[];const a=Ft(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const u=n?n.getImmediateChild(a):null,c=_F(r,a);o=o.concat(IF(s,l,u,c))}return i&&(o=o.concat(tT(i,e,r,n))),o}}function RF(e,t,n,r){const i=t.get(ln());n==null&&i!=null&&(n=nT(i,ln()));let o=[];return t.children.inorderTraversal((a,s)=>{const l=n?n.getImmediateChild(a):null,u=_F(r,a),c=e.operationForChild(a);c&&(o=o.concat(RF(c,s,l,u)))}),i&&(o=o.concat(tT(i,e,r,n))),o}function kF(e,t){return e.tagToQueryMap.get(t)}function DF(e){const t=e.indexOf("$");return Ke(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _n(e.substr(0,t))}}function AF(e,t,n){const r=e.syncPointTree_.get(t);Ke(r,"Missing sync point for query tag that we're tracking");const i=pF(e.pendingWriteTree_,t);return tT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rT(n)}node(){return this.node_}}class iT{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=or(this.path_,t);return new iT(this.syncTree_,n)}node(){return TF(this.syncTree_,this.path_)}}const kZ=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},mD=function(e,t,n){if(!e||typeof e!="object")return e;if(Ke(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return DZ(e[".sv"],t,n);if(typeof e[".sv"]=="object")return AZ(e[".sv"],t);Ke(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},DZ=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ke(!1,"Unexpected server value: "+e)}},AZ=function(e,t,n){e.hasOwnProperty("increment")||Ke(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Ke(!1,"Unexpected increment value: "+r);const i=t.node();if(Ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},NZ=function(e,t,n,r){return oT(t,new iT(n,e),r)},OZ=function(e,t,n){return oT(e,new rT(t),n)};function oT(e,t,n){const r=e.getPriority().val(),i=mD(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const a=e,s=mD(a.getValue(),t,n);return s!==a.getValue()||i!==a.getPriority().val()?new tr(s,Dr(i)):e}else{const a=e;return o=a,i!==a.getPriority().val()&&(o=o.updatePriority(new tr(i))),a.forEachChild(Nr,(s,l)=>{const u=oT(l,t.getImmediateChild(s),n);u!==l&&(o=o.updateImmediateChild(s,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function sT(e,t){let n=t instanceof _n?t:new _n(t),r=e,i=Ft(n);for(;i!==null;){const o=rc(r.node.children,i)||{children:{},childCount:0};r=new aT(i,r,o),n=yn(n),i=Ft(n)}return r}function Pc(e){return e.node.value}function NF(e,t){e.node.value=t,TS(e)}function OF(e){return e.node.childCount>0}function xZ(e){return Pc(e)===void 0&&!OF(e)}function Wp(e,t){Bi(e.node.children,(n,r)=>{t(new aT(n,e,r))})}function xF(e,t,n,r){n&&!r&&t(e),Wp(e,i=>{xF(i,t,!0,r)}),n&&r&&t(e)}function MZ(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Fh(e){return new _n(e.parent===null?e.name:Fh(e.parent)+"/"+e.name)}function TS(e){e.parent!==null&&PZ(e.parent,e.name,e)}function PZ(e,t,n){const r=xZ(n),i=pa(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,TS(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,TS(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ=/[\[\].#$\/\u0000-\u001F\u007F]/,$Z=/[\[\].#$\u0000-\u001F\u007F]/,sE=10*1024*1024,MF=function(e){return typeof e=="string"&&e.length!==0&&!LZ.test(e)},FZ=function(e){return typeof e=="string"&&e.length!==0&&!$Z.test(e)},jZ=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),FZ(e)},PF=function(e,t,n){const r=n instanceof _n?new yJ(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ms(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ms(r)+" with contents = "+t.toString());if(M$(t))throw new Error(e+"contains "+t.toString()+" "+Ms(r));if(typeof t=="string"&&t.length>sE/3&&op(t)>sE)throw new Error(e+"contains a string greater than "+sE+" utf8 bytes "+Ms(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Bi(t,(a,s)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!MF(a)))throw new Error(e+" contains an invalid key ("+a+") "+Ms(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wJ(r,a),PF(e,s,r),EJ(r)}),i&&o)throw new Error(e+' contains ".value" child '+Ms(r)+" in addition to actual children.")}},UZ=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!MF(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jZ(n))throw new Error(j9(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function BZ(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!rF(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ml(e,t,n){BZ(e,n),zZ(e,r=>ro(r,t)||ro(t,r))}function zZ(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(HZ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function HZ(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Zs&&kr("event: "+n.toString()),Lh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="repo_interrupt",KZ=25;class GZ{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rv(),this.transactionQueueTree_=new aT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qZ(e,t,n){if(e.stats_=GC(e.repoInfo_),e.forceRestClient_||BX())e.server_=new Iv(e.repoInfo_,(r,i,o,a)=>{gD(e,r,i,o,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>vD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ta(e.repoInfo_,t,(r,i,o,a)=>{gD(e,r,i,o,a)},r=>{vD(e,r)},r=>{QZ(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=qX(e.repoInfo_,()=>new GJ(e.stats_,e.server_)),e.infoData_=new BJ,e.infoSyncTree_=new hD({startListening:(r,i,o,a)=>{let s=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(s=zp(e.infoSyncTree_,r._path,l),setTimeout(()=>{a("ok")},0)),s},stopListening:()=>{}}),lT(e,"connected",!1),e.serverSyncTree_=new hD({startListening:(r,i,o,a)=>(e.server_.listen(r,o,i,(s,l)=>{const u=a(s,l);Ml(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function YZ(e){const n=e.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function LF(e){return kZ({timestamp:YZ(e)})}function gD(e,t,n,r,i){e.dataUpdateCount++;const o=new _n(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const l=Xg(n,u=>Dr(u));a=RZ(e.serverSyncTree_,o,l,i)}else{const l=Dr(n);a=IZ(e.serverSyncTree_,o,l,i)}else if(r){const l=Xg(n,u=>Dr(u));a=TZ(e.serverSyncTree_,o,l)}else{const l=Dr(n);a=zp(e.serverSyncTree_,o,l)}let s=o;a.length>0&&(s=cT(e,o)),Ml(e.eventQueue_,s,a)}function vD(e,t){lT(e,"connected",t),t===!1&&JZ(e)}function QZ(e,t){Bi(t,(n,r)=>{lT(e,n,r)})}function lT(e,t,n){const r=new _n("/.info/"+t),i=Dr(n);e.infoData_.updateSnapshot(r,i);const o=zp(e.infoSyncTree_,r,i);Ml(e.eventQueue_,r,o)}function XZ(e){return e.nextWriteId_++}function JZ(e){$F(e,"onDisconnectEvents");const t=LF(e),n=Rv();yS(e.onDisconnect_,ln(),(i,o)=>{const a=NZ(i,o,e.serverSyncTree_,t);cF(n,i,a)});let r=[];yS(n,ln(),(i,o)=>{r=r.concat(zp(e.serverSyncTree_,i,o));const a=nee(e,i);cT(e,a)}),e.onDisconnect_=Rv(),Ml(e.eventQueue_,ln(),r)}function ZZ(e){e.persistentConnection_&&e.persistentConnection_.interrupt(WZ)}function $F(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),kr(n,...t)}function FF(e,t,n){return TF(e.serverSyncTree_,t,n)||Jt.EMPTY_NODE}function uT(e,t=e.transactionQueueTree_){if(t||Kp(e,t),Pc(t)){const n=UF(e,t);Ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&eee(e,Fh(t),n)}else OF(t)&&Wp(t,n=>{uT(e,n)})}function eee(e,t,n){const r=n.map(u=>u.currentWriteId),i=FF(e,t,r);let o=i;const a=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=xi(t,c.path);o=o.updateChild(f,c.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,u=>{$F(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Iu(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Kp(e,sT(e.transactionQueueTree_,t)),uT(e,e.transactionQueueTree_),Ml(e.eventQueue_,t,c);for(let h=0;h<f.length;h++)Lh(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{vi("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}cT(e,t)}},a)}function cT(e,t){const n=jF(e,t),r=Fh(n),i=UF(e,n);return tee(e,i,r),r}function tee(e,t,n){if(t.length===0)return;const r=[];let i=[];const a=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],u=xi(n,l.path);let c=!1,f;if(Ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(Iu(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=KZ)c=!0,f="maxretry",i=i.concat(Iu(e.serverSyncTree_,l.currentWriteId,!0));else{const h=FF(e,l.path,a);l.currentInputSnapshot=h;const v=t[s].update(h.val());if(v!==void 0){PF("transaction failed: Data returned ",v,l.path);let _=Dr(v);typeof v=="object"&&v!=null&&pa(v,".priority")||(_=_.updatePriority(h.getPriority()));const S=l.currentWriteId,w=LF(e),p=OZ(_,h,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=p,l.currentWriteId=XZ(e),a.splice(a.indexOf(S),1),i=i.concat(CZ(e.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(Iu(e.serverSyncTree_,S,!0))}else c=!0,f="nodata",i=i.concat(Iu(e.serverSyncTree_,l.currentWriteId,!0))}Ml(e.eventQueue_,n,i),i=[],c&&(t[s].status=2,function(h){setTimeout(h,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(f==="nodata"?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(f),!1,null))))}Kp(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)Lh(r[s]);uT(e,e.transactionQueueTree_)}function jF(e,t){let n,r=e.transactionQueueTree_;for(n=Ft(t);n!==null&&Pc(r)===void 0;)r=sT(r,n),t=yn(t),n=Ft(t);return r}function UF(e,t){const n=[];return VF(e,t,n),n.sort((r,i)=>r.order-i.order),n}function VF(e,t,n){const r=Pc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wp(t,i=>{VF(e,i,n)})}function Kp(e,t){const n=Pc(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,NF(t,n.length>0?n:void 0)}Wp(t,r=>{Kp(e,r)})}function nee(e,t){const n=Fh(jF(e,t)),r=sT(e.transactionQueueTree_,t);return MZ(r,i=>{lE(e,i)}),lE(e,r),xF(r,i=>{lE(e,i)}),n}function lE(e,t){const n=Pc(t);if(n){const r=[];let i=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ke(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Ke(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Iu(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?NF(t,void 0):n.length=o+1,Ml(e.eventQueue_,Fh(t),i);for(let a=0;a<r.length;a++)Lh(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function iee(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vi(`Invalid query segment '${n}' in query '${e}'`)}return t}const pD=function(e,t){const n=oee(e),r=n.namespace;n.domain==="firebase.com"&&vl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||MX();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new WX(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _n(n.pathString)}},oee=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=ree(e.substring(c,f)));const h=iee(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(a=s==="https"||s==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const v=t.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xt(this._path)?null:eF(this._path)}get ref(){return new Lc(this._repo,this._path)}get _queryIdentifier(){const t=nD(this._queryParams),n=WC(t);return n==="{}"?"default":n}get _queryObject(){return nD(this._queryParams)}isEqual(t){if(t=$r(t),!(t instanceof dT))return!1;const n=this._repo===t._repo,r=rF(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pJ(this._path)}}class Lc extends dT{constructor(t,n){super(t,n,new XC,!1)}get parent(){const t=nF(this._path);return t===null?null:new Lc(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}SZ(Lc);bZ(Lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="FIREBASE_DATABASE_EMULATOR_HOST",IS={};let see=!1;function lee(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||vl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kr("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=pD(o,i),s=a.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[aee]),u?(l=!0,o=`http://${u}?ns=${s.namespace}`,a=pD(o,i),s=a.repoInfo):l=!a.repoInfo.secure;const c=i&&l?new gS(gS.OWNER):new HX(e.name,e.options,t);UZ("Invalid Firebase Database URL",a),xt(a.path)||vl("Database URL must point to the root of a Firebase Database (not including a child path).");const f=cee(s,e,c,new zX(e.name,n));return new dee(f,e)}function uee(e,t){const n=IS[t];(!n||n[e.key]!==e)&&vl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ZZ(e),delete n[e.key]}function cee(e,t,n,r){let i=IS[t.name];i||(i={},IS[t.name]=i);let o=i[e.toURLString()];return o&&vl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new GZ(e,see,n,r),i[e.toURLString()]=o,o}class dee{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lc(this._repo,ln())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&vl("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(e){DX(Dl),uo(new Vi("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return lee(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ii(Fk,jk,e),ii(Fk,jk,"esm2017")}ta.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ta.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};fee();const hee={apiKey:"AIzaSyC5e1-DzM6RKCrDfmt-hj1GCLzLW23vQPo",authDomain:"biblio-2d92c.firebaseapp.com",projectId:"biblio-2d92c",storageBucket:"biblio-2d92c.appspot.com",messagingSenderId:"849336141708",appId:"1:849336141708:web:8412f461e6a18ec51b78a9",measurementId:"G-FDRRHGSJ97"},BF=oM(hee);kX(BF);const Io=$q(BF);class Gp{constructor(){Is(this,"collectionName","livre");Is(this,"livreCollection",EC(Io,this.collectionName))}create(t){return AC(this.livreCollection,t)}getAll(){return RC(this.livreCollection)}update(t){let n=t.id;delete t.id;const r=Ja(Io,this.collectionName,n);return kC(r,t)}delete(t){let n=t.id;delete t.id;const r=Ja(Io,this.collectionName,n);return DC(r)}getById(t){const n=Ja(Io,this.collectionName,t);return Xq(n)}}function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RS.apply(this,arguments)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mee(e){if(Array.isArray(e))return kS(e)}function gee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zF(e,t){if(e){if(typeof e=="string")return kS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(e,t)}}function vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(e){return mee(e)||gee(e)||zF(e)||vee()}function yee(e){if(Array.isArray(e))return e}function wee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vo(e,t){return yee(e)||wee(e,t)||zF(e,t)||Eee()}var $c=d.forwardRef(function(e,t){var n=d.useState(e.id),r=Vo(n,2),i=r[0],o=r[1],a=d.useState(!1),s=Vo(a,2),l=s[0],u=s[1],c=d.useState(!1),f=Vo(c,2),h=f[0],v=f[1],_=d.useState(e.maximized),E=Vo(_,2),S=E[0],w=E[1],p=d.useRef(null),y=d.useRef(null),C=d.useRef(null),A=d.useRef(null),P=d.useRef(null),L=d.useRef(null),K=d.useRef(!1),ae=d.useRef(!1),le=d.useRef(null),ue=d.useRef(null),we=d.useRef(null),he=d.useRef(""),Se=e.onMaximize?e.maximized:S,qe=Zi({type:"keydown",listener:function(j){return Vt(j)}}),Ve=Vo(qe,2),Ze=Ve[0],ce=Ve[1],ee=Zi({type:"mousemove",target:function(){return window.document},listener:function(j){return V(j)}}),U=Vo(ee,2),Ee=U[0],de=U[1],te=Zi({type:"mouseup",target:function(){return window.document},listener:function(j){return _e(j)}}),ie=Vo(te,2),q=ie[0],O=ie[1],ne=Zi({type:"mousemove",target:function(){return window.document},listener:function(j){return De(j)}}),Fe=Vo(ne,2),et=Fe[0],dt=Fe[1],Et=Zi({type:"mouseup",target:function(){return window.document},listener:function(j){return Ue(j)}}),Ot=Vo(Et,2),Ut=Ot[0],mt=Ot[1],It=function(j){e.onHide(),j.preventDefault()},kt=function(){var j=document.activeElement,Ie=j&&p.current&&p.current.contains(j);!Ie&&e.closable&&e.showHeader&&L.current.focus()},Ht=function(j){e.dismissableMask&&e.modal&&y.current===j.target&&It(j),e.onMaskClick&&e.onMaskClick(j)},Pt=function(j){e.onMaximize?e.onMaximize({originalEvent:j,maximized:!Se}):w(function(Ie){return!Ie}),j.preventDefault()},Vt=function(j){var Ie=j.currentTarget;if(!(!Ie||!Ie.primeDialogParams)){var G=Ie.primeDialogParams,x=G.length,re=G[x-1]?G[x-1].id:void 0;if(re===i){var ve=document.getElementById(re);if(e.closable&&e.closeOnEscape&&j.key==="Escape")It(j),j.stopImmediatePropagation(),G.splice(x-1,1);else if(j.key==="Tab"){j.preventDefault();var Ae=N.getFocusableElements(ve);if(Ae&&Ae.length>0)if(!document.activeElement)Ae[0].focus();else{var Je=Ae.indexOf(document.activeElement);j.shiftKey?Je===-1||Je===0?Ae[Ae.length-1].focus():Ae[Je-1].focus():Je===-1||Je===Ae.length-1?Ae[0].focus():Ae[Je+1].focus()}}}}},$=function(j){N.hasClass(j.target,"p-dialog-header-icon")||N.hasClass(j.target.parentElement,"p-dialog-header-icon")||e.draggable&&(K.current=!0,le.current=j.pageX,ue.current=j.pageY,p.current.style.margin="0",N.addClass(document.body,"p-unselectable-text"),e.onDragStart&&e.onDragStart(j))},De=function(j){if(K.current){var Ie=N.getOuterWidth(p.current),G=N.getOuterHeight(p.current),x=j.pageX-le.current,re=j.pageY-ue.current,ve=p.current.getBoundingClientRect(),Ae=ve.left+x,Je=ve.top+re,nt=N.getViewport();p.current.style.position="fixed",e.keepInViewport?(Ae>=e.minX&&Ae+Ie<nt.width&&(le.current=j.pageX,p.current.style.left=Ae+"px"),Je>=e.minY&&Je+G<nt.height&&(ue.current=j.pageY,p.current.style.top=Je+"px")):(le.current=j.pageX,p.current.style.left=Ae+"px",ue.current=j.pageY,p.current.style.top=Je+"px"),e.onDrag&&e.onDrag(j)}},Ue=function(j){K.current&&(K.current=!1,N.removeClass(document.body,"p-unselectable-text"),e.onDragEnd&&e.onDragEnd(j))},ze=function(j){e.resizable&&(ae.current=!0,le.current=j.pageX,ue.current=j.pageY,N.addClass(document.body,"p-unselectable-text"),e.onResizeStart&&e.onResizeStart(j))},me=function(j,Ie,G){!G&&(G=N.getViewport());var x=parseInt(j);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(j)?x*(G[Ie]/100):x},V=function(j){if(ae.current){var Ie=j.pageX-le.current,G=j.pageY-ue.current,x=N.getOuterWidth(p.current),re=N.getOuterHeight(p.current),ve=p.current.getBoundingClientRect(),Ae=N.getViewport(),Je=!parseInt(p.current.style.top)||!parseInt(p.current.style.left),nt=me(p.current.style.minWidth,"width",Ae),ge=me(p.current.style.minHeight,"height",Ae),M=x+Ie,Ce=re+G;Je&&(M+=Ie,Ce+=G),(!nt||M>nt)&&ve.left+M<Ae.width&&(p.current.style.width=M+"px"),(!ge||Ce>ge)&&ve.top+Ce<Ae.height&&(p.current.style.height=Ce+"px"),le.current=j.pageX,ue.current=j.pageY,e.onResize&&e.onResize(j)}},_e=function(j){ae.current&&(ae.current=!1,N.removeClass(document.body,"p-unselectable-text"),e.onResizeEnd&&e.onResizeEnd(j))},We=function(){p.current.style.position="",p.current.style.left="",p.current.style.top="",p.current.style.margin=""},be=function(){var j=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],Ie=j.find(function(G){return G===e.position||G.replace("-","")===e.position});return Ie?"p-dialog-".concat(Ie):""},F=function(){p.current.setAttribute(he.current,"")},Oe=function(){e.onShow&&e.onShow(),e.focusOnShow&&kt(),ut()},Ye=function(){e.modal&&N.addClass(y.current,"p-component-overlay-leave"),e.blockScroll&&N.removeClass(document.body,"p-overflow-hidden")},ft=function(){K.current=!1,On.clear(y.current),u(!1),vt()},ut=function(){_t(),(e.blockScroll||e.maximizable&&Se)&&N.addClass(document.body,"p-overflow-hidden")},vt=function(){an();var j=e.maximizable&&Se;if(e.modal){var Ie=document.primeDialogParams&&document.primeDialogParams.some(function(G){return G.hasBlockScroll});(Ie||j)&&N.removeClass(document.body,"p-overflow-hidden")}else(e.blockScroll||j)&&N.removeClass(document.body,"p-overflow-hidden")},_t=function(){e.draggable&&(et(),Ut()),e.resizable&&(Ee(),q()),Ze();var j={id:i,hasBlockScroll:e.blockScroll};document.primeDialogParams=document.primeDialogParams?[].concat(pee(document.primeDialogParams),[j]):[j]},an=function(){dt(),mt(),de(),O(),ce(),document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(j){return j.id!==i})},Zt=function(){if(!we.current){we.current=N.createInlineStyle(ht.nonce);var j="";for(var Ie in e.breakpoints)j+=`
                    @media screen and (max-width: `.concat(Ie,`) {
                        .p-dialog[`).concat(he.current,`] {
                            width: `).concat(e.breakpoints[Ie],` !important;
                        }
                    }
                `);we.current.innerHTML=j}},Tt=function(){if(!e.blockScroll){var j=Se?"addClass":"removeClass";N[j](document.body,"p-overflow-hidden")}};ho(function(){var Q=o0();i||o(Q),he.current||(he.current=Q),e.visible&&u(!0),e.breakpoints&&Zt()}),Mt(function(){e.visible&&!l&&u(!0),e.visible!==h&&l&&v(e.visible)}),Mt(function(){l&&(On.set("modal",y.current,ht.autoZIndex,e.baseZIndex||ht.zIndex.modal),v(!0))},[l]),Mt(function(){Tt()},[e.maximized,S]),qr(function(){vt(),N.removeInlineStyle(we.current),On.clear(y.current)}),d.useImperativeHandle(t,function(){return{props:e,resetPosition:We,getElement:function(){return p.current},getMask:function(){return y.current},getContent:function(){return C.current},getHeader:function(){return A.current},getFooter:function(){return P.current},getCloseButton:function(){return L.current}}});var Wt=function(){if(e.closable){var j=e.ariaCloseIconLabel||Kn("close");return d.createElement("button",{ref:L,type:"button",className:"p-dialog-header-icon p-dialog-header-close p-link","aria-label":j,onClick:It},d.createElement("span",{className:"p-dialog-header-close-icon pi pi-times","aria-hidden":"true"}),d.createElement($t,null))}return null},In=function(){var j=Ge("p-dialog-header-maximize-icon pi",{"pi-window-maximize":!Se,"pi-window-minimize":Se});return e.maximizable?d.createElement("button",{type:"button",className:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:Pt},d.createElement("span",{className:j}),d.createElement($t,null)):null},qt=function(){if(e.showHeader){var j=Wt(),Ie=In(),G=W.getJSXElement(e.icons,e),x=W.getJSXElement(e.header,e),re=i+"_header",ve=Ge("p-dialog-header",e.headerClassName);return d.createElement("div",{ref:A,style:e.headerStyle,className:ve,onMouseDown:$},d.createElement("div",{id:re,className:"p-dialog-title"},x),d.createElement("div",{className:"p-dialog-header-icons"},G,Ie,j))}return null},en=function(){var j=Ge("p-dialog-content",e.contentClassName),Ie=i+"_content";return d.createElement("div",{id:Ie,ref:C,className:j,style:e.contentStyle},e.children)},Yt=function(){var j=W.getJSXElement(e.footer,e);return j&&d.createElement("div",{ref:P,className:"p-dialog-footer"},j)},cr=function(){return e.resizable?d.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:ze}):null},st=function(){var j=W.findDiffKeys(e,$c.defaultProps),Ie=Ge("p-dialog p-component",e.className,{"p-dialog-rtl":e.rtl,"p-dialog-maximized":Se,"p-dialog-default":!Se}),G=Ge("p-dialog-mask",be(),{"p-component-overlay p-component-overlay-enter":e.modal,"p-dialog-visible":l,"p-dialog-draggable":e.draggable,"p-dialog-resizable":e.resizable},e.maskClassName),x=qt(),re=en(),ve=Yt(),Ae=cr(),Je=i+"_header",nt=i+"_content",ge={enter:e.position==="center"?150:300,exit:e.position==="center"?150:300};return d.createElement("div",{ref:y,style:e.maskStyle,className:G,onClick:Ht},d.createElement(Rl,{nodeRef:p,classNames:"p-dialog",timeout:ge,in:h,options:e.transitionOptions,unmountOnExit:!0,onEnter:F,onEntered:Oe,onExiting:Ye,onExited:ft},d.createElement("div",RS({ref:p,id:i,className:Ie,style:e.style,onClick:e.onClick,role:"dialog"},j,{"aria-labelledby":Je,"aria-describedby":nt,"aria-modal":e.modal}),x,re,ve,Ae)))},se=function(){var j=st();return d.createElement(ys,{element:j,appendTo:e.appendTo,visible:!0})};return l&&se()});$c.displayName="Dialog";$c.defaultProps={__TYPE:"Dialog",appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeOnEscape:!0,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximized:!1,minX:0,minY:0,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,style:null,transitionOptions:null,visible:!1};var yD=Array.isArray,wD=Object.keys,_ee=Object.prototype.hasOwnProperty,See=typeof Element<"u";function DS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=yD(e),r=yD(t),i,o,a;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!DS(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var f=wD(e);if(o=f.length,o!==wD(t).length)return!1;for(i=o;i--!==0;)if(!_ee.call(t,f[i]))return!1;if(See&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(a=f[i],!(a==="_owner"&&e.$$typeof)&&!DS(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var bee=function(t,n){try{return DS(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ps=US(bee);var Cee=function(t){return Tee(t)&&!Iee(t)};function Tee(e){return!!e&&typeof e=="object"}function Iee(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Dee(e)}var Ree=typeof Symbol=="function"&&Symbol.for,kee=Ree?Symbol.for("react.element"):60103;function Dee(e){return e.$$typeof===kee}function Aee(e){return Array.isArray(e)?[]:{}}function Nv(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Qf(Aee(e),e,t):e}function Nee(e,t,n){return e.concat(t).map(function(r){return Nv(r,n)})}function Oee(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Nv(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Nv(t[i],n):r[i]=Qf(e[i],t[i],n)}),r}function Qf(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Nee,n.isMergeableObject=n.isMergeableObject||Cee;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):Oee(e,t,n):Nv(t,n)}Qf.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return Qf(r,i,n)},{})};var AS=Qf,xee=typeof global=="object"&&global&&global.Object===Object&&global;const HF=xee;var Mee=typeof self=="object"&&self&&self.Object===Object&&self,Pee=HF||Mee||Function("return this")();const $o=Pee;var Lee=$o.Symbol;const ds=Lee;var WF=Object.prototype,$ee=WF.hasOwnProperty,Fee=WF.toString,pd=ds?ds.toStringTag:void 0;function jee(e){var t=$ee.call(e,pd),n=e[pd];try{e[pd]=void 0;var r=!0}catch{}var i=Fee.call(e);return r&&(t?e[pd]=n:delete e[pd]),i}var Uee=Object.prototype,Vee=Uee.toString;function Bee(e){return Vee.call(e)}var zee="[object Null]",Hee="[object Undefined]",ED=ds?ds.toStringTag:void 0;function Pl(e){return e==null?e===void 0?Hee:zee:ED&&ED in Object(e)?jee(e):Bee(e)}function KF(e,t){return function(n){return e(t(n))}}var Wee=KF(Object.getPrototypeOf,Object);const fT=Wee;function Ll(e){return e!=null&&typeof e=="object"}var Kee="[object Object]",Gee=Function.prototype,qee=Object.prototype,GF=Gee.toString,Yee=qee.hasOwnProperty,Qee=GF.call(Object);function _D(e){if(!Ll(e)||Pl(e)!=Kee)return!1;var t=fT(e);if(t===null)return!0;var n=Yee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&GF.call(n)==Qee}function Xee(){this.__data__=[],this.size=0}function qF(e,t){return e===t||e!==e&&t!==t}function qp(e,t){for(var n=e.length;n--;)if(qF(e[n][0],t))return n;return-1}var Jee=Array.prototype,Zee=Jee.splice;function ete(e){var t=this.__data__,n=qp(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Zee.call(t,n,1),--this.size,!0}function tte(e){var t=this.__data__,n=qp(t,e);return n<0?void 0:t[n][1]}function nte(e){return qp(this.__data__,e)>-1}function rte(e,t){var n=this.__data__,r=qp(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ya(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ya.prototype.clear=Xee;ya.prototype.delete=ete;ya.prototype.get=tte;ya.prototype.has=nte;ya.prototype.set=rte;function ite(){this.__data__=new ya,this.size=0}function ote(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ate(e){return this.__data__.get(e)}function ste(e){return this.__data__.has(e)}function jh(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lte="[object AsyncFunction]",ute="[object Function]",cte="[object GeneratorFunction]",dte="[object Proxy]";function YF(e){if(!jh(e))return!1;var t=Pl(e);return t==ute||t==cte||t==lte||t==dte}var fte=$o["__core-js_shared__"];const uE=fte;var SD=function(){var e=/[^.]+$/.exec(uE&&uE.keys&&uE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hte(e){return!!SD&&SD in e}var mte=Function.prototype,gte=mte.toString;function $l(e){if(e!=null){try{return gte.call(e)}catch{}try{return e+""}catch{}}return""}var vte=/[\\^$.*+?()[\]{}|]/g,pte=/^\[object .+?Constructor\]$/,yte=Function.prototype,wte=Object.prototype,Ete=yte.toString,_te=wte.hasOwnProperty,Ste=RegExp("^"+Ete.call(_te).replace(vte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bte(e){if(!jh(e)||hte(e))return!1;var t=YF(e)?Ste:pte;return t.test($l(e))}function Cte(e,t){return e==null?void 0:e[t]}function Fl(e,t){var n=Cte(e,t);return bte(n)?n:void 0}var Tte=Fl($o,"Map");const Xf=Tte;var Ite=Fl(Object,"create");const Jf=Ite;function Rte(){this.__data__=Jf?Jf(null):{},this.size=0}function kte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dte="__lodash_hash_undefined__",Ate=Object.prototype,Nte=Ate.hasOwnProperty;function Ote(e){var t=this.__data__;if(Jf){var n=t[e];return n===Dte?void 0:n}return Nte.call(t,e)?t[e]:void 0}var xte=Object.prototype,Mte=xte.hasOwnProperty;function Pte(e){var t=this.__data__;return Jf?t[e]!==void 0:Mte.call(t,e)}var Lte="__lodash_hash_undefined__";function $te(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jf&&t===void 0?Lte:t,this}function El(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}El.prototype.clear=Rte;El.prototype.delete=kte;El.prototype.get=Ote;El.prototype.has=Pte;El.prototype.set=$te;function Fte(){this.size=0,this.__data__={hash:new El,map:new(Xf||ya),string:new El}}function jte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yp(e,t){var n=e.__data__;return jte(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ute(e){var t=Yp(this,e).delete(e);return this.size-=t?1:0,t}function Vte(e){return Yp(this,e).get(e)}function Bte(e){return Yp(this,e).has(e)}function zte(e,t){var n=Yp(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Cs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cs.prototype.clear=Fte;Cs.prototype.delete=Ute;Cs.prototype.get=Vte;Cs.prototype.has=Bte;Cs.prototype.set=zte;var Hte=200;function Wte(e,t){var n=this.__data__;if(n instanceof ya){var r=n.__data__;if(!Xf||r.length<Hte-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cs(r)}return n.set(e,t),this.size=n.size,this}function Fc(e){var t=this.__data__=new ya(e);this.size=t.size}Fc.prototype.clear=ite;Fc.prototype.delete=ote;Fc.prototype.get=ate;Fc.prototype.has=ste;Fc.prototype.set=Wte;function Kte(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Gte=function(){try{var e=Fl(Object,"defineProperty");return e({},"",{}),e}catch{}}();const bD=Gte;function QF(e,t,n){t=="__proto__"&&bD?bD(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var qte=Object.prototype,Yte=qte.hasOwnProperty;function XF(e,t,n){var r=e[t];(!(Yte.call(e,t)&&qF(r,n))||n===void 0&&!(t in e))&&QF(e,t,n)}function Qp(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?QF(n,s,l):XF(n,s,l)}return n}function Qte(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Xte="[object Arguments]";function CD(e){return Ll(e)&&Pl(e)==Xte}var JF=Object.prototype,Jte=JF.hasOwnProperty,Zte=JF.propertyIsEnumerable,ene=CD(function(){return arguments}())?CD:function(e){return Ll(e)&&Jte.call(e,"callee")&&!Zte.call(e,"callee")};const tne=ene;var nne=Array.isArray;const Uh=nne;function rne(){return!1}var ZF=typeof fi=="object"&&fi&&!fi.nodeType&&fi,TD=ZF&&typeof hi=="object"&&hi&&!hi.nodeType&&hi,ine=TD&&TD.exports===ZF,ID=ine?$o.Buffer:void 0,one=ID?ID.isBuffer:void 0,ane=one||rne;const e2=ane;var sne=9007199254740991,lne=/^(?:0|[1-9]\d*)$/;function une(e,t){var n=typeof e;return t=t??sne,!!t&&(n=="number"||n!="symbol"&&lne.test(e))&&e>-1&&e%1==0&&e<t}var cne=9007199254740991;function t2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cne}var dne="[object Arguments]",fne="[object Array]",hne="[object Boolean]",mne="[object Date]",gne="[object Error]",vne="[object Function]",pne="[object Map]",yne="[object Number]",wne="[object Object]",Ene="[object RegExp]",_ne="[object Set]",Sne="[object String]",bne="[object WeakMap]",Cne="[object ArrayBuffer]",Tne="[object DataView]",Ine="[object Float32Array]",Rne="[object Float64Array]",kne="[object Int8Array]",Dne="[object Int16Array]",Ane="[object Int32Array]",Nne="[object Uint8Array]",One="[object Uint8ClampedArray]",xne="[object Uint16Array]",Mne="[object Uint32Array]",vn={};vn[Ine]=vn[Rne]=vn[kne]=vn[Dne]=vn[Ane]=vn[Nne]=vn[One]=vn[xne]=vn[Mne]=!0;vn[dne]=vn[fne]=vn[Cne]=vn[hne]=vn[Tne]=vn[mne]=vn[gne]=vn[vne]=vn[pne]=vn[yne]=vn[wne]=vn[Ene]=vn[_ne]=vn[Sne]=vn[bne]=!1;function Pne(e){return Ll(e)&&t2(e.length)&&!!vn[Pl(e)]}function hT(e){return function(t){return e(t)}}var n2=typeof fi=="object"&&fi&&!fi.nodeType&&fi,nf=n2&&typeof hi=="object"&&hi&&!hi.nodeType&&hi,Lne=nf&&nf.exports===n2,cE=Lne&&HF.process,$ne=function(){try{var e=nf&&nf.require&&nf.require("util").types;return e||cE&&cE.binding&&cE.binding("util")}catch{}}();const gc=$ne;var RD=gc&&gc.isTypedArray,Fne=RD?hT(RD):Pne;const jne=Fne;var Une=Object.prototype,Vne=Une.hasOwnProperty;function r2(e,t){var n=Uh(e),r=!n&&tne(e),i=!n&&!r&&e2(e),o=!n&&!r&&!i&&jne(e),a=n||r||i||o,s=a?Qte(e.length,String):[],l=s.length;for(var u in e)(t||Vne.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||une(u,l)))&&s.push(u);return s}var Bne=Object.prototype;function mT(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Bne;return e===n}var zne=KF(Object.keys,Object);const Hne=zne;var Wne=Object.prototype,Kne=Wne.hasOwnProperty;function Gne(e){if(!mT(e))return Hne(e);var t=[];for(var n in Object(e))Kne.call(e,n)&&n!="constructor"&&t.push(n);return t}function i2(e){return e!=null&&t2(e.length)&&!YF(e)}function gT(e){return i2(e)?r2(e):Gne(e)}function qne(e,t){return e&&Qp(t,gT(t),e)}function Yne(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Qne=Object.prototype,Xne=Qne.hasOwnProperty;function Jne(e){if(!jh(e))return Yne(e);var t=mT(e),n=[];for(var r in e)r=="constructor"&&(t||!Xne.call(e,r))||n.push(r);return n}function vT(e){return i2(e)?r2(e,!0):Jne(e)}function Zne(e,t){return e&&Qp(t,vT(t),e)}var o2=typeof fi=="object"&&fi&&!fi.nodeType&&fi,kD=o2&&typeof hi=="object"&&hi&&!hi.nodeType&&hi,ere=kD&&kD.exports===o2,DD=ere?$o.Buffer:void 0,AD=DD?DD.allocUnsafe:void 0;function tre(e,t){if(t)return e.slice();var n=e.length,r=AD?AD(n):new e.constructor(n);return e.copy(r),r}function a2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function nre(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function s2(){return[]}var rre=Object.prototype,ire=rre.propertyIsEnumerable,ND=Object.getOwnPropertySymbols,ore=ND?function(e){return e==null?[]:(e=Object(e),nre(ND(e),function(t){return ire.call(e,t)}))}:s2;const pT=ore;function are(e,t){return Qp(e,pT(e),t)}function l2(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var sre=Object.getOwnPropertySymbols,lre=sre?function(e){for(var t=[];e;)l2(t,pT(e)),e=fT(e);return t}:s2;const u2=lre;function ure(e,t){return Qp(e,u2(e),t)}function c2(e,t,n){var r=t(e);return Uh(e)?r:l2(r,n(e))}function cre(e){return c2(e,gT,pT)}function dre(e){return c2(e,vT,u2)}var fre=Fl($o,"DataView");const NS=fre;var hre=Fl($o,"Promise");const OS=hre;var mre=Fl($o,"Set");const xS=mre;var gre=Fl($o,"WeakMap");const MS=gre;var OD="[object Map]",vre="[object Object]",xD="[object Promise]",MD="[object Set]",PD="[object WeakMap]",LD="[object DataView]",pre=$l(NS),yre=$l(Xf),wre=$l(OS),Ere=$l(xS),_re=$l(MS),Ls=Pl;(NS&&Ls(new NS(new ArrayBuffer(1)))!=LD||Xf&&Ls(new Xf)!=OD||OS&&Ls(OS.resolve())!=xD||xS&&Ls(new xS)!=MD||MS&&Ls(new MS)!=PD)&&(Ls=function(e){var t=Pl(e),n=t==vre?e.constructor:void 0,r=n?$l(n):"";if(r)switch(r){case pre:return LD;case yre:return OD;case wre:return xD;case Ere:return MD;case _re:return PD}return t});const yT=Ls;var Sre=Object.prototype,bre=Sre.hasOwnProperty;function Cre(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&bre.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Tre=$o.Uint8Array;const $D=Tre;function wT(e){var t=new e.constructor(e.byteLength);return new $D(t).set(new $D(e)),t}function Ire(e,t){var n=t?wT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Rre=/\w*$/;function kre(e){var t=new e.constructor(e.source,Rre.exec(e));return t.lastIndex=e.lastIndex,t}var FD=ds?ds.prototype:void 0,jD=FD?FD.valueOf:void 0;function Dre(e){return jD?Object(jD.call(e)):{}}function Are(e,t){var n=t?wT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Nre="[object Boolean]",Ore="[object Date]",xre="[object Map]",Mre="[object Number]",Pre="[object RegExp]",Lre="[object Set]",$re="[object String]",Fre="[object Symbol]",jre="[object ArrayBuffer]",Ure="[object DataView]",Vre="[object Float32Array]",Bre="[object Float64Array]",zre="[object Int8Array]",Hre="[object Int16Array]",Wre="[object Int32Array]",Kre="[object Uint8Array]",Gre="[object Uint8ClampedArray]",qre="[object Uint16Array]",Yre="[object Uint32Array]";function Qre(e,t,n){var r=e.constructor;switch(t){case jre:return wT(e);case Nre:case Ore:return new r(+e);case Ure:return Ire(e,n);case Vre:case Bre:case zre:case Hre:case Wre:case Kre:case Gre:case qre:case Yre:return Are(e,n);case xre:return new r;case Mre:case $re:return new r(e);case Pre:return kre(e);case Lre:return new r;case Fre:return Dre(e)}}var UD=Object.create,Xre=function(){function e(){}return function(t){if(!jh(t))return{};if(UD)return UD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Jre=Xre;function Zre(e){return typeof e.constructor=="function"&&!mT(e)?Jre(fT(e)):{}}var eie="[object Map]";function tie(e){return Ll(e)&&yT(e)==eie}var VD=gc&&gc.isMap,nie=VD?hT(VD):tie;const rie=nie;var iie="[object Set]";function oie(e){return Ll(e)&&yT(e)==iie}var BD=gc&&gc.isSet,aie=BD?hT(BD):oie;const sie=aie;var lie=1,uie=2,cie=4,d2="[object Arguments]",die="[object Array]",fie="[object Boolean]",hie="[object Date]",mie="[object Error]",f2="[object Function]",gie="[object GeneratorFunction]",vie="[object Map]",pie="[object Number]",h2="[object Object]",yie="[object RegExp]",wie="[object Set]",Eie="[object String]",_ie="[object Symbol]",Sie="[object WeakMap]",bie="[object ArrayBuffer]",Cie="[object DataView]",Tie="[object Float32Array]",Iie="[object Float64Array]",Rie="[object Int8Array]",kie="[object Int16Array]",Die="[object Int32Array]",Aie="[object Uint8Array]",Nie="[object Uint8ClampedArray]",Oie="[object Uint16Array]",xie="[object Uint32Array]",hn={};hn[d2]=hn[die]=hn[bie]=hn[Cie]=hn[fie]=hn[hie]=hn[Tie]=hn[Iie]=hn[Rie]=hn[kie]=hn[Die]=hn[vie]=hn[pie]=hn[h2]=hn[yie]=hn[wie]=hn[Eie]=hn[_ie]=hn[Aie]=hn[Nie]=hn[Oie]=hn[xie]=!0;hn[mie]=hn[f2]=hn[Sie]=!1;function hg(e,t,n,r,i,o){var a,s=t&lie,l=t&uie,u=t&cie;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!jh(e))return e;var c=Uh(e);if(c){if(a=Cre(e),!s)return a2(e,a)}else{var f=yT(e),h=f==f2||f==gie;if(e2(e))return tre(e,s);if(f==h2||f==d2||h&&!i){if(a=l||h?{}:Zre(e),!s)return l?ure(e,Zne(a,e)):are(e,qne(a,e))}else{if(!hn[f])return i?e:{};a=Qre(e,f,s)}}o||(o=new Fc);var v=o.get(e);if(v)return v;o.set(e,a),sie(e)?e.forEach(function(S){a.add(hg(S,t,n,S,e,o))}):rie(e)&&e.forEach(function(S,w){a.set(w,hg(S,t,n,w,e,o))});var _=u?l?dre:cre:l?vT:gT,E=c?void 0:_(e);return Kte(E||e,function(S,w){E&&(w=S,S=e[w]),XF(a,w,hg(S,t,n,w,e,o))}),a}var Mie=4;function zD(e){return hg(e,Mie)}function m2(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Pie="[object Symbol]";function ET(e){return typeof e=="symbol"||Ll(e)&&Pl(e)==Pie}var Lie="Expected a function";function _T(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_T.Cache||Cs),n}_T.Cache=Cs;var $ie=500;function Fie(e){var t=_T(e,function(r){return n.size===$ie&&n.clear(),r}),n=t.cache;return t}var jie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uie=/\\(\\)?/g,Vie=Fie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jie,function(n,r,i,o){t.push(i?o.replace(Uie,"$1"):r||n)}),t});const Bie=Vie;var zie=1/0;function Hie(e){if(typeof e=="string"||ET(e))return e;var t=e+"";return t=="0"&&1/e==-zie?"-0":t}var Wie=1/0,HD=ds?ds.prototype:void 0,WD=HD?HD.toString:void 0;function g2(e){if(typeof e=="string")return e;if(Uh(e))return m2(e,g2)+"";if(ET(e))return WD?WD.call(e):"";var t=e+"";return t=="0"&&1/e==-Wie?"-0":t}function Kie(e){return e==null?"":g2(e)}function v2(e){return Uh(e)?m2(e,Hie):ET(e)?[e]:a2(Bie(Kie(e)))}var Gie=!0;function qie(e,t){if(!Gie){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var p2={exports:{}},on={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur=typeof Symbol=="function"&&Symbol.for,ST=ur?Symbol.for("react.element"):60103,bT=ur?Symbol.for("react.portal"):60106,Xp=ur?Symbol.for("react.fragment"):60107,Jp=ur?Symbol.for("react.strict_mode"):60108,Zp=ur?Symbol.for("react.profiler"):60114,ey=ur?Symbol.for("react.provider"):60109,ty=ur?Symbol.for("react.context"):60110,CT=ur?Symbol.for("react.async_mode"):60111,ny=ur?Symbol.for("react.concurrent_mode"):60111,ry=ur?Symbol.for("react.forward_ref"):60112,iy=ur?Symbol.for("react.suspense"):60113,Yie=ur?Symbol.for("react.suspense_list"):60120,oy=ur?Symbol.for("react.memo"):60115,ay=ur?Symbol.for("react.lazy"):60116,Qie=ur?Symbol.for("react.block"):60121,Xie=ur?Symbol.for("react.fundamental"):60117,Jie=ur?Symbol.for("react.responder"):60118,Zie=ur?Symbol.for("react.scope"):60119;function Ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ST:switch(e=e.type,e){case CT:case ny:case Xp:case Zp:case Jp:case iy:return e;default:switch(e=e&&e.$$typeof,e){case ty:case ry:case ay:case oy:case ey:return e;default:return t}}case bT:return t}}}function y2(e){return Ci(e)===ny}on.AsyncMode=CT;on.ConcurrentMode=ny;on.ContextConsumer=ty;on.ContextProvider=ey;on.Element=ST;on.ForwardRef=ry;on.Fragment=Xp;on.Lazy=ay;on.Memo=oy;on.Portal=bT;on.Profiler=Zp;on.StrictMode=Jp;on.Suspense=iy;on.isAsyncMode=function(e){return y2(e)||Ci(e)===CT};on.isConcurrentMode=y2;on.isContextConsumer=function(e){return Ci(e)===ty};on.isContextProvider=function(e){return Ci(e)===ey};on.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ST};on.isForwardRef=function(e){return Ci(e)===ry};on.isFragment=function(e){return Ci(e)===Xp};on.isLazy=function(e){return Ci(e)===ay};on.isMemo=function(e){return Ci(e)===oy};on.isPortal=function(e){return Ci(e)===bT};on.isProfiler=function(e){return Ci(e)===Zp};on.isStrictMode=function(e){return Ci(e)===Jp};on.isSuspense=function(e){return Ci(e)===iy};on.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xp||e===ny||e===Zp||e===Jp||e===iy||e===Yie||typeof e=="object"&&e!==null&&(e.$$typeof===ay||e.$$typeof===oy||e.$$typeof===ey||e.$$typeof===ty||e.$$typeof===ry||e.$$typeof===Xie||e.$$typeof===Jie||e.$$typeof===Zie||e.$$typeof===Qie)};on.typeOf=Ci;p2.exports=on;var eoe=p2.exports,w2=eoe,toe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},noe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E2={};E2[w2.ForwardRef]=toe;E2[w2.Memo]=noe;function fr(){return fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)}function _2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Yi=function(t){return typeof t=="function"},sy=function(t){return t!==null&&typeof t=="object"},roe=function(t){return String(Math.floor(Number(t)))===t},dE=function(t){return Object.prototype.toString.call(t)==="[object String]"},fE=function(t){return sy(t)&&Yi(t.then)};function Ri(e,t,n,r){r===void 0&&(r=0);for(var i=v2(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function el(e,t,n){for(var r=zD(e),i=r,o=0,a=v2(t);o<a.length-1;o++){var s=a[o],l=Ri(e,a.slice(0,o+1));if(l&&(sy(l)||Array.isArray(l)))i=i[s]=zD(l);else{var u=a[o+1];i=i[s]=roe(u)&&Number(u)>=0?[]:{}}}return(o===0?e:i)[a[o]]===n?e:(n===void 0?delete i[a[o]]:i[a[o]]=n,o===0&&n===void 0&&delete r[a[o]],r)}function S2(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a];sy(s)?n.get(s)||(n.set(s,!0),r[a]=Array.isArray(s)?[]:{},S2(s,t,n,r[a])):r[a]=t}return r}var ly=d.createContext(void 0);ly.displayName="FormikContext";ly.Provider;ly.Consumer;function ioe(){var e=d.useContext(ly);return e||qie(!1),e}function ooe(e,t){switch(t.type){case"SET_VALUES":return fr({},e,{values:t.payload});case"SET_TOUCHED":return fr({},e,{touched:t.payload});case"SET_ERRORS":return Ps(e.errors,t.payload)?e:fr({},e,{errors:t.payload});case"SET_STATUS":return fr({},e,{status:t.payload});case"SET_ISSUBMITTING":return fr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return fr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return fr({},e,{values:el(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return fr({},e,{touched:el(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return fr({},e,{errors:el(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return fr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return fr({},e,{touched:S2(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return fr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return fr({},e,{isSubmitting:!1});default:return e}}var ks={},Vm={};function TT(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,a=o===void 0?!1:o,s=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,c=e.onSubmit,f=_2(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=fr({validateOnChange:n,validateOnBlur:i,validateOnMount:a,onSubmit:c},f),v=d.useRef(h.initialValues),_=d.useRef(h.initialErrors||ks),E=d.useRef(h.initialTouched||Vm),S=d.useRef(h.initialStatus),w=d.useRef(!1),p=d.useRef({});d.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var y=d.useReducer(ooe,{values:h.initialValues,errors:h.initialErrors||ks,touched:h.initialTouched||Vm,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),C=y[0],A=y[1],P=d.useCallback(function($,De){return new Promise(function(Ue,ze){var me=h.validate($,De);me==null?Ue(ks):fE(me)?me.then(function(V){Ue(V||ks)},function(V){ze(V)}):Ue(me)})},[h.validate]),L=d.useCallback(function($,De){var Ue=h.validationSchema,ze=Yi(Ue)?Ue(De):Ue,me=De&&ze.validateAt?ze.validateAt(De,$):soe($,ze);return new Promise(function(V,_e){me.then(function(){V(ks)},function(We){We.name==="ValidationError"?V(aoe(We)):_e(We)})})},[h.validationSchema]),K=d.useCallback(function($,De){return new Promise(function(Ue){return Ue(p.current[$].validate(De))})},[]),ae=d.useCallback(function($){var De=Object.keys(p.current).filter(function(ze){return Yi(p.current[ze].validate)}),Ue=De.length>0?De.map(function(ze){return K(ze,Ri($,ze))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ue).then(function(ze){return ze.reduce(function(me,V,_e){return V==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||V&&(me=el(me,De[_e],V)),me},{})})},[K]),le=d.useCallback(function($){return Promise.all([ae($),h.validationSchema?L($):{},h.validate?P($):{}]).then(function(De){var Ue=De[0],ze=De[1],me=De[2],V=AS.all([Ue,ze,me],{arrayMerge:loe});return V})},[h.validate,h.validationSchema,ae,P,L]),ue=Ii(function($){return $===void 0&&($=C.values),A({type:"SET_ISVALIDATING",payload:!0}),le($).then(function(De){return w.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:De})),De})});d.useEffect(function(){a&&w.current===!0&&Ps(v.current,h.initialValues)&&ue(v.current)},[a,ue]);var we=d.useCallback(function($){var De=$&&$.values?$.values:v.current,Ue=$&&$.errors?$.errors:_.current?_.current:h.initialErrors||{},ze=$&&$.touched?$.touched:E.current?E.current:h.initialTouched||{},me=$&&$.status?$.status:S.current?S.current:h.initialStatus;v.current=De,_.current=Ue,E.current=ze,S.current=me;var V=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!$&&!!$.isSubmitting,errors:Ue,touched:ze,status:me,values:De,isValidating:!!$&&!!$.isValidating,submitCount:$&&$.submitCount&&typeof $.submitCount=="number"?$.submitCount:0}})};if(h.onReset){var _e=h.onReset(C.values,Et);fE(_e)?_e.then(V):V()}else V()},[h.initialErrors,h.initialStatus,h.initialTouched]);d.useEffect(function(){w.current===!0&&!Ps(v.current,h.initialValues)&&(u&&(v.current=h.initialValues,we()),a&&ue(v.current))},[u,h.initialValues,we,a,ue]),d.useEffect(function(){u&&w.current===!0&&!Ps(_.current,h.initialErrors)&&(_.current=h.initialErrors||ks,A({type:"SET_ERRORS",payload:h.initialErrors||ks}))},[u,h.initialErrors]),d.useEffect(function(){u&&w.current===!0&&!Ps(E.current,h.initialTouched)&&(E.current=h.initialTouched||Vm,A({type:"SET_TOUCHED",payload:h.initialTouched||Vm}))},[u,h.initialTouched]),d.useEffect(function(){u&&w.current===!0&&!Ps(S.current,h.initialStatus)&&(S.current=h.initialStatus,A({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var he=Ii(function($){if(p.current[$]&&Yi(p.current[$].validate)){var De=Ri(C.values,$),Ue=p.current[$].validate(De);return fE(Ue)?(A({type:"SET_ISVALIDATING",payload:!0}),Ue.then(function(ze){return ze}).then(function(ze){A({type:"SET_FIELD_ERROR",payload:{field:$,value:ze}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:$,value:Ue}}),Promise.resolve(Ue))}else if(h.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),L(C.values,$).then(function(ze){return ze}).then(function(ze){A({type:"SET_FIELD_ERROR",payload:{field:$,value:ze[$]}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Se=d.useCallback(function($,De){var Ue=De.validate;p.current[$]={validate:Ue}},[]),qe=d.useCallback(function($){delete p.current[$]},[]),Ve=Ii(function($,De){A({type:"SET_TOUCHED",payload:$});var Ue=De===void 0?i:De;return Ue?ue(C.values):Promise.resolve()}),Ze=d.useCallback(function($){A({type:"SET_ERRORS",payload:$})},[]),ce=Ii(function($,De){var Ue=Yi($)?$(C.values):$;A({type:"SET_VALUES",payload:Ue});var ze=De===void 0?n:De;return ze?ue(Ue):Promise.resolve()}),ee=d.useCallback(function($,De){A({type:"SET_FIELD_ERROR",payload:{field:$,value:De}})},[]),U=Ii(function($,De,Ue){A({type:"SET_FIELD_VALUE",payload:{field:$,value:De}});var ze=Ue===void 0?n:Ue;return ze?ue(el(C.values,$,De)):Promise.resolve()}),Ee=d.useCallback(function($,De){var Ue=De,ze=$,me;if(!dE($)){$.persist&&$.persist();var V=$.target?$.target:$.currentTarget,_e=V.type,We=V.name,be=V.id,F=V.value,Oe=V.checked,Ye=V.outerHTML,ft=V.options,ut=V.multiple;Ue=De||We||be,ze=/number|range/.test(_e)?(me=parseFloat(F),isNaN(me)?"":me):/checkbox/.test(_e)?coe(Ri(C.values,Ue),Oe,F):ft&&ut?uoe(ft):F}Ue&&U(Ue,ze)},[U,C.values]),de=Ii(function($){if(dE($))return function(De){return Ee(De,$)};Ee($)}),te=Ii(function($,De,Ue){De===void 0&&(De=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:$,value:De}});var ze=Ue===void 0?i:Ue;return ze?ue(C.values):Promise.resolve()}),ie=d.useCallback(function($,De){$.persist&&$.persist();var Ue=$.target,ze=Ue.name,me=Ue.id,V=Ue.outerHTML,_e=De||ze||me;te(_e,!0)},[te]),q=Ii(function($){if(dE($))return function(De){return ie(De,$)};ie($)}),O=d.useCallback(function($){Yi($)?A({type:"SET_FORMIK_STATE",payload:$}):A({type:"SET_FORMIK_STATE",payload:function(){return $}})},[]),ne=d.useCallback(function($){A({type:"SET_STATUS",payload:$})},[]),Fe=d.useCallback(function($){A({type:"SET_ISSUBMITTING",payload:$})},[]),et=Ii(function(){return A({type:"SUBMIT_ATTEMPT"}),ue().then(function($){var De=$ instanceof Error,Ue=!De&&Object.keys($).length===0;if(Ue){var ze;try{if(ze=Ot(),ze===void 0)return}catch(me){throw me}return Promise.resolve(ze).then(function(me){return w.current&&A({type:"SUBMIT_SUCCESS"}),me}).catch(function(me){if(w.current)throw A({type:"SUBMIT_FAILURE"}),me})}else if(w.current&&(A({type:"SUBMIT_FAILURE"}),De))throw $})}),dt=Ii(function($){$&&$.preventDefault&&Yi($.preventDefault)&&$.preventDefault(),$&&$.stopPropagation&&Yi($.stopPropagation)&&$.stopPropagation(),et().catch(function(De){console.warn("Warning: An unhandled error was caught from submitForm()",De)})}),Et={resetForm:we,validateForm:ue,validateField:he,setErrors:Ze,setFieldError:ee,setFieldTouched:te,setFieldValue:U,setStatus:ne,setSubmitting:Fe,setTouched:Ve,setValues:ce,setFormikState:O,submitForm:et},Ot=Ii(function(){return c(C.values,Et)}),Ut=Ii(function($){$&&$.preventDefault&&Yi($.preventDefault)&&$.preventDefault(),$&&$.stopPropagation&&Yi($.stopPropagation)&&$.stopPropagation(),we()}),mt=d.useCallback(function($){return{value:Ri(C.values,$),error:Ri(C.errors,$),touched:!!Ri(C.touched,$),initialValue:Ri(v.current,$),initialTouched:!!Ri(E.current,$),initialError:Ri(_.current,$)}},[C.errors,C.touched,C.values]),It=d.useCallback(function($){return{setValue:function(Ue,ze){return U($,Ue,ze)},setTouched:function(Ue,ze){return te($,Ue,ze)},setError:function(Ue){return ee($,Ue)}}},[U,te,ee]),kt=d.useCallback(function($){var De=sy($),Ue=De?$.name:$,ze=Ri(C.values,Ue),me={name:Ue,value:ze,onChange:de,onBlur:q};if(De){var V=$.type,_e=$.value,We=$.as,be=$.multiple;V==="checkbox"?_e===void 0?me.checked=!!ze:(me.checked=!!(Array.isArray(ze)&&~ze.indexOf(_e)),me.value=_e):V==="radio"?(me.checked=ze===_e,me.value=_e):We==="select"&&be&&(me.value=me.value||[],me.multiple=!0)}return me},[q,de,C.values]),Ht=d.useMemo(function(){return!Ps(v.current,C.values)},[v.current,C.values]),Pt=d.useMemo(function(){return typeof s<"u"?Ht?C.errors&&Object.keys(C.errors).length===0:s!==!1&&Yi(s)?s(h):s:C.errors&&Object.keys(C.errors).length===0},[s,Ht,C.errors,h]),Vt=fr({},C,{initialValues:v.current,initialErrors:_.current,initialTouched:E.current,initialStatus:S.current,handleBlur:q,handleChange:de,handleReset:Ut,handleSubmit:dt,resetForm:we,setErrors:Ze,setFormikState:O,setFieldTouched:te,setFieldValue:U,setFieldError:ee,setStatus:ne,setSubmitting:Fe,setTouched:Ve,setValues:ce,submitForm:et,validateForm:ue,validateField:he,isValid:Pt,dirty:Ht,unregisterField:qe,registerField:Se,getFieldProps:kt,getFieldMeta:mt,getFieldHelpers:It,validateOnBlur:i,validateOnChange:n,validateOnMount:a});return Vt}function aoe(e){var t={};if(e.inner){if(e.inner.length===0)return el(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var a=o;Ri(t,a.path)||(t=el(t,a.path,a.message))}}return t}function soe(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=PS(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function PS(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||_D(i)?PS(i):i!==""?i:void 0}):_D(e[r])?t[r]=PS(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function loe(e,t,n){var r=e.slice();return t.forEach(function(o,a){if(typeof r[a]>"u"){var s=n.clone!==!1,l=s&&n.isMergeableObject(o);r[a]=l?AS(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[a]=AS(e[a],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function uoe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function coe(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var doe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?d.useLayoutEffect:d.useEffect;function Ii(e){var t=d.useRef(e);return doe(function(){t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}var foe=d.forwardRef(function(e,t){var n=e.action,r=_2(e,["action"]),i=n??"#",o=ioe(),a=o.handleReset,s=o.handleSubmit;return d.createElement("form",Object.assign({onSubmit:s,ref:t,onReset:a,action:i},r))});foe.displayName="Form";function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LS.apply(this,arguments)}function $S(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hoe(e){if(Array.isArray(e))return $S(e)}function moe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b2(e,t){if(e){if(typeof e=="string")return $S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(e,t)}}function goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hE(e){return hoe(e)||moe(e)||b2(e)||goe()}function voe(e){if(Array.isArray(e))return e}function poe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FS(e,t){return voe(e)||poe(e,t)||b2(e,t)||yoe()}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function woe(e,t){if(Zf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C2(e){var t=woe(e,"string");return Zf(t)==="symbol"?t:String(t)}function go(e,t,n){return t=C2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C2(r.key),r)}}function Eoe(e,t,n){return t&&KD(e.prototype,t),n&&KD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var br=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Hi=Eoe(function e(){_oe(this,e)});go(Hi,"ripple",!1);go(Hi,"inputStyle","outlined");go(Hi,"locale","en");go(Hi,"appendTo",null);go(Hi,"cssTransition",!0);go(Hi,"autoZIndex",!0);go(Hi,"nonce",null);go(Hi,"nullSortOrder",1);go(Hi,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});go(Hi,"filterMatchModeOptions",{text:[br.STARTS_WITH,br.CONTAINS,br.NOT_CONTAINS,br.ENDS_WITH,br.EQUALS,br.NOT_EQUALS],numeric:[br.EQUALS,br.NOT_EQUALS,br.LESS_THAN,br.LESS_THAN_OR_EQUAL_TO,br.GREATER_THAN,br.GREATER_THAN_OR_EQUAL_TO],date:[br.DATE_IS,br.DATE_IS_NOT,br.DATE_BEFORE,br.DATE_AFTER]});var Soe={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function boe(e,t){var n=t||Hi.locale;try{return Coe(n)[e]}catch{throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function Coe(e){var t=e||Hi.locale;return Soe[t]}var T2=d.memo(d.forwardRef(function(e,t){var n=e.messageInfo,r=n.message,i=r.severity,o=r.content,a=r.summary,s=r.detail,l=r.closable,u=r.life,c=r.sticky,f=r.className,h=r.style,v=r.contentClassName,_=r.contentStyle,E=d.useState(!1),S=FS(E,2),w=S[0],p=S[1],y=FW(function(){P()},u||3e3,!c&&!w),C=FS(y,1),A=C[0],P=function(){A(),e.onClose&&e.onClose(n)},L=function(Ze){e.onClick&&!(N.hasClass(Ze.target,"p-toast-icon-close")||N.hasClass(Ze.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},K=function(Ze){e.onMouseEnter&&e.onMouseEnter(Ze),!Ze.defaultPrevented&&(c||(A(),p(!0)))},ae=function(Ze){e.onMouseLeave&&e.onMouseLeave(Ze),!Ze.defaultPrevented&&(c||p(!1))},le=function(){return l!==!1?d.createElement("div",null,d.createElement("button",{type:"button",className:"p-toast-icon-close p-link",onClick:P,"aria-label":boe("close")},d.createElement("span",{className:"p-toast-icon-close-icon pi pi-times","aria-hidden":"true"}),d.createElement($t,null))):null},ue=function(){if(n){var Ze=W.getJSXElement(o,{message:n.message,onClick:L,onClose:P}),ce=Ge("p-toast-message-icon pi",{"pi-info-circle":i==="info","pi-exclamation-triangle":i==="warn","pi-times":i==="error","pi-check":i==="success"});return Ze||d.createElement(d.Fragment,null,d.createElement("span",{className:ce}),d.createElement("div",{className:"p-toast-message-text"},d.createElement("span",{className:"p-toast-summary"},a),s&&d.createElement("div",{className:"p-toast-detail"},s)))}return null},we=Ge("p-toast-message",go({},"p-toast-message-".concat(i),i),f),he=Ge("p-toast-message-content",v),Se=ue(),qe=le();return d.createElement("div",{ref:t,className:we,style:h,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:L,onMouseEnter:K,onMouseLeave:ae},d.createElement("div",{className:he,style:_},Se,qe))}));T2.displayName="ToastMessage";var GD=0,jc=d.memo(d.forwardRef(function(e,t){var n=d.useState([]),r=FS(n,2),i=r[0],o=r[1],a=d.useRef(null),s=function(p){if(p){var y=l(p,!0);i.length===0&&On.set("toast",a.current,ht.autoZIndex,e.baseZIndex||ht.zIndex.toast),o(y)}},l=function(p,y){var C;if(Array.isArray(p)){var A=p.reduce(function(L,K){return L.push({_pId:GD++,message:K}),L},[]);y?C=i?[].concat(hE(i),hE(A)):A:C=A}else{var P={_pId:GD++,message:p};y?C=i?[].concat(hE(i),[P]):[P]:C=[P]}return C},u=function(){On.clear(a.current),o([])},c=function(p){var y=l(p,!1);o(y)},f=function(p){var y=i.filter(function(C){return C._pId!==p._pId});o(y),e.onRemove&&e.onRemove(p.message)},h=function(p){f(p)},v=function(){e.onShow&&e.onShow()},_=function(){i.length===1&&On.clear(a.current),e.onHide&&e.onHide()};qr(function(){On.clear(a.current)}),d.useImperativeHandle(t,function(){return{props:e,show:s,replace:c,remove:f,clear:u,getElement:function(){return a.current}}});var E=function(){var p=W.findDiffKeys(e,jc.defaultProps),y=Ge("p-toast p-component p-toast-"+e.position,e.className);return d.createElement("div",LS({ref:a,id:e.id,className:y,style:e.style},p),d.createElement(kK,null,i&&i.map(function(C){var A=d.createRef();return d.createElement(Rl,{nodeRef:A,key:C._pId,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:v,onExited:_,options:e.transitionOptions},d.createElement(T2,{ref:A,messageInfo:C,onClick:e.onClick,onClose:h,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}))})))},S=E();return d.createElement(ys,{element:S,appendTo:e.appendTo})}));jc.displayName="Toast";jc.defaultProps={__TYPE:"Toast",id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null};const Toe=e=>{const t=d.useRef(null),n={titre:"",edition:"",nombre_exemple:"",nombre_page:"",numero:"",auteur:""};d.useEffect(()=>{e.display&&(e.status==1||e.status==2?r.setValues(e.selectedRow):r.setValues(n))},[e.display]);const r=TT({initialValues:n,validate:E=>({}),onSubmit:E=>{E&&_(E)}}),[i,o]=d.useState(!1),a=4e3,s=(E,S,w)=>{if(e.status==1)return S;if(e.status==2)return w;if(e.status==0)return E},l=E=>!!(r.touched[E]&&r.errors[E]),u=E=>l(E)?oe.jsx("small",{className:"p-error",children:r.errors[E]}):oe.jsx("small",{className:"p-error",children:""}),c=()=>{let E=s("Ajouter","Modifier","Supprimer"),S=s("p-button-success","p-button-warning","p-button-danger");return oe.jsxs("div",{children:[oe.jsx(xn,{label:"Annuler",icon:"pi pi-times",onClick:()=>f(!1),className:"p-button-text"}),oe.jsx(xn,{label:E,icon:"pi pi-check",className:S,onClick:r.submitForm,autoFocus:!0,loading:i})]})},f=E=>{e.setDisplay(E)},h=(E,S)=>oe.jsxs(oe.Fragment,{children:[oe.jsxs("span",{className:"p-float-label mt-1",children:[oe.jsx(Es,{id:E,name:E,value:r.values[E],onChange:w=>{r.setFieldValue(E,w.target.value)},className:Ge({"p-invalid":l(E),"w-75":!0})}),oe.jsx("label",{htmlFor:E,children:S})]}),u(E)]}),v=new Gp,_=E=>{let S=s("Ajouter avec succs","Modifi avec succs","Supprimer avec succs");o(!0);const w=()=>{t.current.show({severity:"success",summary:S,life:a}),f(!1),e.setRefresh({...E}),o(!1)},p=()=>{t.current.show({severity:"error",summary:"Erreur",life:a}),o(!1)};switch(e.status){case 0:v.create(E).then(y=>{w()}).catch(y=>{p()});break;case 1:v.update(E).then(y=>{w()}).catch(y=>{p()});break;case 2:v.delete(E).then(y=>{w()}).catch(y=>{p()});break}};return oe.jsxs(oe.Fragment,{children:[oe.jsx(jc,{ref:t}),oe.jsx($c,{header:()=>{var E,S;return s("Ajouter un Livre",`Modifier Livre N ${(E=e.selectedRow)==null?void 0:E.numero}`,`Supprimer Livre N ${(S=e.selectedRow)==null?void 0:S.numero}`)},visible:e.display,style:{width:"50vw"},footer:c(),onHide:()=>e.setDisplay(!1),children:e.status!=2&&oe.jsx("form",{onSubmit:r.handleSubmit,className:"flex flex-column gap-2 ",children:oe.jsxs("div",{className:"p-fluid p-formgrid p-grid",children:[h("titre","Titre"),h("edition","Edition"),h("nombre_exemple","Nb exemple"),h("nombre_page","Nb page"),h("numero","Numero"),h("auteur","Auteur")]})})})]})},Ioe=e=>{const t={ADD:0,EDIT:1,DELETE:2},[n,r]=d.useState(null),[i,o]=d.useState(),[a,s]=d.useState(!1),l=new Gp,[u,c]=d.useState(null),[f,h]=d.useState([]);d.useEffect(()=>{l.getAll().then(y=>{let C=[];y.forEach(A=>{C.push({...A.data(),id:A.id})}),h(C),w(!1)}).catch(y=>{console.log("Error getting documents: ",y),w(!1)})},[i]);const v=y=>{r(t.ADD),s(!0)},_=y=>{r(t.EDIT),s(!0),c(y)},E=y=>{c(y),r(t.DELETE),s(!0)},[S,w]=d.useState(!0),p=y=>oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"p-d-block",children:[oe.jsx(xn,{className:"p-button p-button-sm p-button-secondary my-custom-button",onClick:()=>_(y),icon:"pi pi-pencil"}),oe.jsx(xn,{className:"p-button p-button-sm p-button-danger my-custom-button",icon:"pi pi-trash",onClick:()=>E(y)})]})});return oe.jsxs(oe.Fragment,{children:[oe.jsxs(Tc,{value:f,paginator:!0,rows:10,dataKey:"uid",filterDisplay:"row",loading:S,emptyMessage:"Aucune inscription.",size:"small",className:"card",header:oe.jsx("button",{onClick:v,className:"p-button p-button-sm p-button-success",icon:"pi pi-plus",children:"Add"}),children:[oe.jsx(Vn,{field:"titre",header:"titre",filter:!0}),oe.jsx(Vn,{field:"edition",header:"edition",filter:!0}),oe.jsx(Vn,{field:"nombre_exemple",header:"nombre_exemple",filter:!0}),oe.jsx(Vn,{field:"nombre_page",header:"nombre_page",filter:!0}),oe.jsx(Vn,{field:"numero",header:"numero",filter:!0}),oe.jsx(Vn,{field:"auteur",header:"auteur",filter:!0}),oe.jsx(Vn,{field:"actions",header:"Actions",body:p})]}),oe.jsx(Toe,{status:n,selectedRow:u,display:a,setDisplay:s,setRefresh:o})]})};class uy{constructor(){Is(this,"collectionName","user");Is(this,"userCollection",EC(Io,this.collectionName))}create(t){return AC(this.userCollection,t)}getAll(){return RC(this.userCollection)}update(t){let n=t.id;delete t.id;const r=Ja(Io,this.collectionName,n);return kC(r,t)}delete(t){let n=t.id;delete t.id;const r=Ja(Io,this.collectionName,n);return DC(r)}}const Roe=e=>{const t=d.useRef(null),n={nom:"",prenom:"",adresse:"",email:"",status:""};d.useEffect(()=>{e.display&&(e.status==1||e.status==2?r.setValues(e.selectedRow):r.setValues(n))},[e.display]);const r=TT({initialValues:n,validate:E=>({}),onSubmit:E=>{E&&_(E)}}),[i,o]=d.useState(!1),a=4e3,s=(E,S,w)=>{if(e.status==1)return S;if(e.status==2)return w;if(e.status==0)return E},l=E=>!!(r.touched[E]&&r.errors[E]),u=E=>l(E)?oe.jsx("small",{className:"p-error",children:r.errors[E]}):oe.jsx("small",{className:"p-error",children:""}),c=()=>{let E=s("Ajouter","Modifier","Supprimer"),S=s("p-button-success","p-button-warning","p-button-danger");return oe.jsxs("div",{children:[oe.jsx(xn,{label:"Annuler",icon:"pi pi-times",onClick:()=>f(!1),className:"p-button-text"}),oe.jsx(xn,{label:E,icon:"pi pi-check",className:S,onClick:r.submitForm,autoFocus:!0,loading:i})]})},f=E=>{e.setDisplay(E)},h=(E,S)=>oe.jsxs(oe.Fragment,{children:[oe.jsxs("span",{className:"p-float-label mt-1",children:[oe.jsx(Es,{id:E,name:E,value:r.values[E],onChange:w=>{r.setFieldValue(E,w.target.value)},className:Ge({"p-invalid":l(E),"w-75":!0})}),oe.jsx("label",{htmlFor:E,children:S})]}),u(E)]}),v=new uy,_=E=>{let S=s("Ajouter avec succs","Modifi avec succs","Supprimer avec succs");o(!0);const w=()=>{t.current.show({severity:"success",summary:S,life:a}),f(!1),e.setRefresh({...E}),o(!1)},p=()=>{t.current.show({severity:"error",summary:"Erreur",life:a}),o(!1)};switch(e.status){case 0:v.create(E).then(y=>{w()}).catch(y=>{p()});break;case 1:v.update(E).then(y=>{w()}).catch(y=>{p()});break;case 2:v.delete(E).then(y=>{w()}).catch(y=>{p()});break}};return oe.jsxs(oe.Fragment,{children:[oe.jsx(jc,{ref:t}),oe.jsx($c,{header:()=>{var E,S;return s("Ajouter un usager",`Modifier Usager N ${(E=e.selectedRow)==null?void 0:E.numero}`,`Supprimer Livre N ${(S=e.selectedRow)==null?void 0:S.numero}`)},visible:e.display,style:{width:"50vw"},footer:c(),onHide:()=>e.setDisplay(!1),children:e.status!=2&&oe.jsx("form",{onSubmit:r.handleSubmit,className:"flex flex-column gap-2 ",children:oe.jsxs("div",{className:"p-fluid p-formgrid p-grid",children:[h("nom","Nom"),h("prenom","Prenom"),h("adresse","Adresse"),h("status","Status"),h("email","Email")]})})})]})},koe=e=>{const t={ADD:0,EDIT:1,DELETE:2},[n,r]=d.useState(null),[i,o]=d.useState(),[a,s]=d.useState(!1),l=new uy,[u,c]=d.useState(null),[f,h]=d.useState([]);d.useEffect(()=>{l.getAll().then(y=>{let C=[];y.forEach(A=>{C.push({...A.data(),id:A.id})}),h(C),w(!1)}).catch(y=>{console.log("Error getting documents: ",y),w(!1)})},[i]);const v=y=>{r(t.ADD),s(!0)},_=y=>{r(t.EDIT),s(!0),c(y)},E=y=>{c(y),r(t.DELETE),s(!0)},[S,w]=d.useState(!0),p=y=>oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"p-d-block",children:[oe.jsx(xn,{className:"p-button p-button-sm p-button-secondary my-custom-button",onClick:()=>_(y),icon:"pi pi-pencil"}),oe.jsx(xn,{className:"p-button p-button-sm p-button-danger my-custom-button",icon:"pi pi-trash",onClick:()=>E(y)})]})});return oe.jsxs(oe.Fragment,{children:[oe.jsxs(Tc,{value:f,paginator:!0,rows:10,dataKey:"uid",filterDisplay:"row",loading:S,emptyMessage:"Aucune inscription.",size:"small",className:"card",header:oe.jsx("button",{onClick:v,className:"p-button p-button-sm p-button-success",icon:"pi pi-plus",children:"Add"}),children:[oe.jsx(Vn,{field:"nom",header:"nom",filter:!0}),oe.jsx(Vn,{field:"prenom",header:"prenom",filter:!0}),oe.jsx(Vn,{field:"adresse",header:"adresse",filter:!0}),oe.jsx(Vn,{field:"status",header:"status",filter:!0}),oe.jsx(Vn,{field:"email",header:"email",filter:!0}),oe.jsx(Vn,{field:"actions",header:"Actions",body:p})]}),oe.jsx(Roe,{status:n,selectedRow:u,display:a,setDisplay:s,setRefresh:o})]})};class I2{constructor(){Is(this,"collectionName","emprunt");Is(this,"empruntCollection",EC(Io,this.collectionName))}create(t){return AC(this.empruntCollection,t)}getAll(){return RC(this.empruntCollection)}getJoinedData(){const t=new Gp,n=new uy,r=this.getAll().then(a=>a.docs.map(s=>({...s.data(),idemprunt:s.id}))),i=t.getAll().then(a=>a.docs.map(s=>({...s.data(),idlivre:s.id}))),o=n.getAll().then(a=>a.docs.map(s=>({...s.data(),iduser:s.id})));return Promise.all([r,i,o]).then(([a,s,l])=>a.map(c=>{c.date=c.date.toDate();const f=s.find(v=>v.idlivre===c.idlivre),h=l.find(v=>v.iduser===c.iduser);return{...c,...f,...h}}))}update(t){let n=t.idemprunt,r=["iduser","idlivre","date"],i={};r.forEach(a=>{i[a]=t[a]});const o=Ja(Io,this.collectionName,n);return kC(o,i)}delete(t){let n=t.idemprunt;delete t.idemprunt;const r=Ja(Io,this.collectionName,n);return DC(r)}}function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function Doe(e,t){if(vc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aoe(e){var t=Doe(e,"string");return vc(t)==="symbol"?t:String(t)}function yd(e,t,n){return t=Aoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(this,arguments)}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Noe(e){if(Array.isArray(e))return jS(e)}function Ooe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R2(e,t){if(e){if(typeof e=="string")return jS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(e,t)}}function xoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bm(e){return Noe(e)||Ooe(e)||R2(e)||xoe()}function Moe(e){if(Array.isArray(e))return e}function Poe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ia(e,t){return Moe(e)||Poe(e,t)||R2(e,t)||Loe()}var k2=d.forwardRef(function(e,t){var n=function(){return d.createElement(Rl,{nodeRef:t,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},d.createElement("div",{ref:t,className:e.className,style:e.style,onClick:e.onClick,onMouseUp:e.onMouseUp},e.children))},r=n();return e.inline?r:d.createElement(ys,{element:r,appendTo:e.appendTo})});k2.displayName="CalendarPanel";function qD(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$oe(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}function $oe(e,t){if(e){if(typeof e=="string")return YD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(e,t)}}function YD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cy=d.memo(d.forwardRef(function(e,t){var n,r=d.useState(!1),i=Ia(r,2),o=i[0],a=i[1],s=d.useState(!1),l=Ia(s,2),u=l[0],c=l[1],f=d.useState(null),h=Ia(f,2),v=h[0],_=h[1],E=d.useRef(null),S=d.useRef(null),w=d.useRef(e.inputRef),p=d.useRef(null),y=d.useRef(!1),C=d.useRef(!1),A=d.useRef(null),P=d.useRef(!1),L=d.useRef(null),K=d.useRef(null),ae=d.useRef(null),le=d.useRef(!1),ue=d.useRef(!1),we=d.useState("date"),he=Ia(we,2),Se=he[0],qe=he[1],Ve=d.useState(null),Ze=Ia(Ve,2),ce=Ze[0],ee=Ze[1],U=d.useState(null),Ee=Ia(U,2),de=Ee[0],te=Ee[1],ie=d.useState([]),q=Ia(ie,2),O=q[0],ne=q[1],Fe=ll(e.value),et=e.inline||(e.onVisibleChange?e.visible:u),dt=o0(),Et=s0({target:E,overlay:S,listener:function(m,g){var T=g.type,b=g.valid;b&&(T==="outside"?!le.current&&!Bc(m.target)&&jr("outside"):jr()),le.current=!1},when:!(e.touchUI||e.inline)&&et}),Ot=Ia(Et,2),Ut=Ot[0],mt=Ot[1],It=function(){return e.dateFormat||Kn("dateFormat",e.locale)},kt=function(m){y.current?(a(!0),y.current=!1):(e.showOnFocus&&!et&&Wi(),a(!0),e.onFocus&&e.onFocus(m))},Ht=function(m){a(!1),!e.keepInvalid&&po(e.value),e.onBlur&&e.onBlur(m)},Pt=function(m){switch(C.current=!0,m.which){case 27:{jr();break}case 9:{et&&We(m),e.touchUI&&Ts();break}}},Vt=function(m){C.current&&(C.current=!1,$(m,m.target.value),e.onInput&&e.onInput(m))},$=function(m,g){try{var T=Sy(g);Ue(T)&&(Hn(m,T),Z(m,T.length?T[0]:T))}catch{var b=e.keepInvalid?g:null;Hn(m,b)}},De=function(){!e.inline&&w.current&&(y.current=!0,N.focus(w.current))},Ue=function(m){var g=!0;return jo()?Ki(m.getDate(),m.getMonth(),m.getFullYear(),!1)&&Hh(m)||(g=!1):m.every(function(T){return Ki(T.getDate(),T.getMonth(),T.getFullYear(),!1)&&Hh(T)})&&Xn()&&(g=m.length>1&&m[1]>m[0]),g},ze=function(){et?jr():Wi()},me=function(m){p.current={backward:!0,button:!0},Oe(m)},V=function(m){p.current={backward:!1,button:!0},Ye(m)},_e=function(m){switch(m.which){case 9:We(m);break;case 27:jr(null,De),m.preventDefault();break}},We=function(m){m.preventDefault();var g=N.getFocusableElements(S.current);if(g&&g.length>0)if(!document.activeElement)g[0].focus();else{var T=g.indexOf(document.activeElement);m.shiftKey?T===-1||T===0?g[g.length-1].focus():g[T-1].focus():T===-1||T===g.length-1?g[0].focus():g[T+1].focus()}},be=function(){if(p.current){if(p.current.button)F(),p.current.backward?N.findSingle(S.current,".p-datepicker-prev").focus():N.findSingle(S.current,".p-datepicker-next").focus();else{var m;if(p.current.backward){var g=N.find(S.current,".p-datepicker-calendar td span:not(.p-disabled)");m=g[g.length-1]}else m=N.findSingle(S.current,".p-datepicker-calendar td span:not(.p-disabled)");m&&(m.tabIndex="0",m.focus())}p.current=null}else F()},F=function(){var m;if(e.view==="month"){var g=N.find(S.current,".p-monthpicker .p-monthpicker-month"),T=N.findSingle(S.current,".p-monthpicker .p-monthpicker-month.p-highlight");g.forEach(function(Y){return Y.tabIndex=-1}),m=T||g[0]}else if(m=N.findSingle(S.current,"span.p-highlight"),!m){var b=N.findSingle(S.current,"td.p-datepicker-today span:not(.p-disabled)");m=b||N.findSingle(S.current,".p-datepicker-calendar td span:not(.p-disabled)")}m&&(m.tabIndex="0")},Oe=function(m){if(e.disabled){m.preventDefault();return}var g=new Date(nt().getTime());if(g.setDate(1),Se==="date")g.getMonth()===0?(g.setMonth(11),g.setFullYear(ut()),ee(11)):(g.setMonth(g.getMonth()-1),ee(function(Y){return Y-1}));else if(Se==="month"){var T=g.getFullYear()-1;if(e.yearNavigator){var b=parseInt(e.yearRange.split(":")[0],10);T<b&&(T=b)}g.setFullYear(T)}Se==="month"?g.setFullYear(ut()):Se==="year"&&g.setFullYear(dn()),Z(m,g),m.preventDefault()},Ye=function(m){if(e.disabled){m.preventDefault();return}var g=new Date(nt().getTime());if(g.setDate(1),Se==="date")g.getMonth()===11?(g.setMonth(0),g.setFullYear(vt()),ee(0)):(g.setMonth(g.getMonth()+1),ee(function(Y){return Y+1}));else if(Se==="month"){var T=g.getFullYear()+1;if(e.yearNavigator){var b=parseInt(e.yearRange.split(":")[1],10);T>b&&(T=b)}g.setFullYear(T)}Se==="month"?g.setFullYear(vt()):Se==="year"&&g.setFullYear(Pn()),Z(m,g),m.preventDefault()},ft=function(m,g){for(var T=[],b=m;b<=g;b++)O.push(b);ne(T)},ut=function(){var m=de-1;if(te(m),e.yearNavigator&&m<O[0]){var g=O[O.length-1]-O[0];ft(O[0]-g,O[O.length-1]-g)}return m},vt=function(){var m=de+1;if(te(m),e.yearNavigator&&m.current>O[O.length-1]){var g=O[O.length-1]-O[0];ft(O[0]+g,O[O.length-1]+g)}return m},_t=function(m,g){var T=nt(),b=new Date(T.getTime());b.setMonth(parseInt(g,10)),Z(m,b)},an=function(m,g){var T=nt(),b=new Date(T.getTime());b.setFullYear(parseInt(g,10)),Z(m,b)},Zt=function(m){var g=new Date,T={day:g.getDate(),month:g.getMonth(),year:g.getFullYear(),today:!0,selectable:!0},b={hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()};Z(m,g),rt(m,T,b),e.onTodayButtonClick&&e.onTodayButtonClick(m)},Tt=function(m){Hn(m,null),po(null),jr(),e.onClearButtonClick&&e.onClearButtonClick(m)},Wt=function(m){e.inline||no.emit("overlay-click",{originalEvent:m,target:E.current})},In=function(m){Wt(m)},qt=function(m,g,T){e.disabled||(cr(m,null,g,T),m.preventDefault())},en=function(){e.disabled||st()},Yt=function(){e.disabled||st()},cr=function H(m,g,T,b){switch(st(),A.current=setTimeout(function(){H(m,100,T,b)},g||500),T){case 0:b===1?se(m):Q(m);break;case 1:b===1?Ie(m):G(m);break;case 2:b===1?x(m):re(m);break;case 3:b===1?ve(m):Ae(m);break}},st=function(){A.current&&clearTimeout(A.current)},se=function(m){var g=ge(),T=g.getHours(),b=T+e.stepHour;b=b>=24?b-24:b,J(b,g)&&(e.maxDate&&e.maxDate.toDateString()===g.toDateString()&&e.maxDate.getHours()===b&&(e.maxDate.getMinutes()<g.getMinutes()||e.maxDate.getMinutes()===g.getMinutes())?e.maxDate.getSeconds()<g.getSeconds()?e.maxDate.getMilliseconds()<g.getMilliseconds()?k(m,b,e.maxDate.getMinutes(),e.maxDate.getSeconds(),e.maxDate.getMilliseconds()):k(m,b,e.maxDate.getMinutes(),e.maxDate.getSeconds(),g.getMilliseconds()):k(m,b,e.maxDate.getMinutes(),g.getSeconds(),g.getMilliseconds()):k(m,b,g.getMinutes(),g.getSeconds(),g.getMilliseconds())),m.preventDefault()},Q=function(m){var g=ge(),T=g.getHours(),b=T-e.stepHour;b=b<0?b+24:b,J(b,g)&&(e.minDate&&e.minDate.toDateString()===g.toDateString()&&e.minDate.getHours()===b&&(e.minDate.getMinutes()>g.getMinutes()||e.minDate.getMinutes()===g.getMinutes())?e.minDate.getSeconds()>g.getSeconds()?e.minDate.getMilliseconds()>g.getMilliseconds()?k(m,b,e.minDate.getMinutes(),e.minDate.getSeconds(),e.minDate.getMilliseconds()):k(m,b,e.minDate.getMinutes(),e.minDate.getSeconds(),g.getMilliseconds()):k(m,b,e.minDate.getMinutes(),g.getSeconds(),g.getMilliseconds()):k(m,b,g.getMinutes(),g.getSeconds(),g.getMilliseconds())),m.preventDefault()},j=function(m,g){return e.stepMinute<=1?g?m+g:m:!g&&(g=e.stepMinute,m%g===0)?m:Math.floor((m+g)/g)*g},Ie=function(m){var g=ge(),T=g.getMinutes(),b=j(T,e.stepMinute);b=b>59?b-60:b,I(b,g)&&(e.maxDate&&e.maxDate.toDateString()===g.toDateString()&&e.maxDate.getMinutes()===b&&e.maxDate.getSeconds()<g.getSeconds()?e.maxDate.getMilliseconds()<g.getMilliseconds()?k(m,g.getHours(),b,e.maxDate.getSeconds(),e.maxDate.getMilliseconds()):k(m,g.getHours(),b,e.maxDate.getSeconds(),g.getMilliseconds()):k(m,g.getHours(),b,g.getSeconds(),g.getMilliseconds())),m.preventDefault()},G=function(m){var g=ge(),T=g.getMinutes(),b=j(T,-e.stepMinute);b=b<0?b+60:b,I(b,g)&&(e.minDate&&e.minDate.toDateString()===g.toDateString()&&e.minDate.getMinutes()===b&&e.minDate.getSeconds()>g.getSeconds()?e.minDate.getMilliseconds()>g.getMilliseconds()?k(m,g.getHours(),b,e.minDate.getSeconds(),e.minDate.getMilliseconds()):k(m,g.getHours(),b,e.minDate.getSeconds(),g.getMilliseconds()):k(m,g.getHours(),b,g.getSeconds(),g.getMilliseconds())),m.preventDefault()},x=function(m){var g=ge(),T=g.getSeconds(),b=T+e.stepSecond;b=b>59?b-60:b,X(b,g)&&(e.maxDate&&e.maxDate.toDateString()===g.toDateString()&&e.maxDate.getSeconds()===b&&e.maxDate.getMilliseconds()<g.getMilliseconds()?k(m,g.getHours(),g.getMinutes(),b,e.maxDate.getMilliseconds()):k(m,g.getHours(),g.getMinutes(),b,g.getMilliseconds())),m.preventDefault()},re=function(m){var g=ge(),T=g.getSeconds(),b=T-e.stepSecond;b=b<0?b+60:b,X(b,g)&&(e.minDate&&e.minDate.toDateString()===g.toDateString()&&e.minDate.getSeconds()===b&&e.minDate.getMilliseconds()>g.getMilliseconds()?k(m,g.getHours(),g.getMinutes(),b,e.minDate.getMilliseconds()):k(m,g.getHours(),g.getMinutes(),b,g.getMilliseconds())),m.preventDefault()},ve=function(m){var g=ge(),T=g.getMilliseconds(),b=T+e.stepMillisec;b=b>999?b-1e3:b,B(b,g)&&k(m,g.getHours(),g.getMinutes(),g.getSeconds(),b),m.preventDefault()},Ae=function(m){var g=ge(),T=g.getMilliseconds(),b=T-e.stepMillisec;b=b<0?b+999:b,B(b,g)&&k(m,g.getHours(),g.getMinutes(),g.getSeconds(),b),m.preventDefault()},Je=function(m){var g=ge(),T=g.getHours(),b=T>=12?T-12:T+12;J(Ce(b,!(T>11)),g)&&k(m,b,g.getMinutes(),g.getSeconds(),g.getMilliseconds()),m.preventDefault()},nt=function(m){var g=e.value,T=m||(e.onViewDateChange?e.viewDate:v);return Array.isArray(g)&&(g=g[0]),T&&M(T)?T:g&&M(g)?g:new Date},ge=function(){if(jo())return e.value&&e.value instanceof Date?e.value:nt();if(Jn()){if(e.value&&e.value.length)return e.value[e.value.length-1]}else if(Xn()&&e.value&&e.value.length){var m=e.value[0],g=e.value[1];return g||m}return new Date},M=function(m){return m instanceof Date&&!isNaN(m)},Ce=function(m,g){return e.hourFormat=="12"?m===12?g?12:0:g?m+12:m:m},J=function(m,g){var T=!0,b=g?g.toDateString():null;return e.minDate&&b&&e.minDate.toDateString()===b&&e.minDate.getHours()>m&&(T=!1),e.maxDate&&b&&e.maxDate.toDateString()===b&&e.maxDate.getHours()<m&&(T=!1),T},I=function(m,g){var T=!0,b=g?g.toDateString():null;return e.minDate&&b&&e.minDate.toDateString()===b&&g.getHours()===e.minDate.getHours()&&e.minDate.getMinutes()>m&&(T=!1),e.maxDate&&b&&e.maxDate.toDateString()===b&&g.getHours()===e.maxDate.getHours()&&e.maxDate.getMinutes()<m&&(T=!1),T},X=function(m,g){var T=!0,b=g?g.toDateString():null;return e.minDate&&b&&e.minDate.toDateString()===b&&g.getHours()===e.minDate.getHours()&&g.getMinutes()===e.minDate.getMinutes()&&e.minDate.getSeconds()>m&&(T=!1),e.maxDate&&b&&e.maxDate.toDateString()===b&&g.getHours()===e.maxDate.getHours()&&g.getMinutes()===e.maxDate.getMinutes()&&e.maxDate.getSeconds()<m&&(T=!1),T},B=function(m,g){var T=!0,b=g?g.toDateString():null;return e.minDate&&b&&e.minDate.toDateString()===b&&g.getHours()===e.minDate.getHours()&&g.getSeconds()===e.minDate.getSeconds()&&g.getMinutes()===e.minDate.getMinutes()&&e.minDate.getMilliseconds()>m&&(T=!1),e.maxDate&&b&&e.maxDate.toDateString()===b&&g.getHours()===e.maxDate.getHours()&&g.getSeconds()===e.maxDate.getSeconds()&&g.getMinutes()===e.maxDate.getMinutes()&&e.maxDate.getMilliseconds()<m&&(T=!1),T},R=function(m){if(e.yearNavigator){var g=m.getFullYear(),T=e.yearRange?parseInt(e.yearRange.split(":")[0],10):null,b=e.yearRange?parseInt(e.yearRange.split(":")[1],10):null,Y=e.minDate&&T!=null?Math.max(e.minDate.getFullYear(),T):e.minDate||T,Re=e.maxDate&&b!=null?Math.min(e.maxDate.getFullYear(),b):e.maxDate||b;Y&&Y>g&&(g=Y),Re&&Re<g&&(g=Re),m.setFullYear(g)}if(e.monthNavigator&&e.view!=="month"){var je=m.getMonth(),at=parseInt(Qh(m)&&Math.max(e.minDate.getMonth(),je).toString()||Kl(m)&&Math.min(e.maxDate.getMonth(),je).toString()||je);m.setMonth(at)}},k=function(m,g,T,b,Y){var Re=ge();if(Re.setHours(g),Re.setMinutes(T),Re.setSeconds(b),Re.setMilliseconds(Y),Jn())if(e.value&&e.value.length){var je=Bm(e.value);je[je.length-1]=Re,Re=je}else Re=[Re];else if(Xn())if(e.value&&e.value.length){var at=e.value[0],bt=e.value[1];Re=bt?[at,Re]:[Re,null]}else Re=[Re,null];Hn(m,Re),e.onSelect&&e.onSelect({originalEvent:m,value:Re}),po(Re)},Z=function(m,g){R(g),e.onViewDateChange?e.onViewDateChange({originalEvent:m,value:g}):(P.current=!0,_(g)),ee(g.getMonth()),te(g.getFullYear())},ye=function(m){if(!(!e.showMinMaxRange||e.view!=="date"||!S.current)){var g=N.findSingle(S.current,".p-datepicker-prev"),T=N.findSingle(S.current,".p-datepicker-next");if(e.disabled){N.addClass(g,"p-disabled"),N.addClass(T,"p-disabled");return}if(e.minDate){var b=new Date(m.getTime());b.getMonth()===0?(b.setMonth(11,1),b.setFullYear(b.getFullYear()-1)):b.setMonth(b.getMonth()-1,1),b.setHours(0),b.setMinutes(0),b.setSeconds(0),e.minDate>b?N.addClass(g,"p-disabled"):N.removeClass(g,"p-disabled")}if(e.maxDate){var Y=new Date(m.getTime());Y.getMonth()===11?(Y.setMonth(0,1),Y.setFullYear(Y.getFullYear()+1)):Y.setMonth(Y.getMonth()+1,1),Y.setHours(0),Y.setMinutes(0),Y.setSeconds(0),Y.setSeconds(-1),e.maxDate<Y?N.addClass(T,"p-disabled"):N.removeClass(T,"p-disabled")}}},fe=function(m,g,T){var b=m.currentTarget,Y=b.parentElement;switch(m.which){case 40:{b.tabIndex="-1";var Re=N.index(Y),je=Y.parentElement.nextElementSibling;if(je){var at=je.children[Re].children[0];N.hasClass(at,"p-disabled")?(p.current={backward:!1},Ye(m)):(je.children[Re].children[0].tabIndex="0",je.children[Re].children[0].focus())}else p.current={backward:!1},Ye(m);m.preventDefault();break}case 38:{b.tabIndex="-1";var bt=N.index(Y),sn=Y.parentElement.previousElementSibling;if(sn){var Ur=sn.children[bt].children[0];N.hasClass(Ur,"p-disabled")?(p.current={backward:!0},Oe(m)):(Ur.tabIndex="0",Ur.focus())}else p.current={backward:!0},Oe(m);m.preventDefault();break}case 37:{b.tabIndex="-1";var tn=Y.previousElementSibling;if(tn){var Qt=tn.children[0];N.hasClass(Qt,"p-disabled")?Xe(!0,T,m):(Qt.tabIndex="0",Qt.focus())}else Xe(!0,T,m);m.preventDefault();break}case 39:{b.tabIndex="-1";var dr=Y.nextElementSibling;if(dr){var Zn=dr.children[0];N.hasClass(Zn,"p-disabled")?Xe(!1,T,m):(Zn.tabIndex="0",Zn.focus())}else Xe(!1,T,m);m.preventDefault();break}case 13:{rt(m,g),m.preventDefault();break}case 27:{jr(null,De),m.preventDefault();break}case 9:{We(m);break}}},Xe=function(m,g,T){if(m)if(e.numberOfMonths===1||g===0)p.current={backward:!0},Oe(T);else{var b=S.current.children[g-1],Y=N.find(b,".p-datepicker-calendar td span:not(.p-disabled)"),Re=Y[Y.length-1];Re.tabIndex="0",Re.focus()}else if(e.numberOfMonths===1||g===e.numberOfMonths-1)p.current={backward:!1},Ye(T);else{var je=S.current.children[g+1],at=N.findSingle(je,".p-datepicker-calendar td span:not(.p-disabled)");at.tabIndex="0",at.focus()}},rt=function(m,g,T){if(e.disabled||!g.selectable){m.preventDefault();return}if(N.find(S.current,".p-datepicker-calendar td span:not(.p-disabled)").forEach(function(Y){return Y.tabIndex=-1}),m.currentTarget.focus(),Jn())if(Gc(g)){var b=e.value.filter(function(Y,Re){return!Fo(Y,g)});Hn(m,b),po(b)}else(!e.maxDateCount||!e.value||e.maxDateCount>e.value.length)&&Sn(m,g,T);else Sn(m,g,T);!e.inline&&jo()&&(!e.showTime||e.hideOnDateTimeSelect)&&(setTimeout(function(){jr("dateselect")},100),L.current&&Ts()),m.preventDefault()},un=function(m,g){if(e.showTime){var T,b,Y,Re;if(g)T=g.hours,b=g.minutes,Y=g.seconds,Re=g.milliseconds;else{var je=ge(),at=[je.getHours(),je.getMinutes(),je.getSeconds(),je.getMilliseconds()];T=at[0],b=at[1],Y=at[2],Re=at[3]}m.setHours(T),m.setMinutes(b),m.setSeconds(Y),m.setMilliseconds(Re)}},Sn=function(m,g,T){var b=new Date(g.year,g.month,g.day);un(b,T),e.minDate&&e.minDate>b&&(b=e.minDate),e.maxDate&&e.maxDate<b&&(b=e.maxDate);var Y=b;if(jo())Hn(m,b);else if(Jn())Y=e.value?[].concat(Bm(e.value),[b]):[b],Hn(m,Y);else if(Xn())if(e.value&&e.value.length){var Re=e.value[0],je=e.value[1];je?(Re=b,je=null):b.getTime()>=Re.getTime()?je=b:(je=Re,Re=b),Y=[Re,je],Hn(m,Y)}else Y=[b,null],Hn(m,Y);e.onSelect&&e.onSelect({originalEvent:m,value:b}),po(Y)},dn=function(){var m=de-10;return te(m),m},Pn=function(){var m=de+10;return te(m),m},Rt=function(m){qe("month"),m.preventDefault()},cn=function(m){qe("year"),m.preventDefault()},ai=function(m,g){if(e.view==="month")rt(m,{year:de,month:g,day:1,selectable:!0}),m.preventDefault();else{ee(g),Kc(g,de);var T=new Date(ge().getTime());T.setDate(1),T.setMonth(g),T.setYear(de),_(T),qe("date"),e.onMonthChange&&e.onMonthChange({month:g+1,year:de})}},vo=function(m,g){e.view==="year"?rt(m,{year:g,month:0,day:1,selectable:!0}):(te(g),qe("month"),e.onMonthChange&&e.onMonthChange({month:ce+1,year:g}))},Hn=function(m,g){if(e.onChange){var T=g&&g instanceof Date?new Date(g.getTime()):g;P.current=!0,e.onChange({originalEvent:m,value:T,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:T}})}},Wi=function(m){e.onVisibleChange?e.onVisibleChange({visible:!0,type:m}):(c(!0),K.current=function(g){Bh(g)||(le.current=!0)},no.on("overlay-click",K.current))},jr=function(m,g){var T=function(){P.current=!1,y.current=!1,le.current=!1,g&&g(),no.off("overlay-click",K.current),K.current=null};e.touchUI&&Ts(),e.onVisibleChange?e.onVisibleChange({visible:!1,type:m,callback:T}):(c(!1),T())},jl=function(){if(e.autoZIndex){var m=e.touchUI?"modal":"overlay";On.set(m,S.current,ht.autoZIndex,e.baseZIndex||ht.zIndex[m])}Vc()},Ul=function(){Ut(),e.onShow&&e.onShow()},Uc=function(){mt()},Vl=function(){On.clear(S.current),e.onHide&&e.onHide()},Bl=function(){return e.appendTo==="self"||e.inline},Vc=function(){e.touchUI?zl():S&&S.current&&w&&w.current&&(N.alignOverlay(S.current,w.current,e.appendTo||ht.appendTo),Bl()?N.relativePosition(S.current,w.current):(Se==="date"?(S.current.style.width=N.getOuterWidth(S.current)+"px",S.current.style.minWidth=N.getOuterWidth(w.current)+"px"):S.current.style.width=N.getOuterWidth(w.current)+"px",N.absolutePosition(S.current,w.current)))},zl=function(){L.current||(L.current=document.createElement("div"),L.current.style.zIndex=String(On.get(S.current)-1),N.addMultipleClasses(L.current,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay-enter"),ae.current=function(){Ts(),jr()},L.current.addEventListener("click",ae.current),document.body.appendChild(L.current),N.addClass(document.body,"p-overflow-hidden"))},Ts=function(){L.current&&(N.addClass(L.current,"p-component-overlay-leave"),L.current.addEventListener("animationend",function(){Vh()}))},Vh=function(){L.current&&(L.current.removeEventListener("click",ae.current),ae.current=null,document.body.removeChild(L.current),L.current=null);for(var m=document.body.children,g,T=0;T<m.length;T++){var b=m[T];if(N.hasClass(b,"p-datepicker-mask-scrollblocker")){g=!0;break}}g||N.removeClass(document.body,"p-overflow-hidden")},Bh=function(m){return E.current&&!(E.current.isSameNode(m.target)||Bc(m.target)||E.current.contains(m.target)||S.current&&S.current.contains(m.target))},Bc=function(m){return N.hasClass(m,"p-datepicker-prev")||N.hasClass(m,"p-datepicker-prev-icon")||N.hasClass(m,"p-datepicker-next")||N.hasClass(m,"p-datepicker-next-icon")},zh=function(m,g){var T=new Date;T.setDate(1),T.setMonth(m),T.setFullYear(g);var b=T.getDay()+hy();return b>=7?b-7:b},zc=function(m,g){return 32-Hc(new Date(g,m,32)).getDate()},dy=function(m,g){var T=Wc(m,g);return zc(T.month,T.year)},Hc=function(m){return m?(m.setHours(m.getHours()>12?m.getHours()+2:0),m):null},Wc=function(m,g){var T,b;return m===0?(T=11,b=g-1):(T=m-1,b=g),{month:T,year:b}},fy=function(m,g){var T,b;return m===11?(T=0,b=g+1):(T=m+1,b=g),{month:T,year:b}},hy=function(){var m=Kn("firstDayOfWeek",e.locale);return m>0?7-m:0},my=function(){for(var m=[],g=Su(e.locale),T=g.firstDayOfWeek,b=g.dayNamesMin,Y=0;Y<7;Y++)m.push(b[T]),T=T===6?0:++T;return m},Kc=function(m,g){for(var T=[],b=0;b<e.numberOfMonths;b++){var Y=m+b,Re=g;Y>11&&(Y=Y%11-1,Re=g+1),T.push(gy(Y,Re))}return T},gy=function(m,g){for(var T=[],b=zh(m,g),Y=zc(m,g),Re=dy(m,g),je=1,at=new Date,bt=[],sn=Math.ceil((Y+b)/7),Ur=0;Ur<sn;Ur++){var tn=[];if(Ur===0){for(var Qt=Re-b+1;Qt<=Re;Qt++){var dr=Wc(m,g);tn.push({day:Qt,month:dr.month,year:dr.year,otherMonth:!0,today:wa(at,Qt,dr.month,dr.year),selectable:Ki(Qt,dr.month,dr.year,!0)})}for(var Zn=7-tn.length,si=0;si<Zn;si++)tn.push({day:je,month:m,year:g,today:wa(at,je,m,g),selectable:Ki(je,m,g,!1)}),je++}else for(var yo=0;yo<7;yo++){if(je>Y){var er=fy(m,g);tn.push({day:je-Y,month:er.month,year:er.year,otherMonth:!0,today:wa(at,je-Y,er.month,er.year),selectable:Ki(je-Y,er.month,er.year,!0)})}else tn.push({day:je,month:m,year:g,today:wa(at,je,m,g),selectable:Ki(je,m,g,!1)});je++}e.showWeek&&bt.push(vy(new Date(tn[0].year,tn[0].month,tn[0].day))),T.push(tn)}return{month:m,year:g,dates:T,weekNumbers:bt}},vy=function(m){var g=new Date(m.getTime());g.setDate(g.getDate()+4-(g.getDay()||7));var T=g.getTime();return g.setMonth(0),g.setDate(1),Math.floor(Math.round((T-g.getTime())/864e5)/7)+1},Ki=function(m,g,T,b){var Y=!0,Re=!0,je=!0,at=!0,bt=!0;return e.minDate&&(e.minDate.getFullYear()>T||e.minDate.getFullYear()===T&&(e.minDate.getMonth()>g||e.minDate.getMonth()===g&&m>0&&e.minDate.getDate()>m))&&(Y=!1),e.maxDate&&(e.maxDate.getFullYear()<T||e.maxDate.getFullYear()===T&&(e.maxDate.getMonth()<g||e.maxDate.getMonth()===g&&m>0&&e.maxDate.getDate()<m))&&(Re=!1),e.disabledDates&&(je=!wy(m,g,T)),e.disabledDays&&(at=!Ey(m,g,T)),e.selectOtherMonths===!1&&b&&(bt=!1),Y&&Re&&je&&at&&bt},Hh=function(m){var g=!0,T=!0;return e.minDate&&e.minDate.toDateString()===m.toDateString()&&(e.minDate.getHours()>m.getHours()||e.minDate.getHours()===m.getHours()&&(e.minDate.getMinutes()>m.getMinutes()||e.minDate.getMinutes()===m.getMinutes()&&(e.minDate.getSeconds()>m.getSeconds()||e.minDate.getSeconds()===m.getSeconds()&&e.minDate.getMilliseconds()>m.getMilliseconds())))&&(g=!1),e.maxDate&&e.maxDate.toDateString()===m.toDateString()&&(e.maxDate.getHours()<m.getHours()||e.maxDate.getHours()===m.getHours()&&(e.maxDate.getMinutes()<m.getMinutes()||e.maxDate.getMinutes()===m.getMinutes()&&(e.maxDate.getSeconds()<m.getSeconds()||e.maxDate.getSeconds()===m.getSeconds()&&e.maxDate.getMilliseconds()<m.getMilliseconds())))&&(T=!1),g&&T},Gc=function(m){if(e.value){if(jo())return Fo(e.value,m);if(Jn()){var g=!1,T=qD(e.value),b;try{for(T.s();!(b=T.n()).done;){var Y=b.value;if(g=Fo(Y,m),g)break}}catch(Re){T.e(Re)}finally{T.f()}return g}else if(Xn())return e.value[1]?Fo(e.value[0],m)||Fo(e.value[1],m)||yy(e.value[0],e.value[1],m):Fo(e.value[0],m)}else return!1},Ti=function(){return e.value!=null&&typeof e.value!="string"},Wh=function(m){if(Ti()){var g=Xn()?e.value[0]:e.value;return Jn()?!1:g.getMonth()===m&&g.getFullYear()===de}return!1},py=function(m){if(Ti()){var g=Xn()?e.value[0]:e.value;return!Jn()&&Ti()?g.getFullYear()===m:!1}return!1},Kh=function(){return e.numberOfMonths>1||e.disabled},Fo=function(m,g){return m&&m instanceof Date?m.getDate()===g.day&&m.getMonth()===g.month&&m.getFullYear()===g.year:!1},yy=function(m,g,T){var b=!1;if(m&&g){var Y=new Date(T.year,T.month,T.day);return m.getTime()<=Y.getTime()&&g.getTime()>=Y.getTime()}return b},jo=function(){return e.selectionMode==="single"},Xn=function(){return e.selectionMode==="range"},Jn=function(){return e.selectionMode==="multiple"},wa=function(m,g,T,b){return m.getDate()===g&&m.getMonth()===T&&m.getFullYear()===b},wy=function(m,g,T){return e.disabledDates?e.disabledDates.some(function(b){return b.getFullYear()===T&&b.getMonth()===g&&b.getDate()===m}):!1},Ey=function(m,g,T){if(e.disabledDays){var b=new Date(T,g,m),Y=b.getDay();return e.disabledDays.indexOf(Y)!==-1}return!1},po=function(m){if(w.current){var g="";if(m)try{if(jo())g=M(m)?Hl(m):e.keepInvalid?m:"";else if(Jn())for(var T=0;T<m.length;T++){var b=m[T],Y=M(b)?Hl(b):"";g+=Y,T!==m.length-1&&(g+=", ")}else if(Xn()&&m&&m.length){var Re=m[0],je=m[1];g=M(Re)?Hl(Re):"",je&&(g+=M(je)?" - "+Hl(je):"")}}catch{g=m}w.current.value=g}},Hl=function(m){if(e.formatDateTime)return e.formatDateTime(m);var g=null;return m&&(e.timeOnly?g=Gh(m):(g=_y(m,It()),e.showTime&&(g+=" "+Gh(m)))),g},_y=function(m,g){if(!m)return"";var T,b=function(Zn){var si=T+1<g.length&&g.charAt(T+1)===Zn;return si&&T++,si},Y=function(Zn,si,yo){var er=""+si;if(b(Zn))for(;er.length<yo;)er="0"+er;return er},Re=function(Zn,si,yo,er){return b(Zn)?er[si]:yo[si]},je="",at=!1,bt=Su(e.locale),sn=bt.dayNamesShort,Ur=bt.dayNames,tn=bt.monthNamesShort,Qt=bt.monthNames;if(m)for(T=0;T<g.length;T++)if(at)g.charAt(T)==="'"&&!b("'")?at=!1:je+=g.charAt(T);else switch(g.charAt(T)){case"d":je+=Y("d",m.getDate(),2);break;case"D":je+=Re("D",m.getDay(),sn,Ur);break;case"o":je+=Y("o",Math.round((new Date(m.getFullYear(),m.getMonth(),m.getDate()).getTime()-new Date(m.getFullYear(),0,0).getTime())/864e5),3);break;case"m":je+=Y("m",m.getMonth()+1,2);break;case"M":je+=Re("M",m.getMonth(),tn,Qt);break;case"y":je+=b("y")?m.getFullYear():(m.getFullYear()%100<10?"0":"")+m.getFullYear()%100;break;case"@":je+=m.getTime();break;case"!":je+=m.getTime()*1e4+ticksTo1970;break;case"'":b("'")?je+="'":at=!0;break;default:je+=g.charAt(T)}return je},Gh=function(m){if(!m)return"";var g="",T=m.getHours(),b=m.getMinutes(),Y=m.getSeconds(),Re=m.getMilliseconds();return e.hourFormat==="12"&&T>11&&T!==12&&(T-=12),e.hourFormat==="12"?g+=T===0?12:T<10?"0"+T:T:g+=T<10?"0"+T:T,g+=":",g+=b<10?"0"+b:b,e.showSeconds&&(g+=":",g+=Y<10?"0"+Y:Y),e.showMillisec&&(g+=".",g+=Re<100?(Re<10?"00":"0")+Re:Re),e.hourFormat==="12"&&(g+=m.getHours()>11?" PM":" AM"),g},Sy=function(m){if(!m||m.trim().length===0)return null;var g;if(jo())g=Wl(m);else if(Jn()){var T=m.split(",");g=[];var b=qD(T),Y;try{for(b.s();!(Y=b.n()).done;){var Re=Y.value;g.push(Wl(Re.trim()))}}catch(bt){b.e(bt)}finally{b.f()}}else if(Xn()){var je=m.split(" - ");g=[];for(var at=0;at<je.length;at++)g[at]=Wl(je[at].trim())}return g},Wl=function(m){if(e.parseDateTime)return e.parseDateTime(m);var g,T=m.split(" ");return e.timeOnly?(g=new Date,qh(g,T[0],T[1])):e.showTime?(g=Yh(T[0],It()),qh(g,T[1],T[2])):g=Yh(m,It()),g},qh=function(m,g,T){if(e.hourFormat==="12"&&T!=="PM"&&T!=="AM")throw new Error("Invalid Time");var b=by(g,T);m.setHours(b.hour),m.setMinutes(b.minute),m.setSeconds(b.second),m.setMilliseconds(b.millisecond)},by=function(m,g){m=e.showMillisec?m.replace(".",":"):m;var T=m.split(":"),b=e.showSeconds?3:2;if(b=e.showMillisec?b+1:b,T.length!==b||T[0].length!==2||T[1].length!==2||e.showSeconds&&T[2].length!==2||e.showMillisec&&T[3].length!==3)throw new Error("Invalid time");var Y=parseInt(T[0],10),Re=parseInt(T[1],10),je=e.showSeconds?parseInt(T[2],10):null,at=e.showMillisec?parseInt(T[3],10):null;if(isNaN(Y)||isNaN(Re)||Y>23||Re>59||e.hourFormat==="12"&&Y>12||e.showSeconds&&(isNaN(je)||je>59)||e.showMillisec&&(isNaN(je)||je>1e3))throw new Error("Invalid time");return e.hourFormat==="12"&&Y!==12&&g==="PM"&&(Y+=12),{hour:Y,minute:Re,second:je,millisecond:at}},Yh=function(m,g){if(g==null||m==null)throw new Error("Invalid arguments");if(m=vc(m)==="object"?m.toString():m+"",m==="")return null;var T,b,Y,Re=0,je=typeof e.shortYearCutoff!="string"?e.shortYearCutoff:new Date().getFullYear()%100+parseInt(e.shortYearCutoff,10),at=-1,bt=-1,sn=-1,Ur=-1,tn=!1,Qt,dr=function(wo){var Yl=T+1<g.length&&g.charAt(T+1)===wo;return Yl&&T++,Yl},Zn=function(wo){var Yl=dr(wo),em=wo==="@"?14:wo==="!"?20:wo==="y"&&Yl?4:wo==="o"?3:2,Zc=wo==="y"?em:1,tm=new RegExp("^\\d{"+Zc+","+em+"}"),Uo=m.substring(Re).match(tm);if(!Uo)throw new Error("Missing number at position "+Re);return Re+=Uo[0].length,parseInt(Uo[0],10)},si=function(wo,Yl,em){for(var Zc=-1,tm=dr(wo)?em:Yl,Uo=[],nm=0;nm<tm.length;nm++)Uo.push([nm,tm[nm]]);Uo.sort(function(j2,U2){return-(j2[1].length-U2[1].length)});for(var rm=0;rm<Uo.length;rm++){var $y=Uo[rm][1];if(m.substr(Re,$y.length).toLowerCase()===$y.toLowerCase()){Zc=Uo[rm][0],Re+=$y.length;break}}if(Zc!==-1)return Zc+1;throw new Error("Unknown name at position "+Re)},yo=function(){if(m.charAt(Re)!==g.charAt(T))throw new Error("Unexpected literal at position "+Re);Re++};e.view==="month"&&(sn=1);var er=Su(e.locale),P2=er.dayNamesShort,L2=er.dayNames,$2=er.monthNamesShort,F2=er.monthNames;for(T=0;T<g.length;T++)if(tn)g.charAt(T)==="'"&&!dr("'")?tn=!1:yo();else switch(g.charAt(T)){case"d":sn=Zn("d");break;case"D":si("D",P2,L2);break;case"o":Ur=Zn("o");break;case"m":bt=Zn("m");break;case"M":bt=si("M",$2,F2);break;case"y":at=Zn("y");break;case"@":Qt=new Date(Zn("@")),at=Qt.getFullYear(),bt=Qt.getMonth()+1,sn=Qt.getDate();break;case"!":Qt=new Date((Zn("!")-ticksTo1970)/1e4),at=Qt.getFullYear(),bt=Qt.getMonth()+1,sn=Qt.getDate();break;case"'":dr("'")?yo():tn=!0;break;default:yo()}if(Re<m.length&&(Y=m.substr(Re),!/^\s+/.test(Y)))throw new Error("Extra/unparsed characters found in date: "+Y);if(at===-1?at=new Date().getFullYear():at<100&&(at+=new Date().getFullYear()-new Date().getFullYear()%100+(at<=je?0:-100)),Ur>-1){bt=1,sn=Ur;do{if(b=zc(at,bt-1),sn<=b)break;bt++,sn-=b}while(!0)}if(Qt=Hc(new Date(at,bt-1,sn)),Qt.getFullYear()!==at||Qt.getMonth()+1!==bt||Qt.getDate()!==sn)throw new Error("Invalid date");return Qt},Qh=function(m){return e.minDate&&e.minDate.getFullYear()===m.getFullYear()},Kl=function(m){return e.maxDate&&e.maxDate.getFullYear()===m.getFullYear()};d.useEffect(function(){W.combinedRefs(w,e.inputRef)},[w,e.inputRef]),ho(function(){var H=null,m=nt(e.viewDate);return R(m),_(m),ee(m.getMonth()),te(m.getFullYear()),qe(e.view),e.inline?(S&&S.current.setAttribute(dt,""),e.disabled||(F(),e.numberOfMonths===1&&(S.current.style.width=N.getOuterWidth(S.current)+"px"))):e.mask&&(H=SW(w.current,{mask:e.mask,readOnly:e.readOnlyInput||e.disabled,onChange:function(T){!ue.current&&$(T.originalEvent,T.value),ue.current=!1},onBlur:function(){ue.current=!0}}).unbindEvents),e.value&&(po(e.value),qc(e.value)),function(){e.mask&&H()}}),Mt(function(){qe(e.view)},[e.view]),Mt(function(){!e.onViewDateChange&&!P.current&&qc(e.value)},[e.onViewDateChange,e.value]),Mt(function(){var H=e.value;if(Fe!==H&&(po(H),!et&&H)){var m=H;if(Jn())H.length&&(m=H[H.length-1]);else if(Xn()&&H.length){var g=H[0],T=H[1];m=T||g}m instanceof Date&&(R(m),_(m),ee(m.getMonth()),te(m.getFullYear()))}},[e.value,et]),Mt(function(){po(e.value)},[e.dateFormat,e.hourFormat,e.timeOnly,e.showSeconds,e.showMillisec]),Mt(function(){S.current&&(ye(v),be())}),qr(function(){L.current&&(Ts(),L.current=null),On.clear(S.current)}),d.useImperativeHandle(t,function(){return{props:e,show:Wi,hide:jr,getCurrentDateTime:ge,getViewDate:nt,updateViewDate:Z,getElement:function(){return E.current},getOverlay:function(){return S.current},getInput:function(){return w.current}}});var qc=function(m){Array.isArray(m)&&(m=m[0]);var g=Fe;if(Array.isArray(g)&&(g=g[0]),!g&&m||m&&m instanceof Date&&m.getTime()!==g.getTime()){var T=e.viewDate&&M(e.viewDate)?e.viewDate:m&&M(m)?m:new Date;R(T),_(T),P.current=!0}},Yc=function(m){var g=m?{onClick:me,onKeyDown:function(b){return _e(b)}}:{style:{visibility:"hidden"}};return d.createElement("button",rf({type:"button",className:"p-datepicker-prev"},g),d.createElement("span",{className:"p-datepicker-prev-icon pi pi-chevron-left"}),d.createElement($t,null))},Xh=function(m){var g=m?{onClick:V,onKeyDown:function(b){return _e(b)}}:{style:{visibility:"hidden"}};return d.createElement("button",rf({type:"button",className:"p-datepicker-next"},g),d.createElement("span",{className:"p-datepicker-next-icon pi pi-chevron-right"}),d.createElement($t,null))},Jh=function(m){var g=Kn("monthNames",e.locale);if(e.monthNavigator&&e.view!=="month"){var T=nt(),b=T.getMonth(),Y=g.map(function(bt,sn){return(!Qh(T)||sn>=e.minDate.getMonth())&&(!Kl(T)||sn<=e.maxDate.getMonth())?{label:bt,value:sn,index:sn}:null}).filter(function(bt){return!!bt}),Re=Y.map(function(bt){return bt.label}),je=d.createElement("select",{className:"p-datepicker-month",onChange:function(sn){return _t(sn,sn.target.value)},value:b},Y.map(function(bt){return d.createElement("option",{key:bt.label,value:bt.value},bt.label)}));if(e.monthNavigatorTemplate){var at={onChange:_t,className:"p-datepicker-month",value:b,names:Re,options:Y,element:je,props:e};return W.getJSXElement(e.monthNavigatorTemplate,at)}return je}return Se==="date"&&d.createElement("button",{className:"p-datepicker-month p-link",onClick:Rt,disabled:Kh()},g[m])},Qc=function(){if(e.yearNavigator){for(var m=[],g=e.yearRange.split(":"),T=parseInt(g[0],10),b=parseInt(g[1],10),Y=T;Y<=b;Y++)m.push(Y);var Re=nt(),je=Re.getFullYear(),at=m.filter(function(tn){return!(e.minDate&&e.minDate.getFullYear()>tn)&&!(e.maxDate&&e.maxDate.getFullYear()<tn)}),bt=d.createElement("select",{className:"p-datepicker-year",onChange:function(Qt){return an(Qt,Qt.target.value)},value:je},at.map(function(tn){return d.createElement("option",{key:tn,value:tn},tn)}));if(e.yearNavigatorTemplate){var sn=at.map(function(tn,Qt){return{label:tn,value:tn,index:Qt}}),Ur={onChange:an,className:"p-datepicker-year",value:je,names:at,options:sn,element:bt,props:e};return W.getJSXElement(e.yearNavigatorTemplate,Ur)}return bt}return Se!=="year"&&d.createElement("button",{className:"p-datepicker-year p-link",onClick:cn,disabled:Kh()},de)},Zh=function(){var m=D();return Se==="year"?d.createElement("span",{className:"p-datepicker-decade"},e.decadeTemplate?e.decadeTemplate(m):d.createElement("span",null,"".concat(D()[0]," - ").concat(D()[D().length-1]))):null},Cy=function(m){var g=Jh(m.month),T=Qc(m.year),b=Zh();return d.createElement("div",{className:"p-datepicker-title"},g,T,b)},Ty=function(m){var g=m.map(function(b,Y){return d.createElement("th",{key:"".concat(b,"-").concat(Y),scope:"col"},d.createElement("span",null,b))});if(e.showWeek){var T=d.createElement("th",{scope:"col",key:"wn",className:"p-datepicker-weekheader p-disabled"},d.createElement("span",null,Kn("weekHeader",e.locale)));return[T].concat(Bm(g))}return g},Iy=function(m,g,T){var b=e.dateTemplate?e.dateTemplate(m):m.day;return d.createElement("span",{className:g,onClick:function(Re){return rt(Re,m)},onKeyDown:function(Re){return fe(Re,m,T)}},b,d.createElement($t,null))},Ry=function(m,g,T){var b=m.map(function(Re){var je=Gc(Re),at=Ge({"p-datepicker-other-month":Re.otherMonth,"p-datepicker-today":Re.today}),bt=Ge({"p-highlight":je,"p-disabled":!Re.selectable}),sn=Re.otherMonth&&!e.showOtherMonths?null:Iy(Re,bt,T);return d.createElement("td",{key:Re.day,className:at},sn)});if(e.showWeek){var Y=d.createElement("td",{key:"wn"+g,className:"p-datepicker-weeknumber"},d.createElement("span",{className:"p-disabled"},g));return[Y].concat(Bm(b))}return b},ky=function(m,g){return m.dates.map(function(T,b){return d.createElement("tr",{key:b},Ry(T,m.weekNumbers[b],g))})},Dy=function(m,g,T){var b=Ty(g),Y=ky(m,T);return Se==="date"&&d.createElement("div",{className:"p-datepicker-calendar-container"},d.createElement("table",{className:"p-datepicker-calendar"},d.createElement("thead",null,d.createElement("tr",null,b)),d.createElement("tbody",null,Y)))},Ay=function(m,g){var T=my(),b=Yc(g===0),Y=Xh(e.numberOfMonths===1||g===e.numberOfMonths-1),Re=Cy(m),je=Dy(m,T,g),at=e.headerTemplate?e.headerTemplate():null;return d.createElement("div",{key:m.month,className:"p-datepicker-group"},d.createElement("div",{className:"p-datepicker-header"},at,b,Re,Y),je)},Ny=function(m){var g=m.map(Ay);return d.createElement("div",{className:"p-datepicker-group-container"},g)},Oy=function(){var m=nt(),g=Kc(m.getMonth(),m.getFullYear()),T=Ny(g);return T},Me=function(){for(var m=[],g=Kn("monthNamesShort",e.locale),T=0;T<=11;T++)m.push(g[T]);return m},D=function(){for(var m=[],g=de-de%10,T=0;T<10;T++)m.push(g+T);return m},z=function(){var m=Yc(!0),g=Xh(!0),T=Qc(nt().getFullYear()),b=Zh();return d.createElement(d.Fragment,null,d.createElement("div",{className:"p-datepicker-group-container"},d.createElement("div",{className:"p-datepicker-group"},d.createElement("div",{className:"p-datepicker-header"},m,d.createElement("div",{className:"p-datepicker-title"},T,b),g))))},pe=function(){return e.timeOnly?null:e.view==="date"?Oy():z()},Te=function(){var m=ge(),g=m.getHours();e.hourFormat==="12"&&(g===0?g=12:g>11&&g!==12&&(g=g-12));var T=g<10?"0"+g:g;return d.createElement("div",{className:"p-hour-picker"},d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,0,1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-up"}),d.createElement($t,null)),d.createElement("span",null,T),d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,0,-1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-down"}),d.createElement($t,null)))},$e=function(){var m=ge(),g=m.getMinutes(),T=g<10?"0"+g:g;return d.createElement("div",{className:"p-minute-picker"},d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,1,1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-up"}),d.createElement($t,null)),d.createElement("span",null,T),d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,1,-1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-down"}),d.createElement($t,null)))},Pe=function(){if(e.showSeconds){var m=ge(),g=m.getSeconds(),T=g<10?"0"+g:g;return d.createElement("div",{className:"p-second-picker"},d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,2,1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-up"}),d.createElement($t,null)),d.createElement("span",null,T),d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,2,-1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-down"}),d.createElement($t,null)))}return null},Be=function(){if(e.showMillisec){var m=ge(),g=m.getMilliseconds(),T=g<100?(g<10?"00":"0")+g:g;return d.createElement("div",{className:"p-millisecond-picker"},d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,3,1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-up"}),d.createElement($t,null)),d.createElement("span",null,T),d.createElement("button",{type:"button",className:"p-link",onMouseDown:function(Y){return qt(Y,3,-1)},onMouseUp:en,onMouseLeave:Yt,onKeyDown:function(Y){return _e(Y)}},d.createElement("span",{className:"pi pi-chevron-down"}),d.createElement($t,null)))}return null},He=function(){if(e.hourFormat==="12"){var m=ge(),g=m.getHours(),T=g>11?"PM":"AM";return d.createElement("div",{className:"p-ampm-picker"},d.createElement("button",{type:"button",className:"p-link",onClick:Je},d.createElement("span",{className:"pi pi-chevron-up"}),d.createElement($t,null)),d.createElement("span",null,T),d.createElement("button",{type:"button",className:"p-link",onClick:Je},d.createElement("span",{className:"pi pi-chevron-down"}),d.createElement($t,null)))}return null},St=function(m){return d.createElement("div",{className:"p-separator"},d.createElement("span",null,m))},Dt=function(){return(e.showTime||e.timeOnly)&&Se==="date"?d.createElement("div",{className:"p-timepicker"},Te(),St(":"),$e(),e.showSeconds&&St(":"),Pe(),e.showMillisec&&St("."),Be(),e.hourFormat==="12"&&St(":"),He()):null},Wn=function(){return e.inline?null:d.createElement(Es,{ref:w,id:e.inputId,name:e.name,type:"text",className:e.inputClassName,style:e.inputStyle,readOnly:e.readOnlyInput,disabled:e.disabled,required:e.required,autoComplete:"off",placeholder:e.placeholder,tabIndex:e.tabIndex,onInput:Vt,onFocus:kt,onBlur:Ht,onKeyDown:Pt,"aria-labelledby":e.ariaLabelledBy,inputMode:e.inputMode,tooltip:e.tooltip,tooltipOptions:e.tooltipOptions})},fn=function(){return e.showIcon?d.createElement(xn,{type:"button",icon:e.icon,onClick:ze,tabIndex:"-1",disabled:e.disabled,className:"p-datepicker-trigger"}):null},Kt=function(){var m=Wn(),g=fn();return e.iconPos==="left"?d.createElement(d.Fragment,null,g,m):d.createElement(d.Fragment,null,m,g)},Gi=function(){if(e.showButtonBar){var m=Ge("p-button-text",e.todayButtonClassName),g=Ge("p-button-text",e.clearButtonClassName),T=Su(e.locale),b=T.today,Y=T.clear;return d.createElement("div",{className:"p-datepicker-buttonbar"},d.createElement(xn,{type:"button",label:b,onClick:Zt,onKeyDown:function(je){return _e(je)},className:m}),d.createElement(xn,{type:"button",label:Y,onClick:Tt,onKeyDown:function(je){return _e(je)},className:g}))}return null},Gl=function(){if(e.footerTemplate){var m=e.footerTemplate();return d.createElement("div",{className:"p-datepicker-footer"},m)}return null},Xc=function(){return Se==="month"?d.createElement("div",{className:"p-monthpicker"},Me().map(function(m,g){return d.createElement("span",{onClick:function(b){return ai(b,g)},key:"month".concat(g+1),className:Ge("p-monthpicker-month",{"p-highlight":Wh(g),"p-disabled":!Ki(0,g,de)})},m)})):null},xy=function(){return Se==="year"?d.createElement("div",{className:"p-yearpicker"},D().map(function(m,g){return d.createElement("span",{onClick:function(b){return vo(b,m)},key:"year".concat(g+1),className:Ge("p-yearpicker-year",{"p-highlight":py(m),"p-disabled":!Ki(0,0,m)})},m)})):null},My=W.findDiffKeys(e,cy.defaultProps),Py=Ge("p-calendar p-component p-inputwrapper",e.className,(n={},yd(n,"p-calendar-w-btn p-calendar-w-btn-".concat(e.iconPos),e.showIcon),yd(n,"p-calendar-disabled",e.disabled),yd(n,"p-calendar-timeonly",e.timeOnly),yd(n,"p-inputwrapper-filled",e.value||N.hasClass(w.current,"p-filled")&&w.current.value!==""),yd(n,"p-inputwrapper-focus",o),n)),Jc=Ge("p-datepicker p-component",e.panelClassName,{"p-datepicker-inline":e.inline,"p-disabled":e.disabled,"p-datepicker-timeonly":e.timeOnly,"p-datepicker-multiple-month":e.numberOfMonths>1,"p-datepicker-monthpicker":Se==="month","p-datepicker-touch-ui":e.touchUI}),ql=Kt(),D2=pe(),A2=Dt(),N2=Gi(),O2=Gl(),x2=Xc(),M2=xy();return d.createElement("span",rf({ref:E,id:e.id,className:Py,style:e.style},My),ql,d.createElement(k2,{ref:S,className:Jc,style:e.panelStyle,appendTo:e.appendTo,inline:e.inline,onClick:Wt,onMouseUp:In,in:et,onEnter:jl,onEntered:Ul,onExit:Uc,onExited:Vl,transitionOptions:e.transitionOptions},D2,A2,x2,M2,N2,O2))}));cy.displayName="Calendar";cy.defaultProps={__TYPE:"Calendar",appendTo:null,ariaLabelledBy:null,autoZIndex:!0,baseZIndex:0,className:null,clearButtonClassName:"p-button-secondary",dateFormat:null,dateTemplate:null,decadeTemplate:null,disabled:!1,disabledDates:null,disabledDays:null,footerTemplate:null,headerTemplate:null,hideOnDateTimeSelect:!1,hourFormat:"24",icon:"pi pi-calendar",iconPos:"right",id:null,inline:!1,inputClassName:null,inputId:null,inputMode:"none",inputRef:null,inputStyle:null,keepInvalid:!1,locale:null,mask:null,maxDate:null,maxDateCount:null,minDate:null,monthNavigator:!1,monthNavigatorTemplate:null,name:null,numberOfMonths:1,onBlur:null,onChange:null,onClearButtonClick:null,onFocus:null,onHide:null,onInput:null,onMonthChange:null,onSelect:null,onShow:null,onTodayButtonClick:null,onViewDateChange:null,onVisibleChange:null,panelClassName:null,panelStyle:null,placeholder:null,readOnlyInput:!1,required:!1,selectOtherMonths:!1,selectionMode:"single",shortYearCutoff:"+10",showButtonBar:!1,showIcon:!1,showMillisec:!1,showMinMaxRange:!1,showOnFocus:!0,showOtherMonths:!0,showSeconds:!1,showTime:!1,showWeek:!1,stepHour:1,stepMillisec:1,stepMinute:1,stepSecond:1,style:null,tabIndex:null,timeOnly:!1,todayButtonClassName:"p-button-secondary",tooltip:null,tooltipOptions:null,touchUI:!1,transitionOptions:null,value:null,view:"date",viewDate:null,visible:!1,yearNavigator:!1,yearNavigatorTemplate:null,yearRange:null};const Foe=e=>{const t=d.useRef(null),[n,r]=d.useState([]),[i,o]=d.useState([]),a={iduser:"",idlivre:"",date:""},s=new uy,l=new Gp;d.useEffect(()=>{s.getAll().then(p=>{let y=[];p.forEach(C=>{let A={...C.data(),iduser:C.id};A.nom_complet=A.prenom+" "+A.nom,y.push(A)}),r(y),f(!1)}).catch(p=>{console.log("Error getting documents: ",p),f(!1)}),l.getAll().then(p=>{let y=[];p.forEach(C=>{let A={...C.data(),idlivre:C.id};y.push(A)}),o(y),f(!1)}).catch(p=>{console.log("Error getting documents: ",p),f(!1)})},[]),d.useEffect(()=>{e.display&&(e.status==1||e.status==2?u.setValues(e.selectedRow):u.setValues(a))},[e.display]);const u=TT({initialValues:a,validate:p=>({}),onSubmit:p=>{p&&w(p)}}),[c,f]=d.useState(!1),h=4e3,v=(p,y,C)=>{if(e.status==1)return y;if(e.status==2)return C;if(e.status==0)return p},_=()=>{let p=v("Ajouter","Modifier","Supprimer"),y=v("p-button-success","p-button-warning","p-button-danger");return oe.jsxs("div",{children:[oe.jsx(xn,{label:"Annuler",icon:"pi pi-times",onClick:()=>E(!1),className:"p-button-text"}),oe.jsx(xn,{label:p,icon:"pi pi-check",className:y,onClick:u.submitForm,autoFocus:!0,loading:c})]})},E=p=>{e.setDisplay(p)},S=new I2,w=p=>{let y=v("Ajouter avec succs","Modifi avec succs","Supprimer avec succs");f(!0);const C=()=>{t.current.show({severity:"success",summary:y,life:h}),E(!1),e.setRefresh({...p}),f(!1)},A=()=>{t.current.show({severity:"error",summary:"Erreur",life:h}),f(!1)};switch(e.status){case 0:S.create(p).then(P=>{C()}).catch(P=>{A()});break;case 1:S.update(p).then(P=>{C()}).catch(P=>{A()});break;case 2:S.delete(p).then(P=>{C()}).catch(P=>{A()});break}};return oe.jsxs(oe.Fragment,{children:[oe.jsx(jc,{ref:t}),oe.jsx($c,{header:()=>{var p,y;return v("Ajouter un Livre",`Modifier Livre N ${(p=e.selectedRow)==null?void 0:p.numero}`,`Supprimer Livre N ${(y=e.selectedRow)==null?void 0:y.numero}`)},visible:e.display,style:{width:"50vw"},footer:_(),onHide:()=>e.setDisplay(!1),children:e.status!=2&&oe.jsx("form",{onSubmit:u.handleSubmit,className:"flex flex-column gap-2 ",children:oe.jsxs("div",{className:"p-fluid p-formgrid p-grid",children:[oe.jsx(as,{value:u.values.iduser,onChange:p=>u.setFieldValue("iduser",p.value),options:n,optionLabel:"nom_complet",optionValue:"iduser",placeholder:"Utilisateur",filter:!0,className:"w-75 mt-2"}),oe.jsx(as,{value:u.values.idlivre,onChange:p=>u.setFieldValue("idlivre",p.value),options:i,optionLabel:"numero",optionValue:"idlivre",placeholder:"Livre",filter:!0,className:"w-75 mt-4"}),oe.jsx(oe.Fragment,{children:oe.jsx(cy,{value:u.values.date,onChange:p=>u.setFieldValue("date",p.value),showIcon:!0,className:"w-75 mt-4",placeholder:"Date"})})]})})})]})},joe=e=>{const t={ADD:0,EDIT:1,DELETE:2},[n,r]=d.useState(null),[i,o]=d.useState(),[a,s]=d.useState(!1),l=new I2,[u,c]=d.useState(null),[f,h]=d.useState([]);d.useEffect(()=>{l.getJoinedData().then(C=>{h(C),w(!1)}).catch(C=>{console.log("Error getting documents: ",C),w(!1)})},[i]);const v=C=>{r(t.ADD),s(!0)},_=C=>{r(t.EDIT),s(!0),c(C)},E=C=>{c(C),r(t.DELETE),s(!0)},[S,w]=d.useState(!0),p=C=>oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"p-d-block",children:[oe.jsx(xn,{className:"p-button p-button-sm p-button-secondary my-custom-button",onClick:()=>_(C),icon:"pi pi-pencil"}),oe.jsx(xn,{className:"p-button p-button-sm p-button-danger my-custom-button",icon:"pi pi-trash",onClick:()=>E(C)})]})}),y=C=>C.date.toString();return oe.jsxs(oe.Fragment,{children:[oe.jsxs(Tc,{value:f,paginator:!0,rows:10,dataKey:"uid",filterDisplay:"row",loading:S,emptyMessage:"Aucune inscription.",size:"small",className:"card",header:oe.jsx("button",{onClick:v,className:"p-button p-button-sm p-button-success",icon:"pi pi-plus",children:"Add"}),children:[oe.jsx(Vn,{header:"N livre",field:"numero",filter:!0}),oe.jsx(Vn,{header:"Prenom",field:"prenom",filter:!0}),oe.jsx(Vn,{header:"Nom",field:"nom",filter:!0}),oe.jsx(Vn,{header:"Date",field:"date",filter:!0,body:y}),oe.jsx(Vn,{field:"actions",header:"Actions",body:p})]}),oe.jsx(Foe,{status:n,selectedRow:u,display:a,setDisplay:s,setRefresh:o})]})};function Uoe(){const e=["/","/livre","/usagers","/emprunts"];return oe.jsxs(oe.Fragment,{children:[oe.jsx(hW,{urls:e}),oe.jsx("div",{className:"container mt-3",children:oe.jsxs(rW,{children:[oe.jsx(Cd,{path:e[0],element:oe.jsx(mW,{})}),oe.jsx(Cd,{path:e[1],element:oe.jsx(Ioe,{})}),oe.jsx(Cd,{path:e[2],element:oe.jsx(koe,{})}),oe.jsx(Cd,{path:e[3],element:oe.jsx(joe,{})})]})})]})}mE.createRoot(document.getElementById("root")).render(oe.jsx(Ni.StrictMode,{children:oe.jsx(lW,{children:oe.jsx(Uoe,{})})}))});export default Voe();
